function $$(e){var t=arguments.length-1,i={},n=null,r=null;if("object"!=typeof arguments[t]||arguments[t].html||(i=arguments[t--]),r=/^([\w-]+)(#([\w-]+))?((\.[\w-]+)*)$/.exec(e)){n=jQuery(document.createElement(r[1]));for(var s in r[3]&&(n[0].id=r[3]),r[4]&&(n[0].className=r[4].replace(/\./g," ")),i)"hover"==s&&i[s]instanceof Array?n.hover(i[s][0],i[s][1]):jQuery.isFunction(i[s])?n.bind(s,i[s]):n.attr(s,i[s]);for(var o=1;o<=t;o++)n.append(arguments[o])}return n}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function setupTooltips(){var e=$("<span onmouseover=\"$(this).addClass('hover');\" onmouseout=\"$(this).removeClass('hover');\"></span>");$("span.tooltip").wrapInner(e),$("span.tooltip-label").wrapInner(e)}function setupHelps(){function t(){$(".popup.visible").addClass("transitioning").removeClass("visible"),$("html").removeClass("overlay"),setTimeout(function(){$(".popup").removeClass("transitioning")},200)}$(".help_button").click(function(){$("html").addClass("overlay");var e=$(this).attr("data-popup-target");$(e).addClass("visible")}),$(document).keyup(function(e){27==e.keyCode&&$("html").hasClass("overlay")&&t()}),$(".popup-exit").click(function(){t()}),$(".popup-overlay").click(function(){t()})}function toggleReportTBody(e){var t=document.getElementById(e+"Img"),i=document.getElementById(e+"Tbody"),n=document.getElementById(e+"Description"),r=document.getElementById(e+"Completed"),s=document.getElementById(e+"Progress");"none"==i.style.display?(-1!=navigator.userAgent.indexOf("MSIE")?(i.style.display="block",r.style.display="block",n.style.display="block"):(i.style.display="table-row-group",r.style.display="table-cell",n.style.display="table-cell"),s.style.display="none",t.src="/assets/dashboard/minus-a697b50ba5335ec397c99c156cb029b33943e578b3ea4126e34e15e78c4f295f.gif"):(i.style.display="none",n.style.display="none",r.style.display="none",-1!=navigator.userAgent.indexOf("MSIE")?s.style.display="block":s.style.display="table-cell",t.src="/assets/dashboard/plus-efbe27ef80340e7297657b26d9b93588e12ae40fc4fcd62e3e069eed1b7c8f44.gif")}function update_classrooms(e){var t=$(".choose_asp_form #classroom");e&&0<e.length?(1<e.length&&(t.append($("<option />").val("-").text("-- Please select a classroom --")),t.show()),load_dd(".choose_asp_form #classroom",e),1==e.length?(t.after($("<b id='noDD' />").text(e[0][0])),t.parent("form").submit()):disableAjaxDropdownSpinners()):(t.after($("<b id='noDD' />").text("No classrooms to display")),disableAjaxDropdownSpinners())}function toggleReportBody(e){var t=document.getElementById(e+"Img"),i=document.getElementById(e+"Body");"none"==i.style.display?(i.style.display="block",t.src="/assets/dashboard/minus-a697b50ba5335ec397c99c156cb029b33943e578b3ea4126e34e15e78c4f295f.gif"):(i.style.display="none",t.src="/assets/dashboard/plus-efbe27ef80340e7297657b26d9b93588e12ae40fc4fcd62e3e069eed1b7c8f44.gif")}function toggleGamesetTBody(e){var t=document.getElementById(e+"Img"),i=document.getElementById(e+"Tbody");"none"==i.style.display?(-1!=navigator.userAgent.indexOf("MSIE")?i.style.display="block":i.style.display="table-row-group",t.src="/assets/dashboard/minus-a697b50ba5335ec397c99c156cb029b33943e578b3ea4126e34e15e78c4f295f.gif"):(i.style.display="none",t.src="/assets/dashboard/plus-efbe27ef80340e7297657b26d9b93588e12ae40fc4fcd62e3e069eed1b7c8f44.gif")}function toggleFoldableObject(e,t){var i=document.getElementById(e);"none"==i.style.display?(i.style.display="block",$("#"+t).text("hide")):(i.style.display="none",$("#"+t).text("show"))}function toggleFoldableObjectWithText(e,t,i,n){var r=document.getElementById(e);"none"==r.style.display?(r.style.display="block",$("#"+t).text(i)):(r.style.display="none",$("#"+t).text(n))}function enableAjaxDropdownSpinner(e){0==$(e).siblings(".ajaxspinner").length&&e.after('<img class="ajaxspinner" src="/assets/forms/ajax-loader-small-e611bd10da5752d2c77c75664d6ec0cc16491d9d1d85012a753624374ccfeeae.gif" style="position:relative; top:5px; left: 5px;"/>')}function disableAjaxDropdownSpinners(){$(".ajaxspinner").remove()}function expandCollapseMessage(e){$(e).toggleClass("iconCollapse iconExpand"),objMessage=$(e).parents("div"),$(e).hasClass("iconExpand")?($(e).text("+"),$(objMessage).addClass("collapsed"),Set_Cookie($(objMessage).attr("id"),1,270,"/")):($(e).text("-"),$(objMessage).removeClass("collapsed"),Set_Cookie($(objMessage).attr("id"),0,270,"/"))}function pluralize_term(e,t,i){switch(i=void 0===i||i,e){case 1:return e+" "+t;default:return i?e+" "+t+"s":e+" "+t+"es"}}function bindRegionSelect(e,i,s){jQuery(function(t){var n=t("#"+e),r=t("#"+i);r.bind("change",function(){var e=r.val(),i=n.val();n.html(""),s[e]?(n.append("<option>-- Please select --</option>"),t.each(s[e],function(e,t){n.append('<option value="'+t[0]+'"'+(t[0]+""==i?' selected="selected"':"")+">"+t[1]+"</option>")})):n.append('<option value="">-- Other --</option>')})})}function getWidth(){return $(window).width()}function getHeight(){return $(window).height()}function onWindowResized(e){var t=document.getElementById(e);try{t.onAppResize()}catch(i){}}function reloadWindow(){window.location.reload(!0)}function onDblSizeReport(e,t){flashHeight==t&&flashWidth==e||(flashHeight=t,flashWidth=e,onWindowResized(swfName,flashWidth,flashHeight))}function onPageLoaded(){}function closeWindow(){window.close()}function SVGsupported(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}function call(e,t,i,n){if("active"==e&&(e="as"==asjsmode?"dreambox":"runtime"),"dreambox"==e||"topbar"==e||"bottombar"==e){var r=document.getElementById(swfName+("dreambox"==e?"":e));try{return r.callAS(e,t,i,n)}catch(s){}}else if(lrt4loaded)try{return callJS(e,t,i,n)}catch(s){try{document.getElementById(swfName).callAS("dreambox","call","onException",[s.message])}catch(s){}}}function canLoadHTML(){return-1===navigator.appVersion.indexOf("MSIE 10")&&function(){"use strict";return Function.prototype.bind&&!this}()}function loadHTML(e){if(lrt4loaded)run(e);else for(var t=["global","init","event","test"],i=t.length,n=0;n<t.length;n++){var r=e.substr(0,e.indexOf(".html?"))+"-"+t[n]+".js?"+e.substr(e.indexOf("staticversion=")),s=document.createElement("script");document.body.appendChild(s),s.onload=function(){0==--i&&(lrt4loaded=!0,run(e))},s.onerror=function(){try{document.getElementById(swfName).callAS("dreambox","call","onLoadError",[r])}catch(e){}},s.src=r}}function TogglePopup(e,t,i){var n=$("#popup");if(__popupDefinition&&__popupDefinition.hide(),__popupSource!=t&&n.hide(),t!=n[0]){var r="above"==i?-55:t.offsetHeight,s=$(t).offset();n.css("left",s.left),n.css("top",s.top+r),$($("#popup_"+e)[0]).show(),n.toggle();var o=n.offset().left;gap=document.body.offsetLeft+document.body.offsetWidth-(o+n.width()),gap<0&&n.css("left",o+gap-5+"px"),__popupSource=t,__popupDefinition=$($("#popup_"+e)[0])}}function extractTruncatedStringFromVersionString(e,t){var i=e.split("."),n=i[0];if(1<i.length)for(var r=0;r<t;r++)if(i[r+1]){var s=".".concat(i[r+1]);n=n.concat(s)}return n}function extractDecimalNumberFromVersionString(e){var t=e.split("."),i=t[0];return i=1===t.length?i.concat(".0"):(i=i.concat(".")).concat(t[1]),parseFloat(i)}function checkCapabilities(e){var t=[];BrowserDetect.init();var i=e.userBrowserNameString(),n=e.userBrowserVersion(),r=e.userOSNameString()||BrowserDetect.OS||testResult.UNSUPPORTED_OS,s=e.userOSVersion()||AN_UNKNOWN_VERSION;(!i||i.match(/webkit/i)||i.match(/mozilla/i))&&(BrowserDetect.browser?(i=BrowserDetect.browser,n=BrowserDetect.version.toString()||AN_UNKNOWN_VERSION):(i=testResult.UNSUPPORTED_BROWSER,n=AN_UNKNOWN_VERSION));var o=i.split(" ").join().replace(",",""),a=r.split(" "),l=a[0];a[1]&&(a[1].match(/phone/i)||a[1].match(/mobile/i))&&(l=a[0].concat(a[1]));var d=testResult.WARN,c=testResult.WARN,u={Chrome:{min:76},Chromium:{min:77},Edge:{min:16},Firefox:{min:68},MobileSafari:{min:12},Safari:{min:12}},p={Chrome:{min:76,stableSet:[],decimals:1},iOS:{min:9.3,stableRegex:/^(9\.3(\.\d)?)|(1[0-3](\.\d(\.\d)?)?)$/,decimals:2},Windows:{min:7,stableSet:["7","8","8.1","10"],decimals:1},Mac:{min:10.1,stableRegex:/^10\.1[0-5](\.\d)?$/,decimals:2}};document.getElementById("msie-sound-restrictions").style.display="Explorer"===i||"IE"===i?"":"none";var h=p[l];if(h){if(s!==AN_UNKNOWN_VERSION&&(h.stableSet||h.stableRegex)){var f=this.extractTruncatedStringFromVersionString(s,h.decimals);if(h.stableSet&&-1<h.stableSet.indexOf(f,0))d=testResult.PASS;else if(h.stableRegex&&h.stableRegex.test(f))d=testResult.PASS;else{var g=this.extractDecimalNumberFromVersionString(s);h.hasOwnProperty("min")&&(g<h.min?d=testResult.UPDATE:100<g-h.min?s=AN_UNKNOWN_VERSION:"Chrome"===h&&(d=testResult.PASS))}}}else d=testResult.UNSUPPORTED_OS;var m=u[o];if(m){if(n!==AN_UNKNOWN_VERSION&&m.hasOwnProperty("min")){h&&0<=Object.keys(h).indexOf("iOS")&&0<=Object.keys(m).indexOf("Firefox")&&(m.min=firefox_iOS_min_version);var v=extractDecimalNumberFromVersionString(n);v<m.min?c=testResult.UPDATE:100<v-m.min?n=AN_UNKNOWN_VERSION:c=testResult.PASS}}else c=testResult.UNSUPPORTED_BROWSER;t.push({id:"Browser",section:"browser",label:"Browser",value:i+" "+n,status:c}),t.push({id:"OperatingSystem",section:"operating-system",label:"Operating System",value:r+" "+s,status:d});var b=capabilities.supportsSessionCookies();t.push({id:"SessionCookies",section:"browser",label:"Session cookies",value:b,status:b?testResult.PASS:testResult.FAIL}),t.push({id:"UserAgent",section:"user-info",label:"User agent",value:navigator.userAgent,status:""});var _=screen.width,y=screen.height;if(t.push({id:"ScreenSize",section:"screen",label:"Screen",value:_+" x "+y,status:1024<=_&&768<=y?testResult.PASS:/^iOS|Mac$/.test(l)&&1024<=y&&768<=_?testResult.PASS:testResult.FAIL}),t.push({id:"ScreenTouch",section:"screen",label:"Touch",value:capabilities.supportsTouch(),status:""}),t.push({id:"ECMA5",section:"js-features",label:"ECMA5",value:capabilities.supportsECMA5(),status:""}),!capabilities.supportsECMA5()){var $=capabilities.supportedECMA5();for(var w in $)t.push({id:w,section:"js-features",label:w,value:$[w],status:""})}return t.push({id:"Touch",section:"js-features",label:"touch",value:capabilities.supportsTouch(),status:""}),t.push({id:"Performance",section:"js-features",label:"performance",value:capabilities.supportsPerformance(),status:""}),t.push({id:"LocalStorage",section:"js-features",label:"local storage",value:capabilities.supportsLocalStorage(),status:""}),t.push({id:"SessionStorage",section:"js-features",label:"session storage",value:capabilities.supportsSessionStorage(),status:""}),t.push({id:"Canvas",section:"js-features",label:"canvas",value:capabilities.supportsCanvas(),status:""}),t.push({id:"WebGL",section:"js-features",label:"webgl",value:capabilities.supportsWebGL(),status:""}),t.push({id:"Video",section:"js-features",label:"video",value:capabilities.supportsVideo(),status:""}),t.push({id:"H264Baseline",section:"js-features",label:"h264 Baseline",value:capabilities.supportsH264BaselineVideo(),status:""}),t.push({id:"OggTheora",section:"js-features",label:"Ogg Theora",value:capabilities.supportsOggTheoraVideo(),status:""}),t.push({id:"WebM",section:"js-features",label:"WebM",value:capabilities.supportsWebMVideo(),status:""}),t.push({id:"Web Audio",section:"js-features",label:"webaudio",value:capabilities.supportsWebAudio(),status:""}),t.push({id:"Audio",section:"js-features",label:"audio",value:capabilities.supportsAudio(),status:""}),t.push({id:"MP3",section:"js-features",label:"mp3",value:capabilities.supportsMP3Audio(),status:""}),t.push({id:"Wav",section:"js-features",label:"wav",value:capabilities.supportsWavAudio(),status:""}),t.push({id:"Ogg",section:"js-features",label:"ogg",value:capabilities.supportsOggAudio(),status:""}),t.push({id:"WebWorkers",section:"js-features",label:"web workers",value:capabilities.supportsWebWorkers(),status:""}),t.push({id:"AppCache",section:"js-features",label:"app cache",value:capabilities.supportsAppCache(),status:""}),t.push({id:"GeoLocation",section:"js-features",label:"geo-location",value:capabilities.supportsGeoLocation(),status:""}),t.push({id:"MicrodataApi",section:"js-features",label:"microdata API",value:capabilities.supportsMicrodataAPI(),status:""}),e&&(t.push({id:"DeviceType",section:"device-info",label:"Device Type",value:e.userDeviceType()||NO_INFO,status:""}),t.push({id:"DeviceVendor",section:"device-info",label:"Device Vendor",value:e.userDeviceVendor()||NO_INFO,status:""}),t.push({id:"DeviceModel",section:"device-info",label:"Device Model",value:e.userDeviceModel()||NO_INFO,status:""}),t.push({id:"CPU",section:"device-info",label:"CPU Architecture",value:e.userCPU()||NO_INFO,status:""})),t}function Get_Cookie(e){var t=document.cookie.split(";"),i="",n="",r=!1,s="";for(s=0;s<t.length;s++){if((i=t[s].split("="))[0].replace(/^\s+|\s+$/g,"")==e)return r=!0,1<i.length&&(n=unescape(i[1].replace(/^\s+|\s+$/g,""))),n;i=null,""}if(!r)return null}function Set_Cookie(e,t,i,n,r,s){var o=new Date;o.setTime(o.getTime()),i&&(i=1e3*i*60*60*24);var a=new Date(o.getTime()+i);document.cookie=e+"="+escape(t)+(i?";expires="+a.toGMTString():"")+(n?";path="+n:"")+(r?";domain="+r:"")+(s?";secure":"")}function Delete_Cookie(e,t,i){Get_Cookie(e)&&(document.cookie=e+"="+(t?";path="+t:"")+(i?";domain="+i:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT")}function getKeyInfoFromUAString(){var e=new UAParser,t=e.getResult(),i=e.getOS(),n=e.getDevice(),r=e.getCPU();return{userOSNameString:function(){return i.name},userOSVersion:function(){return i.version},userDeviceType:function(){return n.type},userDeviceModel:function(){return n.model},userDeviceVendor:function(){return n.vendor},userCPU:function(){return r.architecture},userBrowserNameString:function(){return t.browser.name},userBrowserVersion:function(){return t.browser.version}}}function isEmpty(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function update_roster_ui_from_fragment(){ignoreHashChange?ignoreHashChange=!1:($("#roster_management").loading(),$("#roster_management").load("roster_management/index",{filter:$.deparam.fragment(),layout:!1},function(e,t){"error"==t?$("#roster_management").html("<p class='error'>Error retrieving the classroom and students list.</p>"):"timeout"==t?$("#roster_management").html("<p class='error'>Timed out while retrieving the classroom and students list.</p>"):$("#roster_management").rosterManagementPage(hide_move_remove_button)}))}function highlightLearningGroups(e,t){$("a.assessed_moid_"+e).closest("tr").each(function(){var e=$(this).data("learning_group");e===t?$("a#"+e).addClass("highlight"):$("a#"+e).addClass("highlight_assessed")}),$("a.required_moid_"+e).closest("tr").each(function(){var e=$(this).data("learning_group");e===t?$("a#"+e).addClass("highlight"):$("a#"+e).addClass("highlight_required")})}var DateFormatter;!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(j,e){"use strict";function g(e,t){var i=(t=t||Z).createElement("script");i.text=e,t.head.appendChild(i).parentNode.removeChild(i)}function a(e){var t=!!e&&"length"in e&&e.length,i=pe.type(e);return"function"!==i&&!pe.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}function t(e,i,n){if(pe.isFunction(i))return pe.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return pe.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(we.test(i))return pe.filter(i,e,n);i=pe.filter(i,e)}return pe.grep(e,function(e){return-1<re.call(i,e)!==n&&1===e.nodeType})}function i(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function c(e){var i={};return pe.each(e.match(Ce)||[],function(e,t){i[t]=!0}),i}function u(e){return e}function p(e){throw e}function l(e,t,i){var n;try{e&&pe.isFunction(n=e.promise)?n.call(e).done(t).fail(i):e&&pe.isFunction(n=e.then)?n.call(e,t,i):t.call(undefined,e)}catch(e){i.call(undefined,e)}}function n(){Z.removeEventListener("DOMContentLoaded",n),j.removeEventListener("load",n),pe.ready()}function r(){this.expando=pe.expando+r.uid++}function d(e,t,i){var n;if(i===undefined&&1===e.nodeType)if(n="data-"+t.replace(Oe,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Fe.test(i)?JSON.parse(i):i)}catch(r){}Ae.set(e,t,i)}else i=undefined;return i}function h(e,t,i,n){var r,s=1,o=20,a=n?function(){return n.cur()}:function(){return pe.css(e,t,"")},l=a(),d=i&&i[3]||(pe.cssNumber[t]?"":"px"),c=(pe.cssNumber[t]||"px"!==d&&+l)&&Ne.exec(pe.css(e,t));if(c&&c[3]!==d)for(d=d||c[3],i=i||[],c=+l||1;c/=s=s||".5",pe.style(e,t,c+d),s!==(s=a()/l)&&1!==s&&--o;);return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=d,n.start=c,n.end=r)),r}function f(e){var t,i=e.ownerDocument,n=e.nodeName,r=ze[n];return r||(t=i.body.appendChild(i.createElement(n)),r=pe.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ze[n]=r)}function v(e,t){for(var i,n,r=[],s=0,o=e.length;s<o;s++)(n=e[s]).style&&(i=n.style.display,t?("none"===i&&(r[s]=Me.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&Re(n)&&(r[s]=f(n))):"none"!==i&&(r[s]="none",Me.set(n,"display",i)));for(s=0;s<o;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}function m(e,t){var i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&pe.nodeName(e,t)?pe.merge([e],i):i}function b(e,t){for(var i=0,n=e.length;i<n;i++)Me.set(e[i],"globalEval",!t||Me.get(t[i],"globalEval"))}function _(e,t,i,n,r){for(var s,o,a,l,d,c,u=t.createDocumentFragment(),p=[],h=0,f=e.length;h<f;h++)if((s=e[h])||0===s)if("object"===pe.type(s))pe.merge(p,s.nodeType?[s]:s);else if(Ye.test(s)){for(o=o||u.appendChild(t.createElement("div")),a=(We.exec(s)||["",""])[1].toLowerCase(),l=Be[a]||Be._default,o.innerHTML=l[1]+pe.htmlPrefilter(s)+l[2],c=l[0];c--;)o=o.lastChild;pe.merge(p,o.childNodes),(o=u.firstChild).textContent=""}else p.push(t.createTextNode(s));for(u.textContent="",h=0;s=p[h++];)if(n&&-1<pe.inArray(s,n))r&&r.push(s);else if(d=pe.contains(s.ownerDocument,s),o=m(u.appendChild(s),"script"),d&&b(o),i)for(c=0;s=o[c++];)Le.test(s.type||"")&&i.push(s);return u}function s(){return!0}function y(){return!1}function o(){try{return Z.activeElement}catch(e){}}function $(e,t,i,n,r,s){var o,a;if("object"==typeof t){for(a in"string"!=typeof i&&(n=n||i,i=undefined),t)$(e,a,i,n,t[a],s);return e}if(null==n&&null==r?(r=i,n=i=undefined):null==r&&("string"==typeof i?(r=n,n=undefined):(r=n,n=i,i=undefined)),!1===r)r=y;else if(!r)return e;return 1===s&&(o=r,(r=function(e){return pe().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,r,n,i)})}function w(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&e.getElementsByTagName("tbody")[0]||e}function x(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function D(e){var t=it.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function k(e,t){var i,n,r,s,o,a,l,d;if(1===t.nodeType){if(Me.hasData(e)&&(s=Me.access(e),o=Me.set(t,s),d=s.events))for(r in delete o.handle,o.events={},d)for(i=0,n=d[r].length;i<n;i++)pe.event.add(t,r,d[r][i]);Ae.hasData(e)&&(a=Ae.access(e),l=pe.extend({},a),Ae.set(t,l))}}function C(e,t){var i=t.nodeName.toLowerCase();"input"===i&&He.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function S(i,n,r,s){n=ie.apply([],n);var e,t,o,a,l,d,c=0,u=i.length,p=u-1,h=n[0],f=pe.isFunction(h);if(f||1<u&&"string"==typeof h&&!ce.checkClone&&tt.test(h))return i.each(function(e){var t=i.eq(e);f&&(n[0]=h.call(this,e,t.html())),S(t,n,r,s)});if(u&&(t=(e=_(n,i[0].ownerDocument,!1,i,s)).firstChild,1===e.childNodes.length&&(e=t),t||s)){for(a=(o=pe.map(m(e,"script"),x)).length;c<u;c++)l=e,c!==p&&(l=pe.clone(l,!0,!0),a&&pe.merge(o,m(l,"script"))),r.call(i[c],l,c);if(a)for(d=o[o.length-1].ownerDocument,pe.map(o,D),c=0;c<a;c++)l=o[c],Le.test(l.type||"")&&!Me.access(l,"globalEval")&&pe.contains(d,l)&&(l.src?pe._evalUrl&&pe._evalUrl(l.src):g(l.textContent.replace(nt,""),d))}return i}function I(e,t,i){for(var n,r=t?pe.filter(t,e):e,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||pe.cleanData(m(n)),n.parentNode&&(i&&pe.contains(n.ownerDocument,n)&&b(m(n,"script")),n.parentNode.removeChild(n));return e}function T(e,t,i){var n,r,s,o,a=e.style;return(i=i||ot(e))&&(""!==(o=i.getPropertyValue(t)||i[t])||pe.contains(e.ownerDocument,e)||(o=pe.style(e,t)),!ce.pixelMarginRight()&&st.test(o)&&rt.test(t)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),o!==undefined?o+"":o}function q(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function M(e){if(e in ut)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=ct.length;i--;)if((e=ct[i]+t)in ut)return e}function A(e,t,i){var n=Ne.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function F(e,t,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;s<4;s+=2)"margin"===i&&(o+=pe.css(e,i+Ee[s],!0,r)),n?("content"===i&&(o-=pe.css(e,"padding"+Ee[s],!0,r)),"margin"!==i&&(o-=pe.css(e,"border"+Ee[s]+"Width",!0,r))):(o+=pe.css(e,"padding"+Ee[s],!0,r),"padding"!==i&&(o+=pe.css(e,"border"+Ee[s]+"Width",!0,r)));return o}function O(e,t,i){var n,r=!0,s=ot(e),o="border-box"===pe.css(e,"boxSizing",!1,s);if(e.getClientRects().length&&(n=e.getBoundingClientRect()[t]),n<=0||null==n){if(((n=T(e,t,s))<0||null==n)&&(n=e.style[t]),st.test(n))return n;r=o&&(ce.boxSizingReliable()||n===e.style[t]),n=parseFloat(n)||0}return n+F(e,t,i||(o?"border":"content"),r,s)+"px"}function P(e,t,i,n,r){return new P.prototype.init(e,t,i,n,r)}function N(){ht&&(j.requestAnimationFrame(N),pe.fx.tick())}function E(){return j.setTimeout(function(){pt=undefined}),pt=pe.now()}function R(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=Ee[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function G(e,t,i){for(var n,r=(W.tweeners[t]||[]).concat(W.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,t,e))return n}function z(e,t,i){var n,r,s,o,a,l,d,c,u="width"in t||"height"in t,p=this,h={},f=e.style,g=e.nodeType&&Re(e),m=Me.get(e,"fxshow");for(n in i.queue||(null==(o=pe._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,p.always(function(){p.always(function(){o.unqueued--,pe.queue(e,"fx").length||o.empty.fire()})})),t)if(r=t[n],mt.test(r)){if(delete t[n],s=s||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||m[n]===undefined)continue;g=!0}h[n]=m&&m[n]||pe.style(e,n)}if((l=!pe.isEmptyObject(t))||!pe.isEmptyObject(h))for(n in u&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(d=m&&m.display)&&(d=Me.get(e,"display")),"none"===(c=pe.css(e,"display"))&&(d?c=d:(v([e],!0),d=e.style.display||d,c=pe.css(e,"display"),v([e]))),("inline"===c||"inline-block"===c&&null!=d)&&"none"===pe.css(e,"float")&&(l||(p.done(function(){f.display=d}),null==d&&(c=f.display,d="none"===c?"":c)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,h)l||(m?"hidden"in m&&(g=m.hidden):m=Me.access(e,"fxshow",{display:d}),s&&(m.hidden=!g),g&&v([e],!0),p.done(function(){for(n in g||v([e]),Me.remove(e,"fxshow"),h)pe.style(e,n,h[n])})),l=G(g?m[n]:0,n,p),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}function H(e,t){var i,n,r,s,o;for(i in e)if(r=t[n=pe.camelCase(i)],s=e[i],pe.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(o=pe.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete e[n],s)i in e||(e[i]=s[i],t[i]=r);else t[n]=r}function W(s,e,t){var i,o,n=0,r=W.prefilters.length,a=pe.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=pt||E(),t=Math.max(0,d.startTime+d.duration-e),i=1-(t/d.duration||0),n=0,r=d.tweens.length;n<r;n++)d.tweens[n].run(i);return a.notifyWith(s,[d,i,t]),i<1&&r?t:(a.resolveWith(s,[d]),!1)},d=a.promise({elem:s,props:pe.extend({},e),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},t),originalProperties:e,originalOptions:t,startTime:pt||E(),duration:t.duration,tweens:[],createTween:function(e,t){var i=pe.Tween(s,d.opts,e,t,d.opts.specialEasing[e]||d.opts.easing);return d.tweens.push(i),i},stop:function(e){var t=0,i=e?d.tweens.length:0;if(o)return this;for(o=!0;t<i;t++)d.tweens[t].run(1);return e?(a.notifyWith(s,[d,1,0]),a.resolveWith(s,[d,e])):a.rejectWith(s,[d,e]),this}}),c=d.props;for(H(c,d.opts.specialEasing);n<r;n++)if(i=W.prefilters[n].call(d,s,c,d.opts))return pe.isFunction(i.stop)&&(pe._queueHooks(d.elem,d.opts.queue).stop=pe.proxy(i.stop,i)),i;return pe.map(c,G,d),pe.isFunction(d.opts.start)&&d.opts.start.call(s,d),pe.fx.timer(pe.extend(l,{elem:s,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function L(e){return e.getAttribute&&e.getAttribute("class")||""}function B(i,e,n,r){var t;if(pe.isArray(e))pe.each(e,function(e,t){n||It.test(i)?r(i,t):B(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,n,r)});else if(n||"object"!==pe.type(e))r(i,e);else for(t in e)B(i+"["+t+"]",e[t],n,r)}function U(s){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,r=e.toLowerCase().match(Ce)||[];if(pe.isFunction(t))for(;i=r[n++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(t)):(s[i]=s[i]||[]).push(t)}}function V(t,r,s,o){function a(e){var n;return l[e]=!0,pe.each(t[e]||[],function(e,t){var i=t(r,s,o);return"string"!=typeof i||d||l[i]?d?!(n=i):void 0:(r.dataTypes.unshift(i),a(i),!1)}),n}var l={},d=t===zt;return a(r.dataTypes[0])||!l["*"]&&a("*")}function Y(e,t){var i,n,r=pe.ajaxSettings.flatOptions||{};for(i in t)t[i]!==undefined&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&pe.extend(!0,e,n),e}function K(e,t,i){for(var n,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),n===undefined&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}function X(e,t,i,n){var r,s,o,a,l,d={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)d[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=d[l+" "+s]||d["* "+s]))for(r in d)if((a=r.split(" "))[1]===s&&(o=d[l+" "+a[0]]||d["* "+a[0]])){!0===o?o=d[r]:!0!==d[r]&&(s=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(u){return{state:"parsererror",error:o?u:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function J(e){return pe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Q=[],Z=j.document,ee=Object.getPrototypeOf,te=Q.slice,ie=Q.concat,ne=Q.push,re=Q.indexOf,se={},oe=se.toString,ae=se.hasOwnProperty,le=ae.toString,de=le.call(Object),ce={},ue="3.1.0",pe=function(e,t){return new pe.fn.init(e,t)},he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^-ms-/,ge=/-([a-z])/g,me=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:ue,constructor:pe,length:0,toArray:function(){return te.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:te.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return pe.each(this,e)},map:function(i){return this.pushStack(pe.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ne,sort:Q.sort,splice:Q.splice},pe.extend=pe.fn.extend=function(e){var t,i,n,r,s,o,a=e||{},l=1,d=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[l]||{},l++),"object"==typeof a||pe.isFunction(a)||(a={}),l===d&&(a=this,l--);l<d;l++)if(null!=(t=arguments[l]))for(i in t)n=a[i],a!==(r=t[i])&&(c&&r&&(pe.isPlainObject(r)||(s=pe.isArray(r)))?(s?(s=!1,o=n&&pe.isArray(n)?n:[]):o=n&&pe.isPlainObject(n)?n:{},a[i]=pe.extend(c,o,r)):r!==undefined&&(a[i]=r));return a},pe.extend({expando:"jQuery"+(ue+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=pe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==oe.call(e))&&(!(t=ee(e))||"function"==typeof(i=ae.call(t,"constructor")&&t.constructor)&&le.call(i)===de)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[oe.call(e)]||"object":typeof e},globalEval:function(e){g(e)},camelCase:function(e){return e.replace(fe,"ms-").replace(ge,me)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,n=0;if(a(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(he,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(a(Object(e))?pe.merge(i,"string"==typeof e?[e]:e):ne.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:re.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,s=e.length,o=!i;r<s;r++)!t(e[r],r)!==o&&n.push(e[r]);return n},map:function(e,t,i){var n,r,s=0,o=[];if(a(e))for(n=e.length;s<n;s++)null!=(r=t(e[s],s,i))&&o.push(r);else for(s in e)null!=(r=t(e[s],s,i))&&o.push(r);return ie.apply([],o)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(i=e[t],t=e,e=i),pe.isFunction(e)?(n=te.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(te.call(arguments)))}).guid=e.guid=e.guid||pe.guid++,r):undefined},now:Date.now,support:ce}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=Q[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var ve=function(i){function y(e,t,i,n){var r,s,o,a,l,d,c,u=t&&t.ownerDocument,p=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return i;if(!n&&((t?t.ownerDocument||t:z)!==A&&M(t),t=t||A,O)){if(11!==p&&(l=ve.exec(e)))if(r=l[1]){if(9===p){if(!(o=t.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(u&&(o=u.getElementById(r))&&R(t,o)&&o.id===r)return i.push(o),i}else{if(l[2])return Q.apply(i,t.getElementsByTagName(e)),i;if((r=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Q.apply(i,t.getElementsByClassName(r)),i}if(w.qsa&&!U[e+" "]&&(!P||!P.test(e))){if(1!==p)u=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace($e,we):t.setAttribute("id",a=G),s=(d=k(e)).length;s--;)d[s]="#"+a+" "+g(d[s]);c=d.join(","),u=be.test(e)&&f(t.parentNode)||t}if(c)try{return Q.apply(i,u.querySelectorAll(c)),i}catch(h){}finally{a===G&&t.removeAttribute("id")}}}return S(e.replace(ae,"$1"),t,i,n)}function e(){function i(e,t){return n.push(e+" ")>x.cacheLength&&delete i[n.shift()],i[e+" "]=t}var n=[];return i}function l(e){return e[G]=!0,e}function r(e){var t=A.createElement("fieldset");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var i=e.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=t}function d(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function n(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function s(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function o(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&!1===e.disabled&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!je(e))!==t)}}function a(o){return l(function(s){return s=+s,l(function(e,t){for(
var i,n=o([],e.length,s),r=n.length;r--;)e[i=n[r]]&&(e[i]=!(t[i]=e[i]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function c(){}function g(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function u(a,e,t){var l=e.dir,d=e.next,c=d||l,u=t&&"parentNode"===c,p=W++;return e.first?function(e,t,i){for(;e=e[l];)if(1===e.nodeType||u)return a(e,t,i)}:function(e,t,i){var n,r,s,o=[H,p];if(i){for(;e=e[l];)if((1===e.nodeType||u)&&a(e,t,i))return!0}else for(;e=e[l];)if(1===e.nodeType||u)if(r=(s=e[G]||(e[G]={}))[e.uniqueID]||(s[e.uniqueID]={}),d&&d===e.nodeName.toLowerCase())e=e[l]||e;else{if((n=r[c])&&n[0]===H&&n[1]===p)return o[2]=n[2];if((r[c]=o)[2]=a(e,t,i))return!0}}}function p(r){return 1<r.length?function(e,t,i){for(var n=r.length;n--;)if(!r[n](e,t,i))return!1;return!0}:r[0]}function b(e,t,i){for(var n=0,r=t.length;n<r;n++)y(e,t[n],i);return i}function $(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,d=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,n,r)||(o.push(s),d&&t.push(a)));return o}function _(h,f,g,m,v,e){return m&&!m[G]&&(m=_(m)),v&&!v[G]&&(v=_(v,e)),l(function(e,t,i,n){var r,s,o,a=[],l=[],d=t.length,c=e||b(f||"*",i.nodeType?[i]:i,[]),u=!h||!e&&f?c:$(c,a,h,i,n),p=g?v||(e?h:d||m)?[]:t:u;if(g&&g(u,p,i,n),m)for(r=$(p,l),m(r,[],i,n),s=r.length;s--;)(o=r[s])&&(p[l[s]]=!(u[l[s]]=o));if(e){if(v||h){if(v){for(r=[],s=p.length;s--;)(o=p[s])&&r.push(u[s]=o);v(null,p=[],r,n)}for(s=p.length;s--;)(o=p[s])&&-1<(r=v?ee(e,o):a[s])&&(e[r]=!(t[r]=o))}}else p=$(p===t?p.splice(d,p.length):p),v?v(null,t,p,n):Q.apply(t,p)})}function h(e){for(var r,t,i,n=e.length,s=x.relative[e[0].type],o=s||x.relative[" "],a=s?1:0,l=u(function(e){return e===r},o,!0),d=u(function(e){return-1<ee(r,e)},o,!0),c=[function(e,t,i){var n=!s&&(i||t!==I)||((r=t).nodeType?l(e,t,i):d(e,t,i));return r=null,n}];a<n;a++)if(t=x.relative[e[a].type])c=[u(p(c),t)];else{if((t=x.filter[e[a].type].apply(null,e[a].matches))[G]){for(i=++a;i<n&&!x.relative[e[i].type];i++);return _(1<a&&p(c),1<a&&g(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),t,a<i&&h(e.slice(a,i)),i<n&&h(e=e.slice(i)),i<n&&g(e))}c.push(t)}return p(c)}function m(m,v){var b=0<v.length,_=0<m.length,e=function(e,t,i,n,r){var s,o,a,l=0,d="0",c=e&&[],u=[],p=I,h=e||_&&x.find.TAG("*",r),f=H+=null==p?1:Math.random()||.1,g=h.length;for(r&&(I=t===A||t||r);d!==g&&null!=(s=h[d]);d++){if(_&&s){for(o=0,t||s.ownerDocument===A||(M(s),i=!O);a=m[o++];)if(a(s,t||A,i)){n.push(s);break}r&&(H=f)}b&&((s=!a&&s)&&l--,e&&c.push(s))}if(l+=d,b&&d!==l){for(o=0;a=v[o++];)a(c,u,t,i);if(e){if(0<l)for(;d--;)c[d]||u[d]||(u[d]=X.call(n));u=$(u)}Q.apply(n,u),r&&!e&&0<u.length&&1<l+v.length&&y.uniqueSort(n)}return r&&(H=f,I=p),c};return b?l(e):e}var v,w,x,j,D,k,C,S,I,T,q,M,A,F,O,P,N,E,R,G="sizzle"+1*new Date,z=i.document,H=0,W=0,L=e(),B=e(),U=e(),V=function(e,t){return e===t&&(q=!0),0},Y={}.hasOwnProperty,K=[],X=K.pop,J=K.push,Q=K.push,Z=K.slice,ee=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",re="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ie+"*\\]",se=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",oe=new RegExp(ie+"+","g"),ae=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),de=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ce=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),ue=new RegExp(se),pe=new RegExp("^"+ne+"$"),he={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),ye=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},$e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){M()},je=u(function(e){return!0===e.disabled},{dir:"parentNode",next:"legend"});try{Q.apply(K=Z.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch(De){Q={apply:K.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(v in w=y.support={},D=y.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=y.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:z;return n!==A&&9===n.nodeType&&n.documentElement&&(F=(A=n).documentElement,O=!D(A),z!==A&&(i=A.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xe,!1):i.attachEvent&&i.attachEvent("onunload",xe)),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=me.test(A.getElementsByClassName),w.getById=r(function(e){return F.appendChild(e).id=G,!A.getElementsByName||!A.getElementsByName(G).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var i=t.getElementById(e);return i?[i]:[]}},x.filter.ID=function(e){var t=e.replace(_e,ye);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var i=e.replace(_e,ye);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===i}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"!==e)return s;for(;i=s[r++];)1===i.nodeType&&n.push(i);return n},x.find.CLASS=w.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&O)return t.getElementsByClassName(e)},N=[],P=[],(w.qsa=me.test(A.querySelectorAll))&&(r(function(e){F.appendChild(e).innerHTML="<a id='"+G+"'></a><select id='"+G+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+G+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+G+"+*").length||P.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ie+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),F.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=me.test(E=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&r(function(e){w.disconnectedMatch=E.call(e,"*"),E.call(e,"[s!='']:x"),N.push("!=",se)}),P=P.length&&new RegExp(P.join("|")),N=N.length&&new RegExp(N.join("|")),t=me.test(F.compareDocumentPosition),R=t||me.test(F.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return q=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!w.sortDetached&&t.compareDocumentPosition(e)===i?e===A||e.ownerDocument===z&&R(z,e)?-1:t===A||t.ownerDocument===z&&R(z,t)?1:T?ee(T,e)-ee(T,t):0:4&i?-1:1)}:function(e,t){if(e===t)return q=!0,0;var i,n=0,r=e.parentNode,s=t.parentNode,o=[e],a=[t];if(!r||!s)return e===A?-1:t===A?1:r?-1:s?1:T?ee(T,e)-ee(T,t):0;if(r===s)return d(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?d(o[n],a[n]):o[n]===z?-1:a[n]===z?1:0}),A},y.matches=function(e,t){return y(e,null,null,t)},y.matchesSelector=function(e,t){if((e.ownerDocument||e)!==A&&M(e),t=t.replace(ce,"='$1']"),w.matchesSelector&&O&&!U[t+" "]&&(!N||!N.test(t))&&(!P||!P.test(t)))try{var i=E.call(e,t);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(De){}return 0<y(t,A,null,[e]).length},y.contains=function(e,t){return(e.ownerDocument||e)!==A&&M(e),R(e,t)},y.attr=function(e,t){(e.ownerDocument||e)!==A&&M(e);var i=x.attrHandle[t.toLowerCase()],n=i&&Y.call(x.attrHandle,t.toLowerCase())?i(e,t,!O):undefined;return n!==undefined?n:w.attributes||!O?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},y.escape=function(e){return(e+"").replace($e,we)},y.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},y.uniqueSort=function(e){var t,i=[],n=0,r=0;if(q=!w.detectDuplicates,T=!w.sortStable&&e.slice(0),e.sort(V),q){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return T=null,e},j=y.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=j(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=j(t);return i},(x=y.selectors={cacheLength:50,createPseudo:l,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_e,ye),e[3]=(e[3]||e[4]||e[5]||"").replace(_e,ye),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||y.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&y.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&ue.test(i)&&(t=k(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_e,ye).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=L[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&L(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(i,n,r){return function(e){var t=y.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===r:"!="===n?t!==r:"^="===n?r&&0===t.indexOf(r):"*="===n?r&&-1<t.indexOf(r):"$="===n?r&&t.slice(-r.length)===r:"~="===n?-1<(" "+t.replace(oe," ")+" ").indexOf(r):"|="===n&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,e,t,g,m){var v="nth"!==f.slice(0,3),b="last"!==f.slice(-4),_="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,i){var n,r,s,o,a,l,d=v!==b?"nextSibling":"previousSibling",c=e.parentNode,u=_&&e.nodeName.toLowerCase(),p=!i&&!_,h=!1;if(c){if(v){for(;d;){for(o=e;o=o[d];)if(_?o.nodeName.toLowerCase()===u:1===o.nodeType)return!1;l=d="only"===f&&!l&&"nextSibling"}return!0}if(l=[b?c.firstChild:c.lastChild],b&&p){for(h=(a=(n=(r=(s=(o=c)[G]||(o[G]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===H&&n[1])&&n[2],o=a&&c.childNodes[a];o=++a&&o&&o[d]||(h=a=0)||l.pop();)if(1===o.nodeType&&++h&&o===e){r[f]=[H,a,h];break}}else if(p&&(h=a=(n=(r=(s=(o=e)[G]||(o[G]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===H&&n[1]),!1===h)for(;(o=++a&&o&&o[d]||(h=a=0)||l.pop())&&((_?o.nodeName.toLowerCase()!==u:1!==o.nodeType)||!++h||(p&&((r=(s=o[G]||(o[G]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]=[H,h]),o!==e)););return(h-=m)===g||h%g==0&&0<=h/g}}},PSEUDO:function(e,s){var t,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||y.error("unsupported pseudo: "+e);return o[G]?o(s):1<o.length?(t=[e,e,"",s],x.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var i,n=o(e,s),r=n.length;r--;)e[i=ee(e,n[r])]=!(t[i]=n[r])}):function(e){return o(e,0,t)}):o}},pseudos:{not:l(function(e){var n=[],r=[],a=C(e.replace(ae,"$1"));return a[G]?l(function(e,t,i,n){for(var r,s=a(e,null,n,[]),o=e.length;o--;)(r=s[o])&&(e[o]=!(t[o]=r))}):function(e,t,i){return n[0]=e,a(n,null,i,r),n[0]=null,!r.pop()}}),has:l(function(t){return function(e){return 0<y(t,e).length}}),contains:l(function(t){return t=t.replace(_e,ye),function(e){return-1<(e.textContent||e.innerText||j(e)).indexOf(t)}}),lang:l(function(i){return pe.test(i||"")||y.error("unsupported lang: "+i),i=i.replace(_e,ye).toLowerCase(),function(e){var t;do{if(t=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===F},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:o(!1),disabled:o(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,i){return[i<0?i+t:i]}),even:a(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:a(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:a(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:a(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=x.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=n(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=s(v);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,k=y.tokenize=function(e,t){var i,n,r,s,o,a,l,d=B[e+" "];if(d)return t?0:d.slice(0);for(o=e,a=[],l=x.preFilter;o;){for(s in i&&!(n=le.exec(o))||(n&&(o=o.slice(n[0].length)||o),a.push(r=[])),i=!1,(n=de.exec(o))&&(i=n.shift(),r.push({value:i,type:n[0].replace(ae," ")}),o=o.slice(i.length)),x.filter)!(n=he[s].exec(o))||l[s]&&!(n=l[s](n))||(i=n.shift(),r.push({value:i,type:s,matches:n}),o=o.slice(i.length));if(!i)break}return t?o.length:o?y.error(e):B(e,a).slice(0)},C=y.compile=function(e,t){var i,n=[],r=[],s=U[e+" "];if(!s){for(t||(t=k(e)),i=t.length;i--;)(s=h(t[i]))[G]?n.push(s):r.push(s);(s=U(e,m(r,n))).selector=e}return s},S=y.select=function(e,t,i,n){var r,s,o,a,l,d="function"==typeof e&&e,c=!n&&k(e=d.selector||e);if(i=i||[],1===c.length){if(2<(s=c[0]=c[0].slice(0)).length&&"ID"===(o=s[0]).type&&w.getById&&9===t.nodeType&&O&&x.relative[s[1].type]){if(!(t=(x.find.ID(o.matches[0].replace(_e,ye),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=he.needsContext.test(e)?0:s.length;r--&&(o=s[r],!x.relative[a=o.type]);)if((l=x.find[a])&&(n=l(o.matches[0].replace(_e,ye),be.test(s[0].type)&&f(t.parentNode)||t))){if(s.splice(r,1),!(e=n.length&&g(s)))return Q.apply(i,n),i;break}}return(d||C(e,c))(n,t,!O,i,!t||be.test(e)&&f(t.parentNode)||t),i},w.sortStable=G.split("").sort(V).join("")===G,w.detectDuplicates=!!q,M(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(A.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),y}(j);pe.find=ve,pe.expr=ve.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ve.uniqueSort,pe.text=ve.getText,pe.isXMLDoc=ve.isXML,pe.contains=ve.contains,pe.escapeSelector=ve.escape;var be=function(e,t,i){for(var n=[],r=i!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&pe(e).is(i))break;n.push(e)}return n},_e=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},ye=pe.expr.match.needsContext,$e=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,we=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?pe.find.matchesSelector(n,e)?[n]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<n;t++)if(pe.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)pe.find(e,r[t],i);return 1<n?pe.uniqueSort(i):i},filter:function(e){return this.pushStack(t(this,e||[],!1))},not:function(e){return this.pushStack(t(this,e||[],!0))},is:function(e){return!!t(this,"string"==typeof e&&ye.test(e)?pe(e):e||[],!1).length}});var xe,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pe.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||xe,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):pe.isFunction(e)?i.ready!==undefined?i.ready(e):e(pe):pe.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:je.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),$e.test(n[1])&&pe.isPlainObject(t))for(n in t)pe.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=Z.getElementById(n[2]))&&(this[0]=r,this.length=1),this}).prototype=pe.fn,xe=pe(Z);var De=/^(?:parents|prev(?:Until|All))/,ke={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t=pe(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(pe.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,s=[],o="string"!=typeof e&&pe(e);if(!ye.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&pe.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(1<s.length?pe.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?re.call(pe(e),this[0]):re.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,i){return be(e,"parentNode",i)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,i){return be(e,"nextSibling",i)},prevUntil:function(e,t,i){return be(e,"previousSibling",i)},siblings:function(e){return _e((e.parentNode||{}).firstChild,e)},children:function(e){return _e(e.firstChild)},contents:function(e){return e.contentDocument||pe.merge([],e.childNodes)}},function(n,r){pe.fn[n]=function(e,t){var i=pe.map(this,r,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=pe.filter(t,i)),1<this.length&&(ke[n]||pe.uniqueSort(i),De.test(n)&&i.reverse()),this.pushStack(i)}});var Ce=/\S+/g;pe.Callbacks=function(n){n="string"==typeof n?c(n):pe.extend({},n);var r,e,t,i,s=[],o=[],a=-1,l=function(){for(i=n.once,t=r=!0;o.length;a=-1)for(e=o.shift();++a<s.length;)!1===s[a].apply(e[0],e[1])&&n.stopOnFalse&&(a=s.length,e=!1);n.memory||(e=!1),r=!1,i&&(s=e?[]:"")},d={add:function(){return s&&(e&&!r&&(a=s.length-1,o.push(e)),function i(e){pe.each(e,function(e,t){pe.isFunction(t)?n.unique&&d.has(t)||s.push(t):t&&t.length&&"string"!==pe.type(t)&&i(t)})}(arguments),e&&!r&&l()),this},remove:function(){return pe.each(arguments,function(e,t){for(var i;-1<(i=pe.inArray(t,s,i));)s.splice(i,1),i<=a&&a--}),this},has:function(e){return e?-1<pe.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return i=o=[],s=e="",this},disabled:function(){return!s},lock:function(){return i=o=[],e||r||(s=e=""),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],o.push(t),r||l()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!t}};return d},pe.extend({Deferred:function(e){var s=[["notify","progress",pe.Callbacks("memory"),pe.Callbacks("memory"),2],["resolve","done",pe.Callbacks("once memory"),pe.Callbacks("once memory"),0,"resolved"],["reject","fail",pe.Callbacks("once memory"),pe.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},"catch":function(e){return o.then(null,e)},pipe:function(){var r=arguments;return pe.Deferred(function(n){pe.each(s,function(e,t){var i=pe.isFunction(r[t[4]])&&r[t[4]];a[t[1]](function(){var e=i&&i.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,i?[e]:arguments)})}),r=null}).promise()},then:function(t,i,n){function d(s,o,a,l){return function(){var i=this,n=arguments,t=function(){var e,t;if(!(s<c)){if((e=a.apply(i,n))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,pe.isFunction(t)?l?t.call(e,d(c,o,u,l),d(c,o,p,l)):(c++,t.call(e,d(c,o,u,l),d(c,o,p,l),d(c,o,u,o.notifyWith))):(a!==u&&(i=undefined,n=[e]),(l||o.resolveWith)(i,n))}},r=l?t:function(){try{t()}catch(e){pe.Deferred.exceptionHook&&pe.Deferred.exceptionHook(e,r.stackTrace),c<=s+1&&(a!==p&&(i=undefined,n=[e]),o.rejectWith(i,n))}};s?r():(pe.Deferred.getStackHook&&(r.stackTrace=pe.Deferred.getStackHook()),j.setTimeout(r))}}var c=0;return pe.Deferred(function(e){s[0][3].add(d(0,e,pe.isFunction(n)?n:u,e.notifyWith)),s[1][3].add(d(0,e,pe.isFunction(t)?t:u)),s[2][3].add(d(0,e,pe.isFunction(i)?i:p))}).promise()},promise:function(e){return null!=e?pe.extend(e,o):o}},a={};return pe.each(s,function(e,t){var i=t[2],n=t[5];o[t[1]]=i.add,n&&i.add(function(){r=n},s[3-e][2].disable,s[0][2].lock),i.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?undefined:this,arguments),this},a[t[0]+"With"]=i.fireWith}),o.promise(a),e&&e.call(a,a),a},when:function(e){var i=arguments.length,t=i,n=Array(t),r=te.call(arguments),s=pe.Deferred(),o=function(t){return function(e){n[t]=this,r[t]=1<arguments.length?te.call(arguments):e,--i||s.resolveWith(n,r)}};if(i<=1&&(l(e,s.done(o(t)).resolve,s.reject),"pending"===s.state()||pe.isFunction(r[t]&&r[t].then)))return s.then();for(;t--;)l(r[t],o(t),s.reject);return s.promise()}});var Se=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pe.Deferred.exceptionHook=function(e,t){j.console&&j.console.warn&&e&&Se.test(e.name)&&j.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},pe.readyException=function(e){j.setTimeout(function(){throw e})};var Ie=pe.Deferred();pe.fn.ready=function(e){return Ie.then(e)["catch"](function(e){pe.readyException(e)}),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(!0===e?--pe.readyWait:pe.isReady)||(pe.isReady=!0)!==e&&0<--pe.readyWait||Ie.resolveWith(Z,[pe])}}),pe.ready.then=Ie.then,"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?j.setTimeout(pe.ready):(Z.addEventListener("DOMContentLoaded",n),j.addEventListener("load",n));var Te=function(e,t,i,n,r,s,o){var a=0,l=e.length,d=null==i;if("object"===pe.type(i))for(a in r=!0,i)Te(e,t,a,i[a],!0,s,o);else if(n!==undefined&&(r=!0,pe.isFunction(n)||(o=!0),d&&(o?(t.call(e,n),t=null):(d=t,t=function(e,t,i){return d.call(pe(e),i)})),t))for(;a<l;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:d?t.call(e):l?t(e[0],i):s},qe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};r.uid=1,r.prototype={cache:function(e){var t=e[this.expando];return t||(t={},qe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[pe.camelCase(t)]=i;else for(n in t)r[pe.camelCase(n)]=t[n];return r},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][pe.camelCase(t)]},access:function(e,t,i){return t===undefined||t&&"string"==typeof t&&i===undefined?this.get(e,t):(this.set(e,t,i),i!==undefined?i:t)},remove:function(e,t){var i,n=e[this.expando];if(n!==undefined){if(t!==undefined){i=(t=pe.isArray(t)?t.map(pe.camelCase):(t=pe.camelCase(t))in n?[t]:t.match(Ce)||[]).length;for(;i--;)delete n[t[i]]}(t===undefined||pe.isEmptyObject(n))&&(e.nodeType?e[this.expando]=undefined:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!pe.isEmptyObject(t)}};var Me=new r,Ae=new r,Fe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Oe=/[A-Z]/g;pe.extend({hasData:function(e){return Ae.hasData(e)||Me.hasData(e)},data:function(e,t,i){return Ae.access(e,t,i)},removeData:function(e,t){Ae.remove(e,t)},_data:function(e,t,i){return Me.access(e,t,i)},_removeData:function(e,t){Me.remove(e,t)}}),pe.fn.extend({data:function(i,e){var t,n,r,s=this[0],o=s&&s.attributes;if(i!==undefined)return"object"==typeof i?this.each(function(){Ae.set(this,i)}):Te(this,function(e){var t;if(s&&e===undefined)return(t=Ae.get(s,i))!==undefined?t:(t=d(s,i))!==undefined?t:void 0;this.each(function(){Ae.set(this,i,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=Ae.get(s),1===s.nodeType&&!Me.get(s,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&0===(n=o[t].name).indexOf("data-")&&(n=pe.camelCase(n.slice(5)),d(s,n,r[n]));Me.set(s,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){Ae.remove(this,e)})}}),pe.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Me.get(e,t),i&&(!n||pe.isArray(i)?n=Me.access(e,t,pe.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=pe.queue(e,t),n=i.length,r=i.shift(),s=pe._queueHooks(e,t),o=function(){pe.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Me.get(e,i)||Me.access(e,i,{empty:pe.Callbacks("once memory").add(function(){Me.remove(e,[t+"queue",i])})})}}),pe.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?pe.queue(this[0],t):i===undefined?this:this.each(function(){var e=pe.queue(this,t,i);pe._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&pe.dequeue(this,t)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=pe.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";o--;)(i=Me.get(s[o],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ne=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),Ee=["Top","Right","Bottom","Left"],Re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&pe.contains(e.ownerDocument,e)&&"none"===pe.css(e,"display")},Ge=function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in r=i.apply(e,n||[]),t)e.style[s]=o[s];return r},ze={};pe.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Re(this)?pe(this).show():pe(this).hide()})}});var He=/^(?:checkbox|radio)$/i,We=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Le=/^$|\/(?:java|ecma)script/i,Be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Be.optgroup=Be.option,Be.tbody=Be.tfoot=Be.colgroup=Be.caption=Be.thead,Be.th=Be.td;var Ue,Ve,Ye=/<|&#?\w+;/;Ue=Z.createDocumentFragment().appendChild(Z.createElement("div")),(Ve=Z.createElement("input")).setAttribute("type","radio"),Ve.setAttribute("checked","checked"),Ve.setAttribute("name","t"),Ue.appendChild(Ve),ce.checkClone=Ue.cloneNode(!0).cloneNode(!0).lastChild.checked,Ue.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!Ue.cloneNode(!0).lastChild.defaultValue;var Ke=Z.documentElement,Xe=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(t,e,i,n,r){var s,o,a,l,d,c,u,p,h,f,g,m=Me.get(t);if(m)for(i.handler&&(i=(s=i).handler,r=s.selector),r&&pe.find.matchesSelector(Ke,r),i.guid||(i.guid=pe.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(e){return void 0!==pe&&pe.event.triggered!==e.type?pe.event.dispatch.apply(t,arguments):undefined}),d=(e=(e||"").match(Ce)||[""]).length;d--;)h=g=(a=Qe.exec(e[d])||[])[1],f=(a[2]||"").split(".").sort(),h&&(u=pe.event.special[h]||{},h=(r?u.delegateType:u.bindType)||h,u=pe.event.special[h]||{},c=pe.extend({type:h,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&pe.expr.match.needsContext.test(r),namespace:f.join(".")},s),(p=l[h])||((p=l[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,f,o)||t.addEventListener&&t.addEventListener(h,o)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),pe.event.global[h]=!0)},remove:function(e,t,i,n,r){var s,o,a,l,d,c,u,p,h,f,g,m=Me.hasData(e)&&Me.get(e);if(m&&(l=m.events)){for(d=(t=(t||"").match(Ce)||[""]).length;d--;)if(h=g=(a=Qe.exec(t[d])||[])[1],f=(a[2]||"").split(".").sort(),h){for(u=pe.event.special[h]||{},p=l[h=(n?u.delegateType:u.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=p.length;s--;)c=p[s],!r&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(p.splice(s,1),c.selector&&p.delegateCount--,u.remove&&u.remove.call(e,c));o&&!p.length&&(u.teardown&&!1!==u.teardown.call(e,f,m.handle)||pe.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)pe.event.remove(e,h+t[d],i,n,!0);pe.isEmptyObject(l)&&Me.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,s,o,a=pe.event.fix(e),l=new Array(arguments.length),d=(Me.get(this,"events")||{})[a.type]||[],c=pe.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(o=pe.event.handlers.call(this,a,d),t=0;(r=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(s.namespace)||(a.handleObj=s,a.data=s.data,(n=((pe.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))!==undefined&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var i,n,r,s,o=[],a=t.delegateCount,l=e.target;if(
a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(n=[],i=0;i<a;i++)n[r=(s=t[i]).selector+" "]===undefined&&(n[r]=s.needsContext?-1<pe(r,this).index(l):pe.find(r,this,null,[l]).length),n[r]&&n.push(s);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},addProp:function(t,e){Object.defineProperty(pe.Event.prototype,t,{enumerable:!0,configurable:!0,get:pe.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[pe.expando]?e:new pe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===o()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&pe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},pe.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},pe.Event=function(e,t){if(!(this instanceof pe.Event))return new pe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?s:y,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),this[pe.expando]=!0},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=s,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=s,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=s,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&t!==undefined&&Je.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},pe.event.addProp),pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,s){pe.event.special[e]={delegateType:s,bindType:s,handle:function(e){var t,i=this,n=e.relatedTarget,r=e.handleObj;return n&&(n===i||pe.contains(i,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=s),t}}}),pe.fn.extend({on:function(e,t,i,n){return $(this,e,t,i,n)},one:function(e,t,i,n){return $(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,pe(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=undefined),!1===i&&(i=y),this.each(function(){pe.event.remove(this,e,i,t)});for(r in e)this.off(r,t,e[r]);return this}});var Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pe.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,i){var n,r,s,o,a=e.cloneNode(!0),l=pe.contains(e.ownerDocument,e);if(!(ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(o=m(a),n=0,r=(s=m(e)).length;n<r;n++)C(s[n],o[n]);if(t)if(i)for(s=s||m(e),o=o||m(a),n=0,r=s.length;n<r;n++)k(s[n],o[n]);else k(e,a);return 0<(o=m(a,"script")).length&&b(o,!l&&m(e,"script")),a},cleanData:function(e){for(var t,i,n,r=pe.event.special,s=0;(i=e[s])!==undefined;s++)if(qe(i)){if(t=i[Me.expando]){if(t.events)for(n in t.events)r[n]?pe.event.remove(i,n):pe.removeEvent(i,n,t.handle);i[Me.expando]=undefined}i[Ae.expando]&&(i[Ae.expando]=undefined)}}}),pe.fn.extend({detach:function(e){return I(this,e,!0)},remove:function(e){return I(this,e)},text:function(e){return Te(this,function(e){return e===undefined?pe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return S(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,e).appendChild(e)})},prepend:function(){return S(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return S(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(pe.cleanData(m(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Te(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!et.test(e)&&!Be[(We.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(pe.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return S(this,arguments,function(e){var t=this.parentNode;pe.inArray(this,i)<0&&(pe.cleanData(m(this)),t&&t.replaceChild(e,this))},i)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){pe.fn[e]=function(e){for(var t,i=[],n=pe(e),r=n.length-1,s=0;s<=r;s++)t=s===r?this:this.clone(!0),pe(n[s])[o](t),ne.apply(i,t.get());return this.pushStack(i)}});var rt=/^margin/,st=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),ot=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=j),t.getComputedStyle(e)};!function(){function e(){if(o){o.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",o.innerHTML="",Ke.appendChild(s);var e=j.getComputedStyle(o);t="1%"!==e.top,r="2px"===e.marginLeft,i="4px"===e.width,o.style.marginRight="50%",n="4px"===e.marginRight,Ke.removeChild(s),o=null}}var t,i,n,r,s=Z.createElement("div"),o=Z.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===o.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(o),pe.extend(ce,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),n},reliableMarginLeft:function(){return e(),r}}))}();var at=/^(none|table(?!-c[ea]).+)/,lt={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","Moz","ms"],ut=Z.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=T(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=pe.camelCase(t),l=e.style;if(t=pe.cssProps[a]||(pe.cssProps[a]=M(a)||a),o=pe.cssHooks[t]||pe.cssHooks[a],i===undefined)return o&&"get"in o&&(r=o.get(e,!1,n))!==undefined?r:l[t];"string"===(s=typeof i)&&(r=Ne.exec(i))&&r[1]&&(i=h(e,t,r),s="number"),null!=i&&i==i&&("number"===s&&(i+=r&&r[3]||(pe.cssNumber[a]?"":"px")),ce.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&(i=o.set(e,i,n))===undefined||(l[t]=i))}},css:function(e,t,i,n){var r,s,o,a=pe.camelCase(t);return t=pe.cssProps[a]||(pe.cssProps[a]=M(a)||a),(o=pe.cssHooks[t]||pe.cssHooks[a])&&"get"in o&&(r=o.get(e,!0,i)),r===undefined&&(r=T(e,t,n)),"normal"===r&&t in dt&&(r=dt[t]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),pe.each(["height","width"],function(e,o){pe.cssHooks[o]={get:function(e,t,i){if(t)return!at.test(pe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?O(e,o,i):Ge(e,lt,function(){return O(e,o,i)})},set:function(e,t,i){var n,r=i&&ot(e),s=i&&F(e,o,i,"border-box"===pe.css(e,"boxSizing",!1,r),r);return s&&(n=Ne.exec(t))&&"px"!==(n[3]||"px")&&(e.style[o]=t,t=pe.css(e,o)),A(e,t,s)}}}),pe.cssHooks.marginLeft=q(ce.reliableMarginLeft,function(e,t){if(t)return(parseFloat(T(e,"marginLeft"))||e.getBoundingClientRect().left-Ge(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(r,s){pe.cssHooks[r+s]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[r+Ee[t]+s]=n[t]||n[t-2]||n[0];return i}},rt.test(r)||(pe.cssHooks[r+s].set=A)}),pe.fn.extend({css:function(e,t){return Te(this,function(e,t,i){var n,r,s={},o=0;if(pe.isArray(t)){for(n=ot(e),r=t.length;o<r;o++)s[t[o]]=pe.css(e,t[o],!1,n);return s}return i!==undefined?pe.style(e,t,i):pe.css(e,t)},e,t,1<arguments.length)}}),(pe.Tween=P).prototype={constructor:P,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(pe.cssNumber[i]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,i=P.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=P.prototype.init,pe.fx.step={};var pt,ht,ft,gt,mt=/^(?:toggle|show|hide)$/,vt=/queueHooks$/;pe.Animation=pe.extend(W,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return h(i.elem,e,Ne.exec(t),i),i}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(Ce);for(var i,n=0,r=e.length;n<r;n++)i=e[n],W.tweeners[i]=W.tweeners[i]||[],W.tweeners[i].unshift(t)},prefilters:[z],prefilter:function(e,t){t?W.prefilters.unshift(e):W.prefilters.push(e)}}),pe.speed=function(e,t,i){var n=e&&"object"==typeof e?pe.extend({},e):{complete:i||!i&&t||pe.isFunction(e)&&e,duration:e,easing:i&&t||t&&!pe.isFunction(t)&&t};return pe.fx.off||Z.hidden?n.duration=0:n.duration="number"==typeof n.duration?n.duration:n.duration in pe.fx.speeds?pe.fx.speeds[n.duration]:pe.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){pe.isFunction(n.old)&&n.old.call(this),n.queue&&pe.dequeue(this,n.queue)},n},pe.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Re).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var r=pe.isEmptyObject(t),s=pe.speed(e,i,n),o=function(){var e=W(this,pe.extend({},t),s);(r||Me.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(r,e,s){var o=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof r&&(s=e,e=r,r=undefined),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",i=pe.timers,n=Me.get(this);if(t)n[t]&&n[t].stop&&o(n[t]);else for(t in n)n[t]&&n[t].stop&&vt.test(t)&&o(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=r&&i[t].queue!==r||(i[t].anim.stop(s),e=!1,i.splice(t,1));!e&&s||pe.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=Me.get(this),i=t[o+"queue"],n=t[o+"queueHooks"],r=pe.timers,s=i?i.length:0;for(t.finish=!0,pe.queue(this,o,[]),n&&n.stop&&n.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===o&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),pe.each(["toggle","show","hide"],function(e,n){var r=pe.fn[n];pe.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(R(n,!0),e,t,i)}}),pe.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){pe.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),pe.timers=[],pe.fx.tick=function(){var e,t=0,i=pe.timers;for(pt=pe.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||pe.fx.stop(),pt=undefined},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){ht||(ht=j.requestAnimationFrame?j.requestAnimationFrame(N):j.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){j.cancelAnimationFrame?j.cancelAnimationFrame(ht):j.clearInterval(ht),ht=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(n,e){return n=pe.fx&&pe.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=j.setTimeout(e,n);t.stop=function(){j.clearTimeout(i)}})},ft=Z.createElement("input"),gt=Z.createElement("select").appendChild(Z.createElement("option")),ft.type="checkbox",ce.checkOn=""!==ft.value,ce.optSelected=gt.selected,(ft=Z.createElement("input")).value="t",ft.type="radio",ce.radioValue="t"===ft.value;var bt,_t=pe.expr.attrHandle;pe.fn.extend({attr:function(e,t){return Te(this,pe.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return"undefined"==typeof e.getAttribute?pe.prop(e,t,i):(1===s&&pe.isXMLDoc(e)||(r=pe.attrHooks[t.toLowerCase()]||(pe.expr.match.bool.test(t)?bt:undefined)),i!==undefined?null===i?void pe.removeAttr(e,t):r&&"set"in r&&(n=r.set(e,i,t))!==undefined?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=pe.find.attr(e,t))?undefined:n)},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(Ce);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),bt={set:function(e,t,i){return!1===t?pe.removeAttr(e,i):e.setAttribute(i,i),i}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var o=_t[t]||pe.find.attr;_t[t]=function(e,t,i){var n,r,s=t.toLowerCase();return i||(r=_t[s],_t[s]=n,n=null!=o(e,t,i)?s:null,_t[s]=r),n}});var yt=/^(?:input|select|textarea|button)$/i,$t=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Te(this,pe.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[pe.propFix[e]||e]})}}),pe.extend({prop:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,r=pe.propHooks[t]),i!==undefined?r&&"set"in r&&(n=r.set(e,i,t))!==undefined?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||$t.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ce.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this});var wt=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(t){var e,i,n,r,s,o,a,l=0;if(pe.isFunction(t))return this.each(function(e){pe(this).addClass(t.call(this,e,L(this)))});if("string"==typeof t&&t)for(e=t.match(Ce)||[];i=this[l++];)if(r=L(i),n=1===i.nodeType&&(" "+r+" ").replace(wt," ")){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r!==(a=pe.trim(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,s,o,a,l=0;if(pe.isFunction(t))return this.each(function(e){pe(this).removeClass(t.call(this,e,L(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ce)||[];i=this[l++];)if(r=L(i),n=1===i.nodeType&&(" "+r+" ").replace(wt," ")){for(o=0;s=e[o++];)for(;-1<n.indexOf(" "+s+" ");)n=n.replace(" "+s+" "," ");r!==(a=pe.trim(n))&&i.setAttribute("class",a)}return this},toggleClass:function(r,t){var s=typeof r;return"boolean"==typeof t&&"string"===s?t?this.addClass(r):this.removeClass(r):pe.isFunction(r)?this.each(function(e){pe(this).toggleClass(r.call(this,e,L(this),t),t)}):this.each(function(){var e,t,i,n;if("string"===s)for(t=0,i=pe(this),n=r.match(Ce)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else r!==undefined&&"boolean"!==s||((e=L(this))&&Me.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===r?"":Me.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+L(i)+" ").replace(wt," ").indexOf(t))return!0;return!1}});var xt=/\r/g,jt=/[\x20\t\r\n\f]+/g;pe.fn.extend({val:function(i){var n,e,r,t=this[0];return arguments.length?(r=pe.isFunction(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?i.call(this,e,pe(this).val()):i)?t="":"number"==typeof t?t+="":pe.isArray(t)&&(t=pe.map(t,function(e){return null==e?"":e+""})),(n=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,t,"value")!==undefined||(this.value=t))})):t?(n=pe.valHooks[t.type]||pe.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&(e=n.get(t,"value"))!==undefined?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e)).replace(jt," ")}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type,o=s?null:[],a=s?r+1:n.length,l=r<0?a:s?r:0;l<a;l++)if(((i=n[l]).selected||l===r)&&!i.disabled&&(!i.parentNode.disabled||!pe.nodeName(i.parentNode,"optgroup"))){if(t=pe(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=pe.makeArray(t),o=r.length;o--;)((n=r[o]).selected=-1<pe.inArray(pe.valHooks.option.get(n),s))&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=-1<pe.inArray(pe(e).val(),t)}},ce.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Dt=/^(?:focusinfocus|focusoutblur)$/;pe.extend(pe.event,{trigger:function(e,t,i,n){var r,s,o,a,l,d,c,u=[i||Z],p=ae.call(e,"type")?e.type:e,h=ae.call(e,"namespace")?e.namespace.split("."):[];if(s=o=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!Dt.test(p+pe.event.triggered)&&(-1<p.indexOf(".")&&(p=(h=p.split(".")).shift(),h.sort()),l=p.indexOf(":")<0&&"on"+p,(e=e[pe.expando]?e:new pe.Event(p,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=i),t=null==t?[e]:pe.makeArray(t,[e]),c=pe.event.special[p]||{},n||!c.trigger||!1!==c.trigger.apply(i,t))){if(!n&&!c.noBubble&&!pe.isWindow(i)){for(a=c.delegateType||p,Dt.test(a+p)||(s=s.parentNode);s;s=s.parentNode)u.push(s),o=s;o===(i.ownerDocument||Z)&&u.push(o.defaultView||o.parentWindow||j)}for(r=0;(s=u[r++])&&!e.isPropagationStopped();)e.type=1<r?a:c.bindType||p,(d=(Me.get(s,"events")||{})[e.type]&&Me.get(s,"handle"))&&d.apply(s,t),(d=l&&s[l])&&d.apply&&qe(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=p,n||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(u.pop(),t)||!qe(i)||l&&pe.isFunction(i[p])&&!pe.isWindow(i)&&((o=i[l])&&(i[l]=null),i[pe.event.triggered=p](),pe.event.triggered=undefined,o&&(i[l]=o)),e.result}},simulate:function(e,t,i){var n=pe.extend(new pe.Event,i,{type:e,isSimulated:!0});pe.event.trigger(n,null,t)}}),pe.fn.extend({trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return pe.event.trigger(e,t,i,!0)}}),pe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){pe.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ce.focusin="onfocusin"in j,ce.focusin||pe.each({focus:"focusin",blur:"focusout"},function(i,n){var r=function(e){pe.event.simulate(n,e.target,pe.event.fix(e))};pe.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=Me.access(e,n);t||e.addEventListener(i,r,!0),Me.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=Me.access(e,n)-1;t?Me.access(e,n,t):(e.removeEventListener(i,r,!0),Me.remove(e,n))}}});var kt=j.location,Ct=pe.now(),St=/\?/;pe.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new j.DOMParser).parseFromString(e,"text/xml")}catch(i){t=undefined}return t&&!t.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+e),t};var It=/\[\]$/,Tt=/\r?\n/g,qt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var i,n=[],r=function(e,t){var i=pe.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){r(this.name,this.value)});else for(i in e)B(i,e[i],t,r);return n.join("&")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&Mt.test(this.nodeName)&&!qt.test(e)&&(this.checked||!He.test(e))}).map(function(e,t){var i=pe(this).val();return null==i?null:pe.isArray(i)?pe.map(i,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:i.replace(Tt,"\r\n")}}).get()}});var At=/%20/g,Ft=/#.*$/,Ot=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Et=/^(?:GET|HEAD)$/,Rt=/^\/\//,Gt={},zt={},Ht="*/".concat("*"),Wt=Z.createElement("a");Wt.href=kt.href,pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:kt.href,type:"GET",isLocal:Nt.test(kt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Y(Y(e,pe.ajaxSettings),t):Y(pe.ajaxSettings,e)},ajaxPrefilter:U(Gt),ajaxTransport:U(zt),ajax:function(e,t){function i(e,t,i,n){var r,s,o,a,l,d=t;f||(f=!0,h&&j.clearTimeout(h),c=undefined,p=n||"",w.readyState=0<e?4:0,r=200<=e&&e<300||304===e,i&&(a=K(m,w,i)),a=X(m,a,w,r),r?(m.ifModified&&((l=w.getResponseHeader("Last-Modified"))&&(pe.lastModified[u]=l),(l=w.getResponseHeader("etag"))&&(pe.etag[u]=l)),204===e||"HEAD"===m.type?d="nocontent":304===e?d="notmodified":(d=a.state,s=a.data,r=!(o=a.error))):(o=d,!e&&d||(d="error",e<0&&(e=0))),w.status=e,w.statusText=(t||d)+"",r?_.resolveWith(v,[s,d,w]):_.rejectWith(v,[w,d,o]),w.statusCode($),$=undefined,g&&b.trigger(r?"ajaxSuccess":"ajaxError",[w,m,r?s:o]),y.fireWith(v,[w,d]),g&&(b.trigger("ajaxComplete",[w,m]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=undefined),t=t||{};var c,u,p,n,h,r,f,g,s,o,m=pe.ajaxSetup({},t),v=m.context||m,b=m.context&&(v.nodeType||v.jquery)?pe(v):pe.event,_=pe.Deferred(),y=pe.Callbacks("once memory"),$=m.statusCode||{},a={},l={},d="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(f){if(!n)for(n={};t=Pt.exec(p);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return f?p:null},setRequestHeader:function(e,t){return null==f&&(e=l[e.toLowerCase()]=l[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==f&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(f)w.always(e[w.status]);else for(t in e)$[t]=[$[t],e[t]];return this},abort:function(e){var t=e||d;return c&&c.abort(t),i(0,t),this}};if(_.promise(w),m.url=((e||m.url||kt.href)+"").replace(Rt,kt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(Ce)||[""],null==m.crossDomain){r=Z.createElement("a");try{r.href=m.url,r.href=r.href,m.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(x){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=pe.param(m.data,m.traditional)),V(Gt,m,t,w),f)return w;for(s in(g=pe.event&&m.global)&&0==pe.active++&&pe.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Et.test(m.type),u=m.url.replace(Ft,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(At,"+")):(o=m.url.slice(u.length),m.data&&(u+=(St.test(u)?"&":"?")+m.data,delete m.data),!1===m.cache&&(u=u.replace(Ot,""),o=(St.test(u)?"&":"?")+"_="+Ct+++o),m.url=u+o),m.ifModified&&(pe.lastModified[u]&&w.setRequestHeader("If-Modified-Since",pe.lastModified[u]),pe.etag[u]&&w.setRequestHeader("If-None-Match",pe.etag[u])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ht+"; q=0.01":""):m.accepts["*"]),m.headers)w.setRequestHeader(s,m.headers[s]);if(m.beforeSend&&(!1===m.beforeSend.call(v,w,m)||f))return w.abort();if(d="abort",y.add(m.complete),w.done(m.success),w.fail(m.error),c=V(zt,m,t,w)){if(w.readyState=1,g&&b.trigger("ajaxSend",[w,m]),f)return w;m.async&&0<m.timeout&&(h=j.setTimeout(function(){w.abort("timeout")},m.timeout));try{f=!1,c.send(a,i)}catch(x){if(f)throw x;i(-1,x)}}else i(-1,"No Transport");return w},getJSON:function(e,t,i){return pe.get(e,t,i,"json")},getScript:function(e,t){return pe.get(e,undefined,t,"script")}}),pe.each(["get","post"],function(e,r){pe[r]=function(e,t,i,n){return pe.isFunction(t)&&(n=n||i,i=t,t=undefined),pe.ajax(pe.extend({url:e,type:r,dataType:n,data:t,success:i},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pe.fn.extend({wrapAll:function(e){var t;return this[0]&&(pe.isFunction(e)&&(e=e.call(this[0])),t=pe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(i){return pe.isFunction(i)?this.each(function(e){pe(this).wrapInner(i.call(this,e))}):this.each(function(){var e=pe(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=pe.isFunction(t);return this.each(function(e){pe(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){pe(this).replaceWith(this.childNodes)}),this}}),pe.expr.pseudos.hidden=function(e){return!pe.expr.pseudos.visible(e)},pe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},pe.ajaxSettings.xhr=function(){try{return new j.XMLHttpRequest}catch(e){}};var Lt={0:200,1223:204},Bt=pe.ajaxSettings.xhr();ce.cors=!!Bt&&"withCredentials"in Bt,ce.ajax=Bt=!!Bt,pe.ajaxTransport(function(s){var o,a;if(ce.cors||Bt&&!s.crossDomain)return{send:function(e,t){var i,n=s.xhr();if(n.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(i in s.xhrFields)n[i]=s.xhrFields[i];for(i in s.mimeType&&n.overrideMimeType&&n.overrideMimeType(s.mimeType),s.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(i,e[i]);o=function(e){return function(){o&&(o=a=n.onload=n.onerror=n.onabort=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t(Lt[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=o(),a=n.onerror=o("error"),n.onabort!==undefined?n.onabort=a:n.onreadystatechange=function(){4===n.readyState&&j.setTimeout(function(){o&&a()})},o=o("abort");try{n.send(s.hasContent&&s.data||null)}catch(r){if(o)throw r}},abort:function(){o&&o()}}}),pe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),pe.ajaxTransport("script",function(i){var n,r;if(i.crossDomain)return{send:function(e,t){n=pe("<script>").prop({charset:i.scriptCharset,src:i.url}).on("load error",r=function(e){n.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),Z.head.appendChild(n[0])},abort:function(){r&&r()}}});var Ut,Vt=[],Yt=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||pe.expando+"_"+Ct++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(e,t,i){var n,r,s,o=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=pe.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Yt,"$1"+n):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return s||pe.error(n+" was not called"),s[0]},e.dataTypes[0]="json",r=j[n],j[n]=function(){s=arguments},i.always(function(){r===undefined?pe(j).removeProp(n):j[n]=r,e[n]&&(e.jsonpCallback=t.jsonpCallback,Vt.push(n)),s&&pe.isFunction(r)&&r(s[0]),s=r=undefined}),"script"}),ce.createHTMLDocument=((Ut=Z.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),pe.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(ce.createHTMLDocument?((n=(t=Z.implementation.createHTMLDocument("")).createElement("base")).href=Z.location.href,t.head.appendChild(n)):t=Z),s=!i&&[],(r=$e.exec(e))?[t.createElement(r[1])]:(r=_([e],t,s),s&&s.length&&pe(s).remove(),pe.merge([],r.childNodes)));var n,r,s},pe.fn.load=function(e,t,i){var n,r,s,o=this,a=e.indexOf(" ");return-1<a&&(n=pe.trim(e.slice(a)),e=e.slice(0,a)),
pe.isFunction(t)?(i=t,t=undefined):t&&"object"==typeof t&&(r="POST"),0<o.length&&pe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,o.html(n?pe("<div>").append(pe.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,s||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.pseudos.animated=function(t){return pe.grep(pe.timers,function(e){return t===e.elem}).length},pe.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,d=pe.css(e,"position"),c=pe(e),u={};"static"===d&&(e.style.position="relative"),a=c.offset(),s=pe.css(e,"top"),l=pe.css(e,"left"),("absolute"===d||"fixed"===d)&&-1<(s+l).indexOf("auto")?(o=(n=c.position()).top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,i,pe.extend({},a))),null!=t.top&&(u.top=t.top-a.top+o),null!=t.left&&(u.left=t.left-a.left+r),"using"in t?t.using.call(e,u):c.css(u)}},pe.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){pe.offset.setOffset(this,t,e)});var e,i,n,r,s=this[0];return s?s.getClientRects().length?(n=s.getBoundingClientRect()).width||n.height?(i=J(r=s.ownerDocument),e=r.documentElement,{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}):n:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===pe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(n=e.offset()),n={top:n.top+pe.css(e[0],"borderTopWidth",!0),left:n.left+pe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-n.top-pe.css(i,"marginTop",!0),left:t.left-n.left-pe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||Ke})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var s="pageYOffset"===r;pe.fn[t]=function(e){return Te(this,function(e,t,i){var n=J(e);if(i===undefined)return n?n[r]:e[t];n?n.scrollTo(s?n.pageXOffset:i,s?i:n.pageYOffset):e[t]=i},t,e,arguments.length)}}),pe.each(["top","left"],function(e,i){pe.cssHooks[i]=q(ce.pixelPosition,function(e,t){if(t)return t=T(e,i),st.test(t)?pe(e).position()[i]+"px":t})}),pe.each({Height:"height",Width:"width"},function(o,a){pe.each({padding:"inner"+o,content:a,"":"outer"+o},function(n,s){pe.fn[s]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),r=n||(!0===e||!0===t?"margin":"border");return Te(this,function(e,t,i){var n;return pe.isWindow(e)?0===s.indexOf("outer")?e["inner"+o]:e.document.documentElement["client"+o]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+o],n["scroll"+o],e.body["offset"+o],n["offset"+o],n["client"+o])):i===undefined?pe.css(e,t,r):pe.style(e,t,i,r)},a,i?e:undefined,i)}})}),pe.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),pe.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var Kt=j.jQuery,Xt=j.$;return pe.noConflict=function(e){return j.$===pe&&(j.$=Xt),e&&j.jQuery===pe&&(j.jQuery=Kt),pe},e||(j.jQuery=j.$=pe),pe}),function(c,l){"use strict";var d;c.rails!==l&&c.error("jquery-ujs has already been loaded!");var e=c(document);c.rails=d={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return c("meta[name=csrf-token]").attr("content")},csrfParam:function(){return c("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=d.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){c('form input[name="'+d.csrfParam()+'"]').val(d.csrfToken())},fire:function(e,t,i){var n=c.Event(t);return e.trigger(n,i),!1!==n.result},confirm:function(e){return confirm(e)},ajax:function(e){return c.ajax(e)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==l&&!1!==e.data("remote")},handleRemote:function(n){var e,t,i,r,s,o;if(d.fire(n,"ajax:before")){if(r=n.data("with-credentials")||null,s=n.data("type")||c.ajaxSettings&&c.ajaxSettings.dataType,n.is("form")){e=n.data("ujs:submit-button-formmethod")||n.attr("method"),t=n.data("ujs:submit-button-formaction")||n.attr("action"),i=c(n[0]).serializeArray();var a=n.data("ujs:submit-button");a&&(i.push(a),n.data("ujs:submit-button",null)),n.data("ujs:submit-button-formmethod",null),n.data("ujs:submit-button-formaction",null)}else n.is(d.inputChangeSelector)?(e=n.data("method"),t=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):n.is(d.buttonClickSelector)?(e=n.data("method")||"get",t=n.data("url"),i=n.serialize(),n.data("params")&&(i=i+"&"+n.data("params"))):(e=n.data("method"),t=d.href(n),i=n.data("params")||null);return o={type:e||"GET",data:i,dataType:s,beforeSend:function(e,t){if(t.dataType===l&&e.setRequestHeader("accept","*/*;q=0.5, "+t.accepts.script),!d.fire(n,"ajax:beforeSend",[e,t]))return!1;n.trigger("ajax:send",e)},success:function(e,t,i){n.trigger("ajax:success",[e,t,i])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,i){n.trigger("ajax:error",[e,t,i])},crossDomain:d.isCrossDomain(t)},r&&(o.xhrFields={withCredentials:r}),t&&(o.url=t),d.ajax(o)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var i=document.createElement("a");try{return i.href=e,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||t.protocol+"//"+t.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(e){var t=d.href(e),i=e.data("method"),n=e.attr("target"),r=d.csrfToken(),s=d.csrfParam(),o=c('<form method="post" action="'+t+'"></form>'),a='<input name="_method" value="'+i+'" type="hidden" />';s===l||r===l||d.isCrossDomain(t)||(a+='<input name="'+s+'" value="'+r+'" type="hidden" />'),n&&o.attr("target",n),o.hide().append(a).appendTo("body"),o.submit()},formElements:function(e,t){return e.is("form")?c(e[0].elements).filter(t):e.find(t)},disableFormElements:function(e){d.formElements(e,d.disableSelector).each(function(){d.disableFormElement(c(this))})},disableFormElement:function(e){var t,i;t=e.is("button")?"html":"val",(i=e.data("disable-with"))!==l&&(e.data("ujs:enable-with",e[t]()),e[t](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(e){d.formElements(e,d.enableSelector).each(function(){d.enableFormElement(c(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")!==l&&(e[t](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),n=!1;if(!i)return!0;if(d.fire(e,"confirm")){try{n=d.confirm(i)}catch(r){(console.error||console.log).call(console,r.stack||r)}t=d.fire(e,"confirm:complete",[n])}return n&&t},blankInputs:function(e,t,i){var n,r,s,o=c(),a=t||"input,textarea",l=e.find(a),d={};return l.each(function(){(n=c(this)).is("input[type=radio]")?(s=n.attr("name"),d[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(r=e.find('input[type=radio][name="'+s+'"]'),o=o.add(r)),d[s]=s)):(n.is("input[type=checkbox],input[type=radio]")?n.is(":checked"):!!n.val())===i&&(o=o.add(n))}),!!o.length&&o},nonBlankInputs:function(e,t){return d.blankInputs(e,t,!0)},stopEverything:function(e){return c(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(e){var t=e.data("disable-with");t!==l&&(e.data("ujs:enable-with",e.html()),e.html(t)),e.bind("click.railsDisable",function(e){return d.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==l&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},d.fire(e,"rails:attachBindings")&&(c.ajaxPrefilter(function(e,t,i){e.crossDomain||d.CSRFProtection(i)}),c(window).on("pageshow.rails",function(){c(c.rails.enableSelector).each(function(){var e=c(this);e.data("ujs:disabled")&&c.rails.enableFormElement(e)}),c(c.rails.linkDisableSelector).each(function(){var e=c(this);e.data("ujs:disabled")&&c.rails.enableElement(e)})}),e.delegate(d.linkDisableSelector,"ajax:complete",function(){d.enableElement(c(this))}),e.delegate(d.buttonDisableSelector,"ajax:complete",function(){d.enableFormElement(c(this))}),e.delegate(d.linkClickSelector,"click.rails",function(e){var t=c(this),i=t.data("method"),n=t.data("params"),r=e.metaKey||e.ctrlKey;if(!d.allowAction(t))return d.stopEverything(e);if(!r&&t.is(d.linkDisableSelector)&&d.disableElement(t),d.isRemote(t)){if(r&&(!i||"GET"===i)&&!n)return!0;var s=d.handleRemote(t);return!1===s?d.enableElement(t):s.fail(function(){d.enableElement(t)}),!1}return i?(d.handleMethod(t),!1):void 0}),e.delegate(d.buttonClickSelector,"click.rails",function(e){var t=c(this);if(!d.allowAction(t)||!d.isRemote(t))return d.stopEverything(e);t.is(d.buttonDisableSelector)&&d.disableFormElement(t);var i=d.handleRemote(t);return!1===i?d.enableFormElement(t):i.fail(function(){d.enableFormElement(t)}),!1}),e.delegate(d.inputChangeSelector,"change.rails",function(e){var t=c(this);return d.allowAction(t)&&d.isRemote(t)?(d.handleRemote(t),!1):d.stopEverything(e)}),e.delegate(d.formSubmitSelector,"submit.rails",function(e){var t,i,n=c(this),r=d.isRemote(n);if(!d.allowAction(n))return d.stopEverything(e);if(n.attr("novalidate")===l)if(n.data("ujs:formnovalidate-button")===l){if((t=d.blankInputs(n,d.requiredInputSelector,!1))&&d.fire(n,"ajax:aborted:required",[t]))return d.stopEverything(e)}else n.data("ujs:formnovalidate-button",l);if(r){if(i=d.nonBlankInputs(n,d.fileInputSelector)){setTimeout(function(){d.disableFormElements(n)},13);var s=d.fire(n,"ajax:aborted:file",[i]);return s||setTimeout(function(){d.enableFormElements(n)},13),s}return d.handleRemote(n),!1}setTimeout(function(){d.disableFormElements(n)},13)}),e.delegate(d.formInputClickSelector,"click.rails",function(e){var t=c(this);if(!d.allowAction(t))return d.stopEverything(e);var i=t.attr("name"),n=i?{name:i,value:t.val()}:null,r=t.closest("form");0===r.length&&(r=c("#"+t.attr("form"))),r.data("ujs:submit-button",n),r.data("ujs:formnovalidate-button",t.attr("formnovalidate")),r.data("ujs:submit-button-formaction",t.attr("formaction")),r.data("ujs:submit-button-formmethod",t.attr("formmethod"))}),e.delegate(d.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&d.disableFormElements(c(this))}),e.delegate(d.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&d.enableFormElements(c(this))}),c(function(){d.refreshCSRFTokens()}))}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(S){function l(e){for(var t=e.css("visibility");"inherit"===t;)t=(e=e.parent()).css("visibility");return"hidden"!==t}function d(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},S.extend(this._defaults,this.regional[""]),this.regional.en=S.extend(!0,{},this.regional[""]),this.regional["en-US"]=S.extend(!0,{},this.regional.en),this.dpDiv=i(S("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",t,function(){S(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&S(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&S(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",t,o)}function o(){S.datepicker._isDisabledDatepicker(y.inline?y.dpDiv.parent()[0]:y.input[0])||(S(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),S(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&S(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&S(this).addClass("ui-datepicker-next-hover"))}function u(e,t){for(var i in S.extend(e,t),t)null==t[i]&&(e[i]=t[i]);return e}function t(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}S.ui=S.ui||{};S.ui.version="1.12.0";var s,n=0,a=Array.prototype.slice;S.cleanData=(s=S.cleanData,function(e){var t,i,n;for(n=0;null!=(i=e[n]);n++)try{(t=S._data(i,"events"))&&t.remove&&S(i).triggerHandler("remove")}catch(r){}s(e)}),S.widget=function(e,i,t){var n,r,s,o={},a=e.split(".")[0],l=a+"-"+(e=e.split(".")[1]);return t||(t=i,i=S.Widget),S.isArray(t)&&(t=S.extend.apply(null,[{}].concat(t))),S.expr[":"][l.toLowerCase()]=function(e){return!!S.data(e,l)},S[a]=S[a]||{},n=S[a][e],r=S[a][e]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},S.extend(r,n,{version:t.version,_proto:S.extend({},t),_childConstructors:[]}),(s=new i).options=S.widget.extend({},s.options),S.each(t,function(t,s){S.isFunction(s)?o[t]=function(){function n(){return i.prototype[t].apply(this,arguments)}function r(e){return i.prototype[t].apply(this,e)}return function(){var e,t=this._super,i=this._superApply;return this._super=n,this._superApply=r,e=s.apply(this,arguments),this._super=t,this._superApply=i,e}}():o[t]=s}),r.prototype=S.widget.extend(s,{widgetEventPrefix:n&&s.widgetEventPrefix||e},o,{constructor:r,namespace:a,widgetName:e,widgetFullName:l}),n?(S.each(n._childConstructors,function(e,t){var i=t.prototype;S.widget(i.namespace+"."+i.widgetName,r,t._proto)}),delete n._childConstructors):i._childConstructors.push(r),S.widget.bridge(e,r),r},S.widget.extend=function(e){for(var t,i,n=a.call(arguments,1),r=0,s=n.length;r<s;r++)for(t in n[r])i=n[r][t],n[r].hasOwnProperty(t)&&i!==undefined&&(S.isPlainObject(i)?e[t]=S.isPlainObject(e[t])?S.widget.extend({},e[t],i):S.widget.extend({},i):e[t]=i);return e},S.widget.bridge=function(s,t){var o=t.prototype.widgetFullName||s;S.fn[s]=function(i){var e="string"==typeof i,n=a.call(arguments,1),r=this;return e?this.each(function(){var e,t=S.data(this,o);return"instance"===i?(r=t,!1):t?S.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,n))!==t&&e!==undefined?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:S.error("no such method '"+i+"' for "+s+" widget instance"):S.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+i+"'")}):(n.length&&(i=S.widget.extend.apply(null,[i].concat(n))),this.each(function(){var e=S.data(this,o);e?(e.option(i||{}),e._init&&e._init()):S.data(this,o,new t(i,this))})),r}},S.Widget=function(){},S.Widget._childConstructors=[],S.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=S(t||this.defaultElement||this)[0],this.element=S(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=S(),this.hoverable=S(),this.focusable=S(),this.classesElementLookup={},t!==this&&(S.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=S(t.style?t.ownerDocument:t.document||t),this.window=S(this.document[0].defaultView||this.document[0].parentWindow)),this.options=S.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:S.noop,_create:S.noop,_init:S.noop,destroy:function(){var i=this;this._destroy(),S.each(this.classesElementLookup,function(e,t){i._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:S.noop,widget:function(){return this.element},option:function(e,t){var i,n,r,s=e;if(0===arguments.length)return S.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(n=s[e]=S.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)n[i[r]]=n[i[r]]||{},n=n[i[r]];if(e=i.pop(),1===arguments.length)return n[e]===undefined?null:n[e];n[e]=t}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];s[e]=t}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,i,n;for(t in e)n=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&n&&n.length&&(i=S(n.get()),this._removeClass(n,t),i.addClass(this._classes({element:i,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){function e(e,t){var i,n;for(n=0;n<e.length;n++)i=o.classesElementLookup[e[n]]||S(),i=r.add?S(S.unique(i.get().concat(r.element.get()))):S(i.not(r.element).get()),o.classesElementLookup[e[n]]=i,s.push(e[n]),t&&r.classes[e[n]]&&s.push(r.classes[e[n]])}var s=[],o=this;return(r=S.extend({element:this.element,classes:this.options.classes||{}},r)).keys&&e(r.keys.match(/\S+/g)||[],!0),r.extra&&e(r.extra.match(/\S+/g)||[]),s.join(" ")},_removeClass:function(e,t,i){return this._toggleClass(e,t,i,!1)},_addClass:function(e,t,i){return this._toggleClass(e,t,i,!0)},_toggleClass:function(e,t,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof e||null===e,s={extra:r?t:i,keys:r?e:t,element:r?this.element:e,add:n};return s.element.toggleClass(this._classes(s),n),this},_on:function(o,a,e){var l,d=this;"boolean"!=typeof o&&(e=a,a=o,o=!1),e?(a=l=S(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,l=this.widget()),S.each(e,function(e,t){function i(){if(o||!0!==d.options.disabled&&!S(this).hasClass("ui-state-disabled"))return("string"==typeof t?d[t]:t).apply(d,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||S.guid++);var n=e.match(/^([\w:-]*)\s*(.*)$/),r=n[1]+d.eventNamespace,s=n[2];s?l.on(r,s,i):a.on(r,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=S(this.bindings.not(e).get()),this.focusable=S(this.focusable.not(e).get()),this.hoverable=S(this.hoverable.not(e).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(S(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(S(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(S(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(S(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,i){var n,r,s=this.options[e];if(i=i||{},(t=S.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(n in r)n in t||(t[n]=r[n]);return this.element.trigger(t,i),!(S.isFunction(s)&&!1===s.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},S.each({show:"fadeIn",hide:"fadeOut"},function(s,o){S.Widget.prototype["_"+s]=function(t,e,i){var n;"string"==typeof e&&(e={effect:e});var r=e?!0===e||"number"==typeof e?o:e.effect||o:s;"number"==typeof(e=e||{})&&(e={duration:e}),n=!S.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&S.effects&&S.effects.effect[r]?t[s](e):r!==s&&t[r]?t[r](e.duration,e.easing,i):t.queue(function(e){S(this)[s](),i&&i.call(t[0]),e()})}});S.widget;!function(){function w(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function x(e,t){return parseInt(S.css(e,t),10)||0}function t(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:S.isWindow(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,j,D=Math.max,k=Math.abs,C=Math.round,n=/left|center|right/,s=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,i=S.fn.position;j=function(){var e=S("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),t=1.5===e.offset().top;return e.remove(),j=function(){return t},t},S.position={scrollbarWidth:function(){if(r!==undefined)return r;var e,t,i=S("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return S("body").append(i),e=n.offsetWidth,i.css("overflow","scroll"),e===(t=n.offsetWidth)&&(t=i[0].clientWidth),i.remove(),r=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?S.position.scrollbarWidth():0,height:n?S.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=S(e||window),i=S.isWindow(t[0]),n=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:i,isDocument:n,offset:!i&&!n?S(e).offset():{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},S.fn.position=function(u){if(!u||!u.of)return i.apply(this,arguments);u=S.extend({},u);var p,h,f,g,m,e,v=S(u.of),b=S.position.getWithinInfo(u.within),_=S.position.getScrollInfo(b),y=(u.collision||"flip").split(" "),$={};return e=t(v),v[0].preventDefault&&(u.at="left top"),h=e.width,f=e.height,g=e.offset,m=S.extend({},g),S.each(["my","at"],function(){var e,t,i=(u[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",e=o.exec(i[0]),t=o.exec(i[1]),$[this]=[e?e[0]:0,t?t[0]:0],u[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===u.at[0]?m.left+=h:"center"===u.at[0]&&(m.left+=h/2),"bottom"===u.at[1]?m.top+=f:"center"===u.at[1]&&(m.top+=f/2),p=w($.at,h,f),m.left+=p[0],m.top+=p[1],this.each(function(){var i,e,o=S(this),a=o.outerWidth(),l=o.outerHeight(),t=x(this,"marginLeft"),n=x(this,"marginTop"),r=a+t+x(this,"marginRight")+_.width,s=l+n+x(this,"marginBottom")+_.height,d=S.extend({},m),c=w($.my,o.outerWidth(),o.outerHeight());"right"===u.my[0]?d.left-=a:"center"===u.my[0]&&(d.left-=a/2),"bottom"===u.my[1]?d.top-=l:"center"===u.my[1]&&(d.top-=l/2),d.left+=c[0],d.top+=c[1],j()||(d.left=C(d.left),d.top=C(d.top)),i={marginLeft:t,marginTop:n},S.each(["left","top"],function(e,t){S.ui.position[y[e]]&&S.ui.position[y[e]][t](d,{targetWidth:h,targetHeight:f,elemWidth:a,elemHeight:l,collisionPosition:i,collisionWidth:r,collisionHeight:s,offset:[p[0]+c[0],p[1]+c[1]],my:u.my,at:u.at,within:b,elem:o})}),u.using&&(e=function(e){var t=g.left-d.left,i=t+h-a,n=g.top-d.top,r=n+f-l,s={target:{element:v,left:g.left,top:g.top,width:h,height:f},element:{element:o,left:d.left,top:d.top,width:a,height:l},horizontal:i<0?"left":0<t?"right":"center",vertical:r<0?"top":0<n?"bottom":"middle"};h<a&&k(t+i)<h&&(s.horizontal="center"),f<l&&k(n+r)<f&&(s.vertical="middle"),D(k(t),k(i))>D(k(n),k(r))?s.important="horizontal":s.important="vertical",u.using.call(this,e,s)}),o.offset(S.extend(d,{using:e}))})},S.ui.position={fit:{left:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,a=r-o,l=o+t.collisionWidth-s-r;t.collisionWidth>s?0<a&&l<=0?(i=e.left+a+t.collisionWidth-s-r,e.left+=a-i):e.left=0<l&&a<=0?r:l<a?r+s-t.collisionWidth:r:0<a?e.left+=a:0<l?e.left-=l:e.left=D(e.left-o,e.left)},top:function(e,t){var i,n=t.within,r=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,a=r-o,l=o+t.collisionHeight-s-r;t.collisionHeight>s?0<a&&l<=0?(i=e.top+a+t.collisionHeight-s-r,e.top+=a-i):e.top=0<l&&a<=0?r:l<a?r+s-t.collisionHeight:r:0<a?e.top+=a:0<l?e.top-=l:e.top=D(e.top-o,e.top)}},flip:{left:function(e,t){var i,n,r=t.within,s=r.offset.left+r.scrollLeft,o=r.width,a=r.isWindow?r.scrollLeft:r.offset.left,l=e.left-t.collisionPosition.marginLeft,d=l-a,c=l+t.collisionWidth-o-a,u="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0];d<0?((i=e.left+u+p+h+t.collisionWidth-o-s)<0||i<k(d))&&(e.left+=u+p+h):0<c&&(0<(n=e.left-t.collisionPosition.marginLeft+u+p+h-a)||k(n)<c)&&(e.left+=u+p+h)},top:function(e,t){var i,n,r=t.within,s=r.offset.top+r.scrollTop,o=r.height,a=r.isWindow?r.scrollTop:r.offset.top,l=e.top-t.collisionPosition.marginTop,d=l-a,c=l+t.collisionHeight-o-a,u="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,h=-2*t.offset[1];d<0?((n=e.top+u+p+h+t.collisionHeight-o-s)<0||n<k(d))&&(e.top+=u+p+h):0<c&&(0<(i=e.top-t.collisionPosition.marginTop+u+p+h-a)||k(i)<c)&&(e.top+=u+p+h)}},flipfit:{left:function(){S.ui.position.flip.left.apply(this,arguments),S.ui.position.fit.left.apply(this,arguments)},top:function(){S.ui.position.flip.top.apply(this,arguments),S.ui.position.fit.top.apply(this,arguments)}}}}();S.ui.position,S.extend(S.expr[":"],{data:S.expr.createPseudo?S.expr.createPseudo(function(t){return function(e){return!!S.data(e,t)}}):function(e,t,i){return!!S.data(e,i[3])}}),S.fn.extend({disableSelection:(r="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(r+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var r,c,p="ui-effects-",h="ui-effects-style",f="ui-effects-animated",g=S;S.effects={effect:{}},function(c,u){function p(e,t,i){var n=m[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:e<0?0:n.max<e?n.max:e)}function a(o){var a=f(),l=a._rgba=[];return o=o.toLowerCase(),b(t,function(e,t){var i,n=t.re.exec(o),r=n&&t.parse(n),s=t.space||"rgba";if(r)return i=a[s](r),a[g[s].cache]=i[g[s].cache],l=a._rgba=i._rgba,!1}),l.length?("0,0,0,0"===l.join()&&c.extend(l,d.transparent),a):d[o]}function l(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var d,e="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],f=c.Color=function(e,t,i,n){return new c.Color.fn.parse(e,t,i,n)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},v=f.support={},i=c("<p>")[0],b=c.each;i.style.cssText="background-color:rgba(1,1,1,.5)",v.rgba=-1<i.style.backgroundColor.indexOf("rgba"),b(g,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),f.fn=c.extend(f.prototype,{parse:function(r,e,t,i){if(r===u)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=c(r).css(e),e=u);var s=this,n=c.type(r),o=this._rgba=[];return e!==u&&(r=[r,e,t,i],n="array"),"string"===n?this.parse(a(r)||d._default):"array"===n?(b(g.rgba.props,function(e,t){o[t.idx]=p(r[t.idx],t)}),this):"object"===n?(b(g,r instanceof f?function(e,t){r[t.cache]&&(s[t.cache]=r[t.cache].slice())}:function(e,i){var n=i.cache;b(i.props,function(e,t){if(!s[n]&&i.to){if("alpha"===e||null==r[e])return;s[n]=i.to(s._rgba)}s[n][t.idx]=p(r[e],t,!0)}),s[n]&&c.inArray(null,s[n].slice(0,3))<0&&(s[n][3]=1,i.from&&(s._rgba=i.from(s[n])))}),this):void 0},is:function(e){var r=f(e),s=!0,o=this;return b(g,function(e,t){var i,n=r[t.cache];return n&&(i=o[t.cache]||t.to&&t.to(o._rgba)||[],b(t.props,function(e,t){if(null!=n[t.idx])return s=n[t.idx]===i[t.idx]})),s}),s},_space:function(){var i=[],n=this;return b(g,
function(e,t){n[t.cache]&&i.push(e)}),i.pop()},transition:function(e,o){var a=f(e),t=a._space(),i=g[t],n=0===this.alpha()?f("transparent"):this,l=n[i.cache]||i.to(n._rgba),d=l.slice();return a=a[i.cache],b(i.props,function(e,t){var i=t.idx,n=l[i],r=a[i],s=m[t.type]||{};null!==r&&(null===n?d[i]=r:(s.mod&&(r-n>s.mod/2?n+=s.mod:n-r>s.mod/2&&(n-=s.mod)),d[i]=p((r-n)*o+n,t)))}),this[t](d)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),n=f(e)._rgba;return f(c.map(t,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=c.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=c.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+c.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,g.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,r=e[1]/255,s=e[2]/255,o=e[3],a=Math.max(n,r,s),l=Math.min(n,r,s),d=a-l,c=a+l,u=.5*c;return t=l===a?0:n===a?60*(r-s)/d+360:r===a?60*(s-n)/d+120:60*(n-r)/d+240,i=0===d?0:u<=.5?d/c:d/(2-c),[Math.round(t)%360,i,u,null==o?1:o]},g.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],r=e[3],s=n<=.5?n*(1+i):n+i-n*i,o=2*n-s;return[Math.round(255*l(o,s,t+1/3)),Math.round(255*l(o,s,t)),Math.round(255*l(o,s,t-1/3)),r]},b(g,function(l,e){var i=e.props,o=e.cache,a=e.to,d=e.from;f.fn[l]=function(e){if(a&&!this[o]&&(this[o]=a(this._rgba)),e===u)return this[o].slice();var t,n=c.type(e),r="array"===n||"object"===n?e:arguments,s=this[o].slice();return b(i,function(e,t){var i=r["object"===n?e:t.idx];null==i&&(i=s[t.idx]),s[t.idx]=p(i,t)}),d?((t=f(d(s)))[o]=s,t):f(s)},b(i,function(o,a){f.fn[o]||(f.fn[o]=function(e){var t,i=c.type(e),n="alpha"===o?this._hsla?"hsla":"rgba":l,r=this[n](),s=r[a.idx];return"undefined"===i?s:("function"===i&&(e=e.call(this,s),i=c.type(e)),null==e&&a.empty?this:("string"===i&&(t=h.exec(e))&&(e=s+parseFloat(t[2])*("+"===t[1]?1:-1)),r[a.idx]=e,this[n](r)))})})}),f.hook=function(e){var t=e.split(" ");b(t,function(e,o){c.cssHooks[o]={set:function(e,t){var i,n,r="";if("transparent"!==t&&("string"!==c.type(t)||(i=a(t)))){if(t=f(i||t),!v.rgba&&1!==t._rgba[3]){for(n="backgroundColor"===o?e.parentNode:e;(""===r||"transparent"===r)&&n&&n.style;)try{r=c.css(n,"backgroundColor"),n=n.parentNode}catch(s){}t=t.blend(r&&"transparent"!==r?r:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(s){}}},c.fx.step[o]=function(e){e.colorInit||(e.start=f(e.elem,o),e.end=f(e.end),e.colorInit=!0),c.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})},f.hook(e),c.cssHooks.borderColor={expand:function(i){var n={};return b(["Top","Right","Bottom","Left"],function(e,t){n["border"+t+"Color"]=i}),n}},d=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(g),function(){function o(e){var t,i,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)"string"==typeof n[t=n[i]]&&(r[S.camelCase(t)]=n[t]);else for(t in n)"string"==typeof n[t]&&(r[t]=n[t]);return r}function a(e,t){var i,n,r={};for(i in t)n=t[i],e[i]!==n&&(c[i]||!S.fx.step[i]&&isNaN(parseFloat(n))||(r[i]=n));return r}var s,r,l,d=["add","remove","toggle"],c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};S.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){S.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(g.style(e.elem,t,e.end),e.setAttr=!0)}}),S.fn.addBack||(S.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),S.effects.animateClass=function(r,e,t,i){var s=S.speed(e,t,i);return this.queue(function(){var e,i=S(this),t=i.attr("class")||"",n=s.children?i.find("*").addBack():i;n=n.map(function(){return{el:S(this),start:o(this)}}),(e=function(){S.each(d,function(e,t){r[t]&&i[t+"Class"](r[t])})})(),n=n.map(function(){return this.end=o(this.el[0]),this.diff=a(this.start,this.end),this}),i.attr("class",t),n=n.map(function(){var e=this,t=S.Deferred(),i=S.extend({},s,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,i),t.promise()}),S.when.apply(S,n.get()).done(function(){e(),S.each(arguments,function(){var t=this.el;S.each(this.diff,function(e){t.css(e,"")})}),s.complete.call(i[0])})})},S.fn.extend({addClass:(l=S.fn.addClass,function(e,t,i,n){return t?S.effects.animateClass.call(this,{add:e},t,i,n):l.apply(this,arguments)}),removeClass:(r=S.fn.removeClass,function(e,t,i,n){return 1<arguments.length?S.effects.animateClass.call(this,{remove:e},t,i,n):r.apply(this,arguments)}),toggleClass:(s=S.fn.toggleClass,function(e,t,i,n,r){return"boolean"==typeof t||t===undefined?i?S.effects.animateClass.call(this,t?{add:e}:{remove:e},i,n,r):s.apply(this,arguments):S.effects.animateClass.call(this,{toggle:e},t,i,n)}),switchClass:function(e,t,i,n,r){return S.effects.animateClass.call(this,{add:t,remove:e},i,n,r)}})}(),function(){function c(e,t,i,n){return S.isPlainObject(e)&&(e=(t=e).effect),e={effect:e},null==t&&(t={}),S.isFunction(t)&&(n=t,i=null,t={}),("number"==typeof t||S.fx.speeds[t])&&(n=i,i=t,t={}),S.isFunction(i)&&(n=i,i=null),t&&S.extend(e,t),i=i||t.duration,e.duration=S.fx.off?0:"number"==typeof i?i:i in S.fx.speeds?S.fx.speeds[i]:S.fx.speeds._default,e.complete=n||t.complete,e}function i(e){return!(e&&"number"!=typeof e&&!S.fx.speeds[e])||("string"==typeof e&&!S.effects.effect[e]||(!!S.isFunction(e)||"object"==typeof e&&!e.effect))}function t(e,t){var i=t.outerWidth(),n=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,i,n,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?i:parseFloat(r[2]),bottom:"auto"===r[3]?n:parseFloat(r[3]),left:parseFloat(r[4])||0}}var n,r,s,o;S.expr&&S.expr.filters&&S.expr.filters.animated&&(S.expr.filters.animated=(n=S.expr.filters.animated,function(e){return!!S(e).data(f)||n(e)})),!1!==S.uiBackCompat&&S.extend(S.effects,{save:function(e,t){for(var i=0,n=t.length;i<n;i++)null!==t[i]&&e.data(p+t[i],e[0].style[t[i]])},restore:function(e,t){for(var i,n=0,r=t.length;n<r;n++)null!==t[n]&&(i=e.data(p+t[n]),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),"float":i.css("float")},e=S("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return i.wrap(e),(i[0]===r||S.contains(i[0],r))&&S(r).trigger("focus"),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(S.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),S.each(["top","left","bottom","right"],function(e,t){n[t]=i.css(t),isNaN(parseInt(n[t],10))&&(n[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(n).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||S.contains(e[0],t))&&S(t).trigger("focus")),e}}),S.extend(S.effects,{version:"1.12.0",define:function(e,t,i){return i||(i=t,t="effect"),S.effects.effect[e]=i,S.effects.effect[e].mode=t,i},scaledDimensions:function(e,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(t||100)/100:1,r="vertical"!==i?(t||100)/100:1;return{height:e.height()*r,width:e.width()*n,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*n}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,i){var n=e.queue();1<t&&n.splice.apply(n,[1,0].concat(n.splice(t,i))),e.dequeue()},saveStyle:function(e){e.data(h,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(h)||"",e.removeData(h)},mode:function(e,t){var i=e.is(":hidden");return"toggle"===t&&(t=i?"show":"hide"),(i?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createPlaceholder:function(e){var t,i=e.css("position"),n=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",t=S("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(p+"placeholder",t)),e.css({position:i,left:n.left,top:n.top}),t},removePlaceholder:function(e){var t=p+"placeholder",i=e.data(t);i&&(i.remove(),e.removeData(t))},cleanUp:function(e){S.effects.restoreStyle(e),S.effects.removePlaceholder(e)},setTransition:function(n,e,r,s){return s=s||{},S.each(e,function(e,t){var i=n.cssUnit(t);0<i[0]&&(s[t]=i[0]*r+i[1])}),s}}),S.fn.extend({effect:function(){function e(e){function t(){n.removeData(f),S.effects.cleanUp(n),"hide"===r.mode&&n.hide(),i()}function i(){S.isFunction(a)&&a.call(n[0]),S.isFunction(e)&&e()}var n=S(this);r.mode=d.shift(),!1===S.uiBackCompat||o?"none"===r.mode?(n[l](),i()):s.call(n[0],r,t):(n.is(":hidden")?"hide"===l:"show"===l)?(n[l](),i()):s.call(n[0],r,i)}var r=c.apply(this,arguments),s=S.effects.effect[r.effect],o=s.mode,t=r.queue,i=t||"fx",a=r.complete,l=r.mode,d=[],n=function(e){var t=S(this),i=S.effects.mode(t,l)||o;t.data(f,!0),d.push(i),o&&("show"===i||i===o&&"hide"===i)&&t.show(),o&&"none"===i||S.effects.saveStyle(t),S.isFunction(e)&&e()};return S.fx.off||!s?l?this[l](r.duration,a):this.each(function(){a&&a.call(this)}):!1===t?this.each(n).each(e):this.queue(i,n).queue(i,e)},show:(o=S.fn.show,function(e){if(i(e))return o.apply(this,arguments);var t=c.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(s=S.fn.hide,function(e){if(i(e))return s.apply(this,arguments);var t=c.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(r=S.fn.toggle,function(e){if(i(e)||"boolean"==typeof e)return r.apply(this,arguments);var t=c.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(e){var i=this.css(e),n=[];return S.each(["em","px","%","pt"],function(e,t){0<i.indexOf(t)&&(n=[parseFloat(i),t])}),n},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):t(this.css("clip"),this)},transfer:function(e,t){var i=S(this),n=S(e.to),r="fixed"===n.css("position"),s=S("body"),o=r?s.scrollTop():0,a=r?s.scrollLeft():0,l=n.offset(),d={top:l.top-o,left:l.left-a,height:n.innerHeight(),width:n.innerWidth()},c=i.offset(),u=S("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:c.top-o,left:c.left-a,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(d,e.duration,e.easing,function(){u.remove(),S.isFunction(t)&&t()})}}),S.fx.step.clip=function(e){e.clipInit||(e.start=S(e.elem).cssClip(),"string"==typeof e.end&&(e.end=t(e.end,e.elem)),e.clipInit=!0),S(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),c={},S.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){c[e]=function(e){return Math.pow(e,t+2)}}),S.extend(c,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),S.each(c,function(e,t){S.easing["easeIn"+e]=t,S.easing["easeOut"+e]=function(e){return 1-t(1-e)},S.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}});S.effects,S.effects.define("blind","hide",function(e,t){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},n=S(this),r=e.direction||"up",s=n.cssClip(),o={clip:S.extend({},s)},a=S.effects.createPlaceholder(n);o.clip[i[r][0]]=o.clip[i[r][1]],"show"===e.mode&&(n.cssClip(o.clip),a&&a.css(S.effects.clipToBox(o)),o.clip=s),a&&a.animate(S.effects.clipToBox(o),e.duration,e.easing),n.animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),S.effects.define("bounce",function(e,t){var i,n,r,s=S(this),o=e.mode,a="hide"===o,l="show"===o,d=e.direction||"up",c=e.distance,u=e.times||5,p=2*u+(l||a?1:0),h=e.duration/p,f=e.easing,g="up"===d||"down"===d?"top":"left",m="up"===d||"left"===d,v=0,b=s.queue().length;for(S.effects.createPlaceholder(s),r=s.css(g),c||(c=s["top"===g?"outerHeight":"outerWidth"]()/3),l&&((n={opacity:1})[g]=r,s.css("opacity",0).css(g,m?2*-c:2*c).animate(n,h,f)),a&&(c/=Math.pow(2,u-1)),(n={})[g]=r;v<u;v++)(i={})[g]=(m?"-=":"+=")+c,s.animate(i,h,f).animate(n,h,f),c=a?2*c:c/2;a&&((i={opacity:0})[g]=(m?"-=":"+=")+c,s.animate(i,h,f)),s.queue(t),S.effects.unshift(s,b,p+1)}),S.effects.define("clip","hide",function(e,t){var i,n={},r=S(this),s=e.direction||"vertical",o="both"===s,a=o||"horizontal"===s,l=o||"vertical"===s;i=r.cssClip(),n.clip={top:l?(i.bottom-i.top)/2:i.top,right:a?(i.right-i.left)/2:i.right,bottom:l?(i.bottom-i.top)/2:i.bottom,left:a?(i.right-i.left)/2:i.left},S.effects.createPlaceholder(r),"show"===e.mode&&(r.cssClip(n.clip),n.clip=i),r.animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),S.effects.define("drop","hide",function(e,t){var i,n=S(this),r="show"===e.mode,s=e.direction||"left",o="up"===s||"down"===s?"top":"left",a="up"===s||"left"===s?"-=":"+=",l="+="===a?"-=":"+=",d={opacity:0};S.effects.createPlaceholder(n),i=e.distance||n["top"===o?"outerHeight":"outerWidth"](!0)/2,d[o]=a+i,r&&(n.css(d),d[o]=l+i,d.opacity=1),n.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),S.effects.define("explode","hide",function(e,t){function i(){v.push(this),v.length===c*u&&n()}function n(){p.css({visibility:"visible"}),S(v).remove(),t()}var r,s,o,a,l,d,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=c,p=S(this),h="show"===e.mode,f=p.show().css("visibility","hidden").offset(),g=Math.ceil(p.outerWidth()/u),m=Math.ceil(p.outerHeight()/c),v=[];for(r=0;r<c;r++)for(a=f.top+r*m,d=r-(c-1)/2,s=0;s<u;s++)o=f.left+s*g,l=s-(u-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*g,top:-r*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:o+(h?l*g:0),top:a+(h?d*m:0),opacity:h?0:1}).animate({left:o+(h?0:l*g),top:a+(h?0:d*m),opacity:h?1:0},e.duration||500,e.easing,i)}),S.effects.define("fade","toggle",function(e,t){var i="show"===e.mode;S(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),S.effects.define("fold","hide",function(t,e){var i=S(this),n=t.mode,r="show"===n,s="hide"===n,o=t.size||15,a=/([0-9]+)%/.exec(o),l=!!t.horizFirst?["right","bottom"]:["bottom","right"],d=t.duration/2,c=S.effects.createPlaceholder(i),u=i.cssClip(),p={clip:S.extend({},u)},h={clip:S.extend({},u)},f=[u[l[0]],u[l[1]]],g=i.queue().length;a&&(o=parseInt(a[1],10)/100*f[s?0:1]),p.clip[l[0]]=o,h.clip[l[0]]=o,h.clip[l[1]]=0,r&&(i.cssClip(h.clip),c&&c.css(S.effects.clipToBox(h)),h.clip=u),i.queue(function(e){c&&c.animate(S.effects.clipToBox(p),d,t.easing).animate(S.effects.clipToBox(h),d,t.easing),e()}).animate(p,d,t.easing).animate(h,d,t.easing).queue(e),S.effects.unshift(i,g,4)}),S.effects.define("highlight","show",function(e,t){var i=S(this),n={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(n.opacity=0),S.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(n,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),S.effects.define("size",function(r,t){var e,s,i,n=S(this),o=["fontSize"],a=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=r.mode,c="effect"!==d,u=r.scale||"both",p=r.origin||["middle","center"],h=n.css("position"),f=n.position(),g=S.effects.scaledDimensions(n),m=r.from||g,v=r.to||S.effects.scaledDimensions(n,0);S.effects.createPlaceholder(n),"show"===d&&(i=m,m=v,v=i),s={from:{y:m.height/g.height,x:m.width/g.width},to:{y:v.height/g.height,x:v.width/g.width}},"box"!==u&&"both"!==u||(s.from.y!==s.to.y&&(m=S.effects.setTransition(n,a,s.from.y,m),v=S.effects.setTransition(n,a,s.to.y,v)),s.from.x!==s.to.x&&(m=S.effects.setTransition(n,l,s.from.x,m),v=S.effects.setTransition(n,l,s.to.x,v))),"content"!==u&&"both"!==u||s.from.y!==s.to.y&&(m=S.effects.setTransition(n,o,s.from.y,m),v=S.effects.setTransition(n,o,s.to.y,v)),p&&(e=S.effects.getBaseline(p,g),m.top=(g.outerHeight-m.outerHeight)*e.y+f.top,m.left=(g.outerWidth-m.outerWidth)*e.x+f.left,v.top=(g.outerHeight-v.outerHeight)*e.y+f.top,v.left=(g.outerWidth-v.outerWidth)*e.x+f.left),n.css(m),"content"!==u&&"both"!==u||(a=a.concat(["marginTop","marginBottom"]).concat(o),l=l.concat(["marginLeft","marginRight"]),n.find("*[width]").each(function(){var e=S(this),t=S.effects.scaledDimensions(e),i={height:t.height*s.from.y,width:t.width*s.from.x,outerHeight:t.outerHeight*s.from.y,outerWidth:t.outerWidth*s.from.x},n={height:t.height*s.to.y,width:t.width*s.to.x,outerHeight:t.height*s.to.y,outerWidth:t.width*s.to.x};s.from.y!==s.to.y&&(i=S.effects.setTransition(e,a,s.from.y,i),n=S.effects.setTransition(e,a,s.to.y,n)),s.from.x!==s.to.x&&(i=S.effects.setTransition(e,l,s.from.x,i),n=S.effects.setTransition(e,l,s.to.x,n)),c&&S.effects.saveStyle(e),e.css(i),e.animate(n,r.duration,r.easing,function(){c&&S.effects.restoreStyle(e)})})),n.animate(v,{queue:!1,duration:r.duration,easing:r.easing,complete:function(){var e=n.offset();0===v.opacity&&n.css("opacity",m.opacity),c||(n.css("position","static"===h?"relative":h).offset(e),S.effects.saveStyle(n)),t()}})}),S.effects.define("scale",function(e,t){var i=S(this),n=e.mode,r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==n?0:100),s=S.extend(!0,{from:S.effects.scaledDimensions(i),to:S.effects.scaledDimensions(i,r,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),S.effects.effect.size.call(this,s,t)}),S.effects.define("puff","hide",function(e,t){var i=S.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});S.effects.effect.scale.call(this,i,t)}),S.effects.define("pulsate","show",function(e,t){var i=S(this),n=e.mode,r="show"===n,s=r||"hide"===n,o=2*(e.times||5)+(s?1:0),a=e.duration/o,l=0,d=1,c=i.queue().length;for(!r&&i.is(":visible")||(i.css("opacity",0).show(),l=1);d<o;d++)i.animate({opacity:l},a,e.easing),l=1-l;i.animate({opacity:l},a,e.easing),i.queue(t),S.effects.unshift(i,c,o+1)}),S.effects.define("shake",function(e,t){var i=1,n=S(this),r=e.direction||"left",s=e.distance||20,o=e.times||3,a=2*o+1,l=Math.round(e.duration/a),d="up"===r||"down"===r?"top":"left",c="up"===r||"left"===r,u={},p={},h={},f=n.queue().length;for(S.effects.createPlaceholder(n),u[d]=(c?"-=":"+=")+s,p[d]=(c?"+=":"-=")+2*s,h[d]=(c?"-=":"+=")+2*s,n.animate(u,l,e.easing);i<o;i++)n.animate(p,l,e.easing).animate(h,l,e.easing);n.animate(p,l,e.easing).animate(u,l/2,e.easing).queue(t),S.effects.unshift(n,f,a+1)}),S.effects.define("slide","show",function(e,t){var i,n,r=S(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},o=e.mode,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,c=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0),u={};S.effects.createPlaceholder(r),i=r.cssClip(),n=r.position()[l],u[l]=(d?-1:1)*c+n,u.clip=r.cssClip(),u.clip[s[a][1]]=u.clip[s[a][0]],"show"===o&&(r.cssClip(u.clip),r.css(l,u[l]),u.clip=i,u[l]=n),r.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:t})});!1!==S.uiBackCompat&&S.effects.define("transfer",function(e,t){S(this).transfer(e,t)});S.ui.focusable=function(e,t){var i,n,r,s,o,a=e.nodeName.toLowerCase();return"area"===a?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(0<(r=S("img[usemap='#"+n+"']")).length&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(s=!e.disabled)&&(o=S(e).closest("fieldset")[0])&&(s=!o.disabled):s="a"===a&&e.href||t,s&&S(e).is(":visible")&&l(S(e)))},S.extend(S.expr[":"],{focusable:function(e){return S.ui.focusable(e,null!=S.attr(e,"tabindex"))}});S.ui.focusable,S.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):S(this[0].form)},S.ui.formResetMixin={_formResetHandler:function(){var t=S(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");S.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(S.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===S.fn.jquery.substring(0,3)&&(S.each(["Width","Height"],function(e,i){function n(e,t,i,n){return S.each(r,function(){t-=parseFloat(S.css(e,"padding"+this))||0,i&&(t-=parseFloat(S.css(e,"border"+this+"Width"))||0),n&&(t-=parseFloat(S.css(e,"margin"+this))||0)}),t}var r="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:S.fn.innerWidth,innerHeight:S.fn.innerHeight,outerWidth:S.fn.outerWidth,outerHeight:S.fn.outerHeight};S.fn["inner"+i]=function(e){return e===undefined?o["inner"+i].call(this):this.each(function(){S(this).css(s,n(this,e)+"px")})},S.fn["outer"+i]=function(e,t){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){S(this).css(s,n(this,e,!0,t)+"px")})}}),S.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});var m,v;S.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},S.ui.escapeSelector=(m=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(m,"\\$1")}),S.fn.labels=function(){var e,t,i,n,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(i=this.attr("id"))&&(r=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),t="label[for='"+S.ui.escapeSelector(i)+"']",n=n.add(r.find(t).addBack(t))),this.pushStack(n))},S.fn.scrollParent=function(e){var t=this.css("position"),i="absolute"===t,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=S(this);return(!i||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:S(this[0].ownerDocument||document)},S.extend(S.expr[":"],{tabbable:function(e){var t=S.attr(e,"tabindex"),i=null!=t;return(!i||0<=t)&&S.ui.focusable(e,i)}}),S.fn.extend({uniqueId:(v=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++v)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&S(this).removeAttr("id")})}}),S.widget("ui.accordion",{version:"1.12.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=S(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():S()}},_createIcons:function(){var e,t,i=this.options.icons;i&&(e=S("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),t=this.active.children(".ui-accordion-header-icon"),this._removeClass(t,i.header)._addClass(t,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=S.ui.keyCode,i=this.headers.length,n=this.headers.index(e.target),r=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:r=this.headers[(n+1)%i];break;case t.LEFT:case t.UP:r=this.headers[(n-1+i)%i];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:r=this.headers[0];break;case t.END:r=this.headers[i-1]}r&&(S(e.target).attr("tabIndex",-1),S(r).attr("tabIndex",0),S(r).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===S.ui.keyCode.UP&&e.ctrlKey&&S(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=S()):!1===e.active?this._activate(0):this.active.length&&!S.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=S()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var i,e=this.options,t=e.heightStyle,n=this.element.parent();this.active=this._findActive(e.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=S(this),t=e.uniqueId().attr("id"),i=e.next(),n=i.uniqueId().attr("id");e.attr("aria-controls",n),i.attr("aria-labelledby",t)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(i=n.height(),this.element.siblings(":visible").each(function(){var e=S(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=S(this).outerHeight(!0)}),this.headers.next().each(function(){S(this).height(Math.max(0,i-S(this).innerHeight()+S(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.headers.next().each(function(){var e=S(this).is(":visible");e||S(this).show(),i=Math.max(i,S(this).css("height","").height()),e||S(this).hide()}).height(i))},_activate:function(e){var t=this._findActive(e)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:S.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):S()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&S.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t,i,n=this.options,r=this.active,s=S(e.currentTarget),o=s[0]===r[0],a=o&&n.collapsible,l=a?S():s.next(),d=r.next(),c={oldHeader:r,oldPanel:d,newHeader:a?S():s,newPanel:l};e.preventDefault(),o&&!n.collapsible||!1===this._trigger("beforeActivate",e,c)||(n.active=!a&&this.headers.index(s),this.active=o?S():s,this._toggle(c),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),n.icons&&(t=r.children(".ui-accordion-header-icon"),this._removeClass(t,null,n.icons.activeHeader)._addClass(t,null,n.icons.header)),o||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),n.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,n.icons.header)._addClass(i,null,n.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=i,this.options.animate?this._animate(t,i,e):(i.hide(),t.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),t.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):t.length&&this.headers.filter(function(){return 0===parseInt(S(this).attr("tabIndex"),10)}).attr("tabIndex",-1),t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,i,t){var n,r,s,o=this,a=0,l=e.css("box-sizing"),d=e.length&&(!i.length||e.index()<i.index()),c=this.options.animate||{},u=d&&c.down||c,p=function(){o._toggleComplete(t)};return"number"==typeof u&&(s=u),"string"==typeof u&&(r=u),r=r||u.easing||c.easing,s=s||u.duration||c.duration,i.length?e.length?(n=e.show().outerHeight(),i.animate(this.hideProps,{duration:s,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:s,easing:r,
complete:p,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?"content-box"===l&&(a+=t.now):"content"!==o.options.heightStyle&&(t.now=Math.round(n-i.outerHeight()-a),a=0)}})):i.animate(this.hideProps,s,r,p):e.animate(this.showProps,s,r,p)},_toggleComplete:function(e){var t=e.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),S.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(i){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},S.widget("ui.menu",{version:"1.12.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(e){var t=S(e.target),i=S(S.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var t=S(e.target).closest(".ui-menu-item"),i=S(e.currentTarget);t[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(e){this._delay(function(){!S.contains(this.element[0],S.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=S(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var t,i,n,r,s=!0;switch(e.keyCode){case S.ui.keyCode.PAGE_UP:this.previousPage(e);break;case S.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case S.ui.keyCode.HOME:this._move("first","first",e);break;case S.ui.keyCode.END:this._move("last","last",e);break;case S.ui.keyCode.UP:this.previous(e);break;case S.ui.keyCode.DOWN:this.next(e);break;case S.ui.keyCode.LEFT:this.collapse(e);break;case S.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case S.ui.keyCode.ENTER:case S.ui.keyCode.SPACE:this._activate(e);break;case S.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",n=String.fromCharCode(e.keyCode),r=!1,clearTimeout(this.filterTimer),n===i?r=!0:n=i+n,t=this._filterMenuItems(n),(t=r&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(n=String.fromCharCode(e.keyCode),t=this._filterMenuItems(n)),t.length?(this.focus(e,t),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,t,i,n,r=this,s=this.options.icons.submenu,o=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),t=o.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=S(this),t=e.prev(),i=S("<span>").data("ui-menu-submenu-caret",!0);r._addClass(i,"ui-menu-icon","ui-icon "+s),t.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",t.attr("id"))}),this._addClass(t,"ui-menu","ui-widget ui-widget-content ui-front"),(e=o.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=S(this);r._isDivider(e)&&r._addClass(e,"ui-menu-divider","ui-widget-content")}),n=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(n,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!S.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,i,n,r,s,o;this._hasScroll()&&(t=parseFloat(S.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(S.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-t-i,r=this.activeMenu.scrollTop(),s=this.activeMenu.height(),o=e.outerHeight(),n<0?this.activeMenu.scrollTop(r+n):s<n+o&&this.activeMenu.scrollTop(r+n-s+o))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=S.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var e=i?this.element:S(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this._removeClass(e.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=e},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!S(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(e){var t,i,n;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=S(this)).offset().top-i-n<0}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,i,n;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=S(this)).offset().top-i+n}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||S(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var t=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(S.trim(S(this).children(".ui-menu-item-wrapper").text()))})}});S.widget("ui.autocomplete",{version:"1.12.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var i,n,r,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,s="input"===e;this.isMultiLine=t||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[t||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))n=r=i=!0;else{n=r=i=!1;var t=S.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:i=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:i=!0,this._move("nextPage",e);break;case t.UP:i=!0,this._keyEvent("previous",e);break;case t.DOWN:i=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(i=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:n=!0,this._searchTimeout(e)}}},keypress:function(e){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!n){var t=S.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=S("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==S.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,t){var i,n;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){S(e.target).trigger(e.originalEvent)});n=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),(i=t.item.attr("aria-label")||n.value)&&S.trim(i).length&&(this.liveRegion.children().hide(),S("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==S.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=S("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var t=this.menu.element[0];return e.target===this.element[0]||e.target===t||S.contains(t,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?S(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var i,n,r=this;S.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(S.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,t){r.xhr&&r.xhr.abort(),r.xhr=S.ajax({url:n,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),i=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;e&&(!e||t||i)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return S.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:S.map(e,function(e){return"string"==typeof e?{label:e,value:e}:S.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(S.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,e){var n=this;S.each(e,function(e,t){n._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return S("<li>").append(S("<div>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),S.extend(S.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(S.ui.autocomplete.escapeRegex(t),"i");return S.grep(e,function(e){return i.test(e.label||e.value||e)})}}),S.widget("ui.autocomplete",S.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),S("<div>").text(t).appendTo(this.liveRegion))}});S.ui.autocomplete;var b=/ui-corner-([a-z]){2,6}/g;S.widget("ui.controlgroup",{version:"1.12.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var o=this,a=[];S.each(this.options.items,function(r,e){var t,s={};if(e)return"controlgroupLabel"===r?((t=o.element.find(e)).each(function(){var e=S(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),o._addClass(t,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(t.get()))):void(S.fn[r]&&(o["_"+r+"Options"]&&(s=o["_"+r+"Options"]("middle")),o.element.find(e).each(function(){var e=S(this),t=e[r]("instance"),i=S.widget.extend({},s);if("button"!==r||!e.parent(".ui-spinner").length){t||(t=e[r]()[r]("instance")),t&&(i.classes=o._resolveClassesValues(i.classes,t)),e[r](i);var n=e[r]("widget");S.data(n[0],"ui-controlgroup-data",t||e[r]("instance")),a.push(n[0])}})))}),this.childWidgets=S(S.unique(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var e=S(this).data("ui-controlgroup-data");e&&e[t]&&e[t]()})},_updateCornerClass:function(e,t){var i="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,i),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[e],n},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(i,n){var r={};return S.each(i,function(e){var t=n.options.classes[e]||"";t=t.replace(b,"").trim(),r[e]=(t+" "+i[e]).replace(/\s+/g," ")}),r},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var r,s=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),r=this.childWidgets,this.options.onlyVisible&&(r=r.filter(":visible")),r.length&&(S.each(["first","last"],function(e,t){var i=r[t]().data("ui-controlgroup-data");if(i&&s["_"+i.widgetName+"Options"]){var n=s["_"+i.widgetName+"Options"](1===r.length?"only":t);n.classes=s._resolveClassesValues(n.classes,i),i.element[i.widgetName](n)}else s._updateCornerClass(r[t](),t)}),this._callChildMethod("refresh"))}});S.widget("ui.checkboxradio",[S.ui.formResetMixin,{version:"1.12.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,t,i=this,n=this._super()||{};return this._readType(),t=this.element.labels(),this.label=S(t[t.length-1]),this.label.length||S.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element).each(function(){i.originalLabel+=3===this.nodeType?S(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(n.disabled=e),n},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||S.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,t="input[name='"+S.ui.escapeSelector(e)+"']";return e?(this.form.length?S(this.form[0].elements).filter(t):S(t).filter(function(){return 0===S(this).form().length})).not(this.element):S([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=S(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(e){var t="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=S("<span>"),this.iconSpace=S("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(t+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):t+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",t),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):this.icon!==undefined&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){this.label.contents().not(this.element.add(this.icon).add(this.iconSpace)).remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]);var _;S.ui.checkboxradio;S.widget("ui.button",{version:"1.12.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===S.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,t){var i="iconPosition"!==e,n=i?this.options.iconPosition:t,r="top"===n||"bottom"===n;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=S("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,t),this._attachIcon(n),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=S("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=e.showLabel===undefined?this.options.showLabel:e.showLabel,i=e.icon===undefined?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==S.uiBackCompat&&(S.widget("ui.button",S.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),S.fn.button=(_=S.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?_.apply(this,arguments):(S.ui.checkboxradio||S.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),S.fn.buttonset=function(e,t,i){return S.ui.controlgroup||S.error("Controlgroup widget missing"),"option"===e&&"items"===t&&i?this.controlgroup.apply(this,[e,"items.button",i]):"option"===e&&"items"===t?this.controlgroup.apply(this,[e,"items.button"]):("object"==typeof e&&e.items&&(e.items={button:e.items}),this.controlgroup.apply(this,arguments))});var y;S.ui.button;S.extend(S.ui,{datepicker:{version:"1.12.0"}}),S.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return u(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var i,n,r;n="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(S(e),n)).settings=S.extend({},t||{}),"input"===i?this._connectDatepicker(e,r):n&&this._inlineDatepicker(e,r)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?i(S("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var i=S(e);t.append=S([]),t.trigger=S([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(t),S.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i,n,r,s=this._get(t,"appendText"),o=this._get(t,"isRTL");t.append&&t.append.remove(),s&&(t.append=S("<span class='"+this._appendClass+"'>"+s+"</span>"),e[o?"before":"after"](t.append)),e.off("focus",this._showDatepicker),
t.trigger&&t.trigger.remove(),"focus"!==(i=this._get(t,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(t,"buttonText"),r=this._get(t,"buttonImage"),t.trigger=S(this._get(t,"buttonImageOnly")?S("<img/>").addClass(this._triggerClass).attr({src:r,alt:n,title:n}):S("<button type='button'></button>").addClass(this._triggerClass).html(r?S("<img/>").attr({src:r,alt:n,title:n}):n)),e[o?"before":"after"](t.trigger),t.trigger.on("click",function(){return S.datepicker._datepickerShowing&&S.datepicker._lastInput===e[0]?S.datepicker._hideDatepicker():(S.datepicker._datepickerShowing&&S.datepicker._lastInput!==e[0]&&S.datepicker._hideDatepicker(),S.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,r,s=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(r=n=i=0;r<e.length;r++)e[r].length>i&&(i=e[r].length,n=r);return n},s.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(e,t){var i=S(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv),S.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,n,r){var s,o,a,l,d,c=this._dialogInst;return c||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=S("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),S("body").append(this._dialogInput),(c=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},S.data(this._dialogInput[0],"datepicker",c)),u(c.settings,n||{}),t=t&&t.constructor===Date?this._formatDate(c,t):t,this._dialogInput.val(t),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(o=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+l,a/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),S.blockUI&&S.blockUI(this.dpDiv),S.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(e){var t,i=S(e),n=S.data(e,"datepicker");i.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),S.removeData(e,"datepicker"),"input"===t?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||i.removeClass(this.markerClassName).empty(),y===n&&(y=null))},_enableDatepicker:function(t){var e,i,n=S(t),r=S.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=S.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,i,n=S(t),r=S.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=S.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return S.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n,r,s,o,a=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?S.extend({},S.datepicker._defaults):a?"all"===t?S.extend({},a.settings):this._get(a,t):null;n=t||{},"string"==typeof t&&((n={})[t]=i),a&&(this._curInst===a&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max"),u(a.settings,n),null!==s&&n.dateFormat!==undefined&&n.minDate===undefined&&(a.settings.minDate=this._formatDate(a,s)),null!==o&&n.dateFormat!==undefined&&n.maxDate===undefined&&(a.settings.maxDate=this._formatDate(a,o)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(S(e),a),this._autoSize(a),this._setDate(a,r),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t,i,n,r=S.datepicker._getInst(e.target),s=!0,o=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,S.datepicker._datepickerShowing)switch(e.keyCode){case 9:S.datepicker._hideDatepicker(),s=!1;break;case 13:return(n=S("td."+S.datepicker._dayOverClass+":not(."+S.datepicker._currentClass+")",r.dpDiv))[0]&&S.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,n[0]),(t=S.datepicker._get(r,"onSelect"))?(i=S.datepicker._formatDate(r),t.apply(r.input?r.input[0]:null,[i,r])):S.datepicker._hideDatepicker(),!1;case 27:S.datepicker._hideDatepicker();break;case 33:S.datepicker._adjustDate(e.target,e.ctrlKey?-S.datepicker._get(r,"stepBigMonths"):-S.datepicker._get(r,"stepMonths"),"M");break;case 34:S.datepicker._adjustDate(e.target,e.ctrlKey?+S.datepicker._get(r,"stepBigMonths"):+S.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&S.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&S.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&S.datepicker._adjustDate(e.target,o?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&S.datepicker._adjustDate(e.target,e.ctrlKey?-S.datepicker._get(r,"stepBigMonths"):-S.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&S.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&S.datepicker._adjustDate(e.target,o?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&S.datepicker._adjustDate(e.target,e.ctrlKey?+S.datepicker._get(r,"stepBigMonths"):+S.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&S.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?S.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,i,n=S.datepicker._getInst(e.target);if(S.datepicker._get(n,"constrainInput"))return t=S.datepicker._possibleChars(S.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!t||-1<t.indexOf(i)},_doKeyUp:function(e){var t=S.datepicker._getInst(e.target);if(t.input.val()!==t.lastVal)try{S.datepicker.parseDate(S.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,S.datepicker._getFormatConfig(t))&&(S.datepicker._setDateFromField(t),S.datepicker._updateAlternate(t),S.datepicker._updateDatepicker(t))}catch(i){}return!0},_showDatepicker:function(e){var t,i,n,r,s,o,a;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=S("input",e.parentNode)[0]),S.datepicker._isDisabledDatepicker(e)||S.datepicker._lastInput===e)||(t=S.datepicker._getInst(e),S.datepicker._curInst&&S.datepicker._curInst!==t&&(S.datepicker._curInst.dpDiv.stop(!0,!0),t&&S.datepicker._datepickerShowing&&S.datepicker._hideDatepicker(S.datepicker._curInst.input[0])),!1!==(n=(i=S.datepicker._get(t,"beforeShow"))?i.apply(e,[e,t]):{})&&(u(t.settings,n),t.lastVal=null,S.datepicker._lastInput=e,S.datepicker._setDateFromField(t),S.datepicker._inDialog&&(e.value=""),S.datepicker._pos||(S.datepicker._pos=S.datepicker._findPos(e),S.datepicker._pos[1]+=e.offsetHeight),r=!1,S(e).parents().each(function(){return!(r|="fixed"===S(this).css("position"))}),s={left:S.datepicker._pos[0],top:S.datepicker._pos[1]},S.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),S.datepicker._updateDatepicker(t),s=S.datepicker._checkOffset(t,s,r),t.dpDiv.css({position:S.datepicker._inDialog&&S.blockUI?"static":r?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),t.inline||(o=S.datepicker._get(t,"showAnim"),a=S.datepicker._get(t,"duration"),t.dpDiv.css("z-index",d(S(e))+1),S.datepicker._datepickerShowing=!0,S.effects&&S.effects.effect[o]?t.dpDiv.show(o,S.datepicker._get(t,"showOptions"),a):t.dpDiv[o||"show"](o?a:null),S.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),S.datepicker._curInst=t)))},_updateDatepicker:function(e){this.maxRows=4,(y=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,i=this._getNumberOfMonths(e),n=i[1],r=17,s=e.dpDiv.find("."+this._dayOverClass+" a");0<s.length&&o.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<n&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",r*n+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===S.datepicker._curInst&&S.datepicker._datepickerShowing&&S.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:S(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:S(document).scrollTop());return t.left-=this._get(e,"isRTL")?n-s:0,t.left-=i&&t.left===e.input.offset().left?S(document).scrollLeft():0,t.top-=i&&t.top===e.input.offset().top+o?S(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>a&&n<a?Math.abs(t.left+n-a):0),t.top-=Math.min(t.top,t.top+r>l&&r<l?Math.abs(r+o):0),t},_findPos:function(e){for(var t,i=this._getInst(e),n=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||S.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return[(t=S(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,i,n,r,s=this._curInst;!s||e&&s!==S.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(s,"showAnim"),i=this._get(s,"duration"),n=function(){S.datepicker._tidyDialog(s)},S.effects&&(S.effects.effect[t]||S.effects[t])?s.dpDiv.hide(t,S.datepicker._get(s,"showOptions"),i,n):s.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?i:null,n),t||n(),this._datepickerShowing=!1,(r=this._get(s,"onClose"))&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),S.blockUI&&(S.unblockUI(),S("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(S.datepicker._curInst){var t=S(e.target),i=S.datepicker._getInst(t[0]);(t[0].id===S.datepicker._mainDivId||0!==t.parents("#"+S.datepicker._mainDivId).length||t.hasClass(S.datepicker.markerClassName)||t.closest("."+S.datepicker._triggerClass).length||!S.datepicker._datepickerShowing||S.datepicker._inDialog&&S.blockUI)&&(!t.hasClass(S.datepicker.markerClassName)||S.datepicker._curInst===i)||S.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var n=S(e),r=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(r,t+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(e){var t,i=S(e),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(t=new Date,n.selectedDay=t.getDate(),n.drawMonth=n.selectedMonth=t.getMonth(),n.drawYear=n.selectedYear=t.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(e,t,i){var n=S(e),r=this._getInst(n[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(n)},_selectDay:function(e,t,i,n){var r,s=S(e);S(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((r=this._getInst(s[0])).selectedDay=r.currentDay=S("a",n).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var t=S(e);this._selectDate(t,"")},_selectDate:function(e,t){var i,n=S(e),r=this._getInst(n[0]);t=null!=t?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r),(i=this._get(r,"onSelect"))?i.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var t,i,n,r=this._get(e,"altField");r&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),n=this.formatDate(t,i,this._getFormatConfig(e)),S(r).val(n))},noWeekends:function(e){var t=e.getDay();return[0<t&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,s,e){if(null==i||null==s)throw"Invalid arguments";if(""===(s="object"==typeof s?s.toString():s+""))return null;var n,t,r,o,a=0,l=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),c=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,u=(e?e.dayNames:null)||this._defaults.dayNames,p=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,h=(e?e.monthNames:null)||this._defaults.monthNames,f=-1,g=-1,m=-1,v=-1,b=!1,_=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t},y=function(e){var t=_(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),r=s.substring(a).match(n);if(!r)throw"Missing number at position "+a;return a+=r[0].length,parseInt(r[0],10)},$=function(e,t,i){var n=-1,r=S.map(_(e)?i:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(S.each(r,function(e,t){var i=t[1];if(s.substr(a,i.length).toLowerCase()===i.toLowerCase())return n=t[0],a+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+a},w=function(){if(s.charAt(a)!==i.charAt(n))throw"Unexpected literal at position "+a;a++};for(n=0;n<i.length;n++)if(b)"'"!==i.charAt(n)||_("'")?w():b=!1;else switch(i.charAt(n)){case"d":m=y("d");break;case"D":$("D",c,u);break;case"o":v=y("o");break;case"m":g=y("m");break;case"M":g=$("M",p,h);break;case"y":f=y("y");break;case"@":f=(o=new Date(y("@"))).getFullYear(),g=o.getMonth()+1,m=o.getDate();break;case"!":f=(o=new Date((y("!")-this._ticksTo1970)/1e4)).getFullYear(),g=o.getMonth()+1,m=o.getDate();break;case"'":_("'")?w():b=!0;break;default:w()}if(a<s.length&&(r=s.substr(a),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=d?0:-100)),-1<v)for(g=1,m=v;;){if(m<=(t=this._getDaysInMonth(f,g-1)))break;g++,m-=t}if((o=this._daylightSavingAdjust(new Date(f,g-1,m))).getFullYear()!==f||o.getMonth()+1!==g||o.getDate()!==m)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(i,e,t){if(!e)return"";var n,r=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,s=(t?t.dayNames:null)||this._defaults.dayNames,o=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,a=(t?t.monthNames:null)||this._defaults.monthNames,l=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t},d=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},c=function(e,t,i,n){return l(e)?n[t]:i[t]},u="",p=!1;if(e)for(n=0;n<i.length;n++)if(p)"'"!==i.charAt(n)||l("'")?u+=i.charAt(n):p=!1;else switch(i.charAt(n)){case"d":u+=d("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),r,s);break;case"o":u+=d("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=d("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),o,a);break;case"y":u+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":p=!0;break;default:u+=i.charAt(n)}return u},_possibleChars:function(i){var n,e="",t=!1,r=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t};for(n=0;n<i.length;n++)if(t)"'"!==i.charAt(n)||r("'")?e+=i.charAt(n):t=!1;else switch(i.charAt(n)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":r("'")?e+="'":t=!0;break;default:e+=i.charAt(n)}return e},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),s=r,o=this._getFormatConfig(e);try{s=this.parseDate(i,n,o)||r}catch(a){n=t?"":n}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=n?s.getDate():0,e.currentMonth=n?s.getMonth():0,e.currentYear=n?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(l,e,t){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=null==e||""===e?t:"string"==typeof e?function(e){try{return S.datepicker.parseDate(S.datepicker._get(l,"dateFormat"),e,S.datepicker._getFormatConfig(l))}catch(a){}for(var t=(e.toLowerCase().match(/^c/)?S.datepicker._getDate(l):null)||new Date,i=t.getFullYear(),n=t.getMonth(),r=t.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,o=s.exec(e);o;){switch(o[2]||"d"){case"d":case"D":r+=parseInt(o[1],10);break;case"w":case"W":r+=7*parseInt(o[1],10);break;case"m":case"M":n+=parseInt(o[1],10),r=Math.min(r,S.datepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(o[1],10),r=Math.min(r,S.datepicker._getDaysInMonth(i,n))}o=s.exec(e)}return new Date(i,n,r)}(e):"number"==typeof e?isNaN(e)?t:i(e):new Date(e.getTime());return(n=n&&"Invalid Date"===n.toString()?t:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,r=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),r===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){S.datepicker._adjustDate(i,-t,"M")},next:function(){S.datepicker._adjustDate(i,+t,"M")},hide:function(){S.datepicker._hideDatepicker()},today:function(){S.datepicker._gotoToday(i)},selectDay:function(){return S.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return S.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return S.datepicker._selectMonthYear(i,this,"Y"),!1}};S(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,r,s,o,a,l,d,c,u,p,h,f,g,m,v,b,_,y,$,w,x,j,D,k,C,S,I,T,q,M,A,F,O,P,N,E,R,G=new Date,z=this._daylightSavingAdjust(new Date(G.getFullYear(),G.getMonth(),G.getDate())),H=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),L=this._get(e,"hideIfNoPrevNext"),B=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),K=1!==U[0]||1!==U[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-V,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),t=J&&t<J?J:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,i=this._get(e,"prevText"),i=B?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Z-Y,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":L?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",r=this._get(e,"nextText"),r=B?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z+Y,1)),this._getFormatConfig(e)):r,s=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":L?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",o=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?X:z,o=B?this.formatDate(o,a,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",d=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(H?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(e,"showWeek"),p=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),_=this._getDefaultDate(e),y="",w=0;w<U[0];w++){for(x="",this.maxRows=4,j=0;j<U[1];j++){if(D=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),k=" ui-corner-all",C="",K){if(C+="<div class='ui-datepicker-group",1<U[1])switch(j){case 0:C+=" ui-datepicker-group-first",k=" ui-corner-"+(H?"right":"left");break;case U[1]-1:C+=" ui-datepicker-group-last",k=" ui-corner-"+(H?"left":"right");break;default:C+=" ui-datepicker-group-middle",k=""}C+="'>"}for(C+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+k+"'>"+(/all|left/.test(k)&&0===w?H?s:n:"")+(/all|right/.test(k)&&0===w?H?n:s:"")+this._generateMonthYearHeader(e,Z,ee,J,Q,0<w||0<j,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",$=0;$<7;$++)S+="<th scope='col'"+(5<=($+c+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+p[I=($+c)%7]+"'>"+h[I]+"</span></th>";for(C+=S+"</tr></thead><tbody>",T=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,T)),q=(this._getFirstDayOfMonth(ee,Z)-c+7)%7,M=Math.ceil((q+T)/7),A=K&&this.maxRows>M?this.maxRows:M,this.maxRows=A,F=this._daylightSavingAdjust(new Date(ee,Z,1-q)),O=0;O<A;O++){for(C+="<tr>",P=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",$=0;$<7;$++)N=m?m.apply(e.input?e.input[0]:null,[F]):[!0,""],R=(E=F.getMonth()!==Z)&&!b||!N[0]||J&&F<J||Q&&Q<F,P+="<td class='"+(5<=($+c+6)%7?" ui-datepicker-week-end":"")+(E?" ui-datepicker-other-month":"")+(F.getTime()===D.getTime()&&Z===e.selectedMonth&&e._keyEvent||_.getTime()===F.getTime()&&_.getTime()===D.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(E&&!v?"":" "+N[1]+(F.getTime()===X.getTime()?" "+this._currentClass:"")+(F.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(E&&!v||!N[2]?"":" title='"+N[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(E&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===z.getTime()?" ui-state-highlight":"")+(F.getTime()===X.getTime()?" ui-state-active":"")+(E?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);C+=P+"</tr>"}11<++Z&&(Z=0,ee++),x+=C+="</tbody></table>"+(K?"</div>"+(0<U[0]&&j===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}y+=x}return y+=d,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,n,r,s,o,a){var l,d,c,u,p,h,f,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",y="";if(s||!m)y+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=n&&n.getFullYear()===i,d=r&&r.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=n.getMonth())&&(!d||c<=r.getMonth())&&(y+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+a[c]+"</option>");y+="</select>"}if(b||(_+=y+(!s&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(e,"yearRange").split(":"),p=(new Date).getFullYear(),f=(h=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?p+parseInt(e,10):parseInt(e,10);return isNaN(t)?p:t})(u[0]),g=Math.max(f,h(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",_+=e.yearshtml,e.yearshtml=null}return _+=this._get(e,"yearSuffix"),b&&(_+=(!s&&m&&v?"":"&#xa0;")+y),_+="</div>"},_adjustInstDate:function(e,t,i){var n=e.selectedYear+("Y"===i?t:0),r=e.selectedMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(n,r))+("D"===i?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,r,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=i&&t<i?i:t;return n&&n<r?n:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var r=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(t<0?t:r[0]*r[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,n,r=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),o=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||t.getTime()>=r.getTime())&&(!s||t.getTime()<=s.getTime())&&(!o||t.getFullYear()>=o)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),S.fn.datepicker=function(e,t){if(!this.length)return this;S.datepicker.initialized||(S(document).on("mousedown",S.datepicker._checkExternalClick),S.datepicker.initialized=!0),0===S("#"+S.datepicker._mainDivId).length&&S("body").append(S.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof t?S.datepicker["_"+e+"Datepicker"].apply(S.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?S.datepicker["_"+e+"Datepicker"].apply(S.datepicker,[this].concat(i)):S.datepicker._attachDatepicker(this,e)}):S.datepicker["_"+e+"Datepicker"].apply(S.datepicker,[this[0]].concat(i))},S.datepicker=new e,S.datepicker.initialized=!1,S.datepicker.uuid=(new Date).getTime(),S.datepicker.version="1.12.0";S.datepicker,S.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var $=!1;S(document).on("mouseup",function(){$=!1});S.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===S.data(e.target,t.widgetName+".preventClickEvent"))return S.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!$){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&S(e.target).closest(this.options.cancel).length;return!(i&&!n&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},
this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===S.data(e.target,this.widgetName+".preventClickEvent")&&S.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),$=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(S.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&S.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,$=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),S.ui.plugin={add:function(e,t,i){var n,r=S.ui[e].prototype;for(n in i)r.plugins[n]=r.plugins[n]||[],r.plugins[n].push([t,i[n]])},call:function(e,t,i,n){var r,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<s.length;r++)e.options[s[r][0]]&&s[r][1].apply(e.element,i)}},S.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&S(e).trigger("blur")};S.widget("ui.draggable",S.ui.mouse,{version:"1.12.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return this._blurActiveElement(e),!(this.helper||t.disabled||0<S(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=S(this);return S("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=S.ui.safeActiveElement(this.document[0]),i=S(e.target);this._getHandle(e)&&i.closest(t).length||S.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),S.ui.ddmanager&&(S.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===S(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),S.ui.ddmanager&&!t.dropBehaviour&&S.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),S.ui.ddmanager&&S.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new S.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",S.ui.ddmanager&&S.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,i=!1;return S.ui.ddmanager&&!this.options.dropBehaviour&&(i=S.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||S.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?S(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),S.ui.ddmanager&&S.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),S.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new S.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!S(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,i=S.isFunction(t.helper),n=i?S(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),i&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),S.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&S.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options,r=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(i=(t=S(n.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=n.containment:this.containment=[0,0,S(r).width()-this.helperProportions.width-this.margins.left,(S(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[S(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,S(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,S(window).scrollLeft()+S(window).width()-this.helperProportions.width-this.margins.left,S(window).scrollTop()+(S(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,r,s,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,d=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(d=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(d=i[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,d=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-o.grid[1]:r+o.grid[1]:r,s=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(d=this.originalPageY)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,i){return i=i||this._uiHash(),S.ui.plugin.call(this,e,[t,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),S.Widget.prototype._trigger.call(this,e,t,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),S.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,i){var n=S.extend({},e,{item:i.element});i.sortables=[],S(i.options.connectToSortable).each(function(){var e=S(this).sortable("instance");e&&!e.options.disabled&&(i.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,n))})},stop:function(t,e,i){var n=S.extend({},e,{item:i.element});i.cancelHelperRemoval=!1,S.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(i,n,r){S.each(r.sortables,function(){var e=!1,t=this;t.positionAbs=r.positionAbs,t.helperProportions=r.helperProportions,t.offset.click=r.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,S.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&S.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,r._parent=n.helper.parent(),t.currentItem=n.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return n.helper[0]},i.target=t.currentItem[0],t._mouseCapture(i,!0),t._mouseStart(i,!0,!0),t.offset.click.top=r.offset.click.top,t.offset.click.left=r.offset.click.left,t.offset.parent.left-=r.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=r.offset.parent.top-t.offset.parent.top,r._trigger("toSortable",i),r.dropped=t.element,S.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,t.fromOutside=r),t.currentItem&&(t._mouseDrag(i),n.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",i,t._uiHash(t)),t._mouseStop(i,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(i),n.position=r._generatePosition(i,!0),r._trigger("fromSortable",i),r.dropped=!1,S.each(r.sortables,function(){this.refreshPositions()}))})}}),S.ui.plugin.add("draggable","cursor",{start:function(e,t,i){var n=S("body"),r=i.options;n.css("cursor")&&(r._cursor=n.css("cursor")),n.css("cursor",r.cursor)},stop:function(e,t,i){var n=i.options;n._cursor&&S("body").css("cursor",n._cursor)}}),S.ui.plugin.add("draggable","opacity",{start:function(e,t,i){var n=S(t.helper),r=i.options;n.css("opacity")&&(r._opacity=n.css("opacity")),n.css("opacity",r.opacity)},stop:function(e,t,i){var n=i.options;n._opacity&&S(t.helper).css("opacity",n._opacity)}}),S.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,t,i){var n=i.options,r=!1,s=i.scrollParentNotHidden[0],o=i.document[0];s!==o&&"HTML"!==s.tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<n.scrollSensitivity?s.scrollTop=r=s.scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(s.scrollTop=r=s.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<n.scrollSensitivity?s.scrollLeft=r=s.scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(s.scrollLeft=r=s.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-S(o).scrollTop()<n.scrollSensitivity?r=S(o).scrollTop(S(o).scrollTop()-n.scrollSpeed):S(window).height()-(e.pageY-S(o).scrollTop())<n.scrollSensitivity&&(r=S(o).scrollTop(S(o).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-S(o).scrollLeft()<n.scrollSensitivity?r=S(o).scrollLeft(S(o).scrollLeft()-n.scrollSpeed):S(window).width()-(e.pageX-S(o).scrollLeft())<n.scrollSensitivity&&(r=S(o).scrollLeft(S(o).scrollLeft()+n.scrollSpeed)))),!1!==r&&S.ui.ddmanager&&!n.dropBehaviour&&S.ui.ddmanager.prepareOffsets(i,e)}}),S.ui.plugin.add("draggable","snap",{start:function(e,t,i){var n=i.options;i.snapElements=[],S(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=S(this),t=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,i){var n,r,s,o,a,l,d,c,u,p,h=i.options,f=h.snapTolerance,g=t.offset.left,m=g+i.helperProportions.width,v=t.offset.top,b=v+i.helperProportions.height;for(u=i.snapElements.length-1;0<=u;u--)l=(a=i.snapElements[u].left-i.margins.left)+i.snapElements[u].width,c=(d=i.snapElements[u].top-i.margins.top)+i.snapElements[u].height,m<a-f||l+f<g||b<d-f||c+f<v||!S.contains(i.snapElements[u].item.ownerDocument,i.snapElements[u].item)?(i.snapElements[u].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,S.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=!1):("inner"!==h.snapMode&&(n=Math.abs(d-b)<=f,r=Math.abs(c-v)<=f,s=Math.abs(a-m)<=f,o=Math.abs(l-g)<=f,n&&(t.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),r&&(t.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),s&&(t.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),o&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),p=n||r||s||o,"outer"!==h.snapMode&&(n=Math.abs(d-v)<=f,r=Math.abs(c-b)<=f,s=Math.abs(a-g)<=f,o=Math.abs(l-m)<=f,n&&(t.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),r&&(t.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),s&&(t.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),o&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[u].snapping&&(n||r||s||o||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,S.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=n||r||s||o||p)}}),S.ui.plugin.add("draggable","stack",{start:function(e,t,i){var n,r=i.options,s=S.makeArray(S(r.stack)).sort(function(e,t){return(parseInt(S(e).css("zIndex"),10)||0)-(parseInt(S(t).css("zIndex"),10)||0)});s.length&&(n=parseInt(S(s[0]).css("zIndex"),10)||0,S(s).each(function(e){S(this).css("zIndex",n+e)}),this.css("zIndex",n+s.length))}}),S.ui.plugin.add("draggable","zIndex",{start:function(e,t,i){var n=S(t.helper),r=i.options;n.css("zIndex")&&(r._zIndex=n.css("zIndex")),n.css("zIndex",r.zIndex)},stop:function(e,t,i){var n=i.options;n._zIndex&&S(t.helper).css("zIndex",n._zIndex)}});S.ui.draggable;S.widget("ui.resizable",S.ui.mouse,{version:"1.12.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,t){if("hidden"===S(e).css("overflow"))return!1;var i=t&&"left"===t?"scrollLeft":"scrollTop",n=!1;return 0<e[i]||(e[i]=1,n=0<e[i],e[i]=0,n)},_create:function(){var e,t=this.options,i=this;this._addClass("ui-resizable"),S.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(S("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),t.autoHide&&S(this.element).on("mouseenter",function(){t.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){t.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,t=function(e){S(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,t,i,n,r,s=this.options,o=this;if(this.handles=s.handles||(S(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=S(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},t=0;t<i.length;t++)n="ui-resizable-"+(e=S.trim(i[t])),r=S("<div>"),this._addClass(r,"ui-resizable-handle "+n),r.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(r);this._renderAxis=function(e){var t,i,n,r;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=S(this.handles[t]),this._on(this.handles[t],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=S(this.handles[t],this.element),r=/sw|ne|nw|se|n|s/.test(t)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(n,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){o.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var t,i,n=!1;for(t in this.handles)((i=S(this.handles[t])[0])===e.target||S.contains(i,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var t,i,n,r=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),r.containment&&(t+=S(r.containment).scrollLeft()||0,i+=S(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:t,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=S(".ui-resizable-"+this.axis).css("cursor"),S("body").css("cursor","auto"===n?this.axis+"-resize":n),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,i,n=this.originalMousePosition,r=this.axis,s=e.pageX-n.left||0,o=e.pageY-n.top||0,a=this._change[r];return this._updatePrevProperties(),a&&(t=a.apply(this,[e,s,o]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),S.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var t,i,n,r,s,o,a,l=this.options,d=this;return this._helper&&(n=(i=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&this._hasScroll(t[0],"left")?0:d.sizeDiff.height,r=i?0:d.sizeDiff.width,s={width:d.helper.width()-r,height:d.helper.height()-n},o=parseFloat(d.element.css("left"))+(d.position.left-d.originalPosition.left)||null,a=parseFloat(d.element.css("top"))+(d.position.top-d.originalPosition.top)||null,l.animate||this.element.css(S.extend(s,{top:a,left:o})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!l.animate&&this._proportionallyResize()),S("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,r,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:Infinity},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,r=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),n>s.minHeight&&(s.minHeight=n),i<s.maxWidth&&(s.maxWidth=i),r<s.maxHeight&&(s.maxHeight=r)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,d=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),s&&d&&(e.left=a-t.minWidth),n&&d&&(e.left=a-t.maxWidth),o&&c&&(e.top=l-t.minHeight),r&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseFloat(n[t])||0,i[t]+=parseFloat(r[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||S("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return S.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return S.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return S.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return S.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){S.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),S.ui.plugin.add("resizable","animate",{stop:function(t){var i=S(this).resizable("instance"),e=i.options,n=i._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),s=r&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,o=r?0:i.sizeDiff.width,a={width:i.size.width-o,height:i.size.height-s},l=parseFloat(i.element.css("left"))+(
i.position.left-i.originalPosition.left)||null,d=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(S.extend(a,d&&l?{top:d,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};n&&n.length&&S(n[0]).css({width:e.width,height:e.height}),i._updateCache(e),i._propagate("resize",t)}})}}),S.ui.plugin.add("resizable","containment",{start:function(){var i,n,e,t,r,s,o,a=S(this).resizable("instance"),l=a.options,d=a.element,c=l.containment,u=c instanceof S?c.get(0):/parent/.test(c)?d.parent().get(0):c;u&&(a.containerElement=S(u),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:S(document),left:0,top:0,width:S(document).width(),height:S(document).height()||document.body.parentNode.scrollHeight}):(i=S(u),n=[],S(["Top","Right","Left","Bottom"]).each(function(e,t){n[e]=a._num(i.css("padding"+t))}),a.containerOffset=i.offset(),a.containerPosition=i.position(),a.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},e=a.containerOffset,t=a.containerSize.height,r=a.containerSize.width,s=a._hasScroll(u,"left")?u.scrollWidth:r,o=a._hasScroll(u)?u.scrollHeight:t,a.parentData={element:u,left:e.left,top:e.top,width:s,height:o}))},resize:function(e){var t,i,n,r,s=S(this).resizable("instance"),o=s.options,a=s.containerOffset,l=s.position,d=s._aspectRatio||e.shiftKey,c={top:0,left:0},u=s.containerElement,p=!0;u[0]!==document&&/static/.test(u.css("position"))&&(c=a),l.left<(s._helper?a.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-a.left:s.position.left-c.left),d&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=o.helper?a.left:0),l.top<(s._helper?a.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-a.top:s.position.top),d&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?a.top:0),n=s.containerElement.get(0)===s.element.parent().get(0),r=/relative|absolute/.test(s.containerElement.css("position")),n&&r?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),t=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-c.left:s.offset.left-a.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-c.top:s.offset.top-a.top)),t+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-t,d&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,d&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=S(this).resizable("instance"),t=e.options,i=e.containerOffset,n=e.containerPosition,r=e.containerElement,s=S(e.helper),o=s.offset(),a=s.outerWidth()-e.sizeDiff.width,l=s.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(r.css("position"))&&S(this).css({left:o.left-n.left-i.left,width:a,height:l}),e._helper&&!t.animate&&/static/.test(r.css("position"))&&S(this).css({left:o.left-n.left-i.left,width:a,height:l})}}),S.ui.plugin.add("resizable","alsoResize",{start:function(){var e=S(this).resizable("instance").options;S(e.alsoResize).each(function(){var e=S(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var t=S(this).resizable("instance"),n=t.options,r=t.originalSize,s=t.originalPosition,o={height:t.size.height-r.height||0,width:t.size.width-r.width||0,top:t.position.top-s.top||0,left:t.position.left-s.left||0};S(n.alsoResize).each(function(){var e=S(this),n=S(this).data("ui-resizable-alsoresize"),r={},t=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];S.each(t,function(e,t){var i=(n[t]||0)+(o[t]||0);i&&0<=i&&(r[t]=i||null)}),e.css(r)})},stop:function(){S(this).removeData("ui-resizable-alsoresize")}}),S.ui.plugin.add("resizable","ghost",{start:function(){var e=S(this).resizable("instance"),t=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:t.height,width:t.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==S.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=S(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=S(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),S.ui.plugin.add("resizable","grid",{resize:function(){var e,t=S(this).resizable("instance"),i=t.options,n=t.size,r=t.originalSize,s=t.originalPosition,o=t.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,d=a[1]||1,c=Math.round((n.width-r.width)/l)*l,u=Math.round((n.height-r.height)/d)*d,p=r.width+c,h=r.height+u,f=i.maxWidth&&i.maxWidth<p,g=i.maxHeight&&i.maxHeight<h,m=i.minWidth&&i.minWidth>p,v=i.minHeight&&i.minHeight>h;i.grid=a,m&&(p+=l),v&&(h+=d),f&&(p-=l),g&&(h-=d),/^(se|s|e)$/.test(o)?(t.size.width=p,t.size.height=h):/^(ne)$/.test(o)?(t.size.width=p,t.size.height=h,t.position.top=s.top-u):/^(sw)$/.test(o)?(t.size.width=p,t.size.height=h,t.position.left=s.left-c):((h-d<=0||p-l<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),0<h-d?(t.size.height=h,t.position.top=s.top-u):(h=d-e.height,t.size.height=h,t.position.top=s.top+r.height-h),0<p-l?(t.size.width=p,t.position.left=s.left-c):(p=l-e.width,t.size.width=p,t.position.left=s.left+r.width-p))}});S.ui.resizable;S.widget("ui.dialog",{version:"1.12.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=S(this).css(e).offset().top;t<0&&S(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&S.fn.draggable&&this._makeDraggable(),this.options.resizable&&S.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?S(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:S.noop,enable:S.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||S.ui.safeBlur(S.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+S(this).css("z-index")}).get(),r=Math.max.apply(null,n);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),i=!0),i&&!t&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=S(S.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(e){function t(){var e=S.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||S.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=S("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===S.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===S.ui.keyCode.TAB&&!e.isDefaultPrevented()){var t=this.uiDialog.find(":tabbable"),i=t.filter(":first"),n=t.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=S("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){S(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=S("<button type='button'></button>").button({label:S("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=S("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=S("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=S("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var r=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),S.isEmptyObject(e)||S.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(S.each(e,function(e,t){var i,n;t=S.isFunction(t)?{click:t,text:e}:t,t=S.extend({type:"button"},t),i=t.click,n={icon:t.icon,iconPosition:t.iconPosition,showLabel:t.showLabel},delete t.click,delete t.icon,delete t.iconPosition,delete t.showLabel,S("<button></button>",t).button(n).appendTo(r.uiButtonSet).on("click",function(){i.apply(r.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function r(e){return{position:e.position,offset:e.offset}}var s=this,o=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){s._addClass(S(this),"ui-dialog-dragging"),s._blockFrames(),s._trigger("dragStart",e,r(t))},drag:function(e,t){s._trigger("drag",e,r(t))},stop:function(e,t){var i=t.offset.left-s.document.scrollLeft(),n=t.offset.top-s.document.scrollTop();o.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=n?"+":"")+n,of:s.window},s._removeClass(S(this),"ui-dialog-dragging"),s._unblockFrames(),s._trigger("dragStop",e,r(t))}})},_makeResizable:function(){function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var o=this,a=this.options,e=a.resizable,t=this.uiDialog.css("position"),i="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:i,start:function(e,t){o._addClass(S(this),"ui-dialog-resizing"),o._blockFrames(),o._trigger("resizeStart",e,s(t))},resize:function(e,t){o._trigger("resize",e,s(t))},stop:function(e,t){var i=o.uiDialog.offset(),n=i.left-o.document.scrollLeft(),r=i.top-o.document.scrollTop();a.height=o.uiDialog.height(),a.width=o.uiDialog.width(),a.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=r?"+":"")+r,of:o.window},o._removeClass(S(this),"ui-dialog-resizing"),o._unblockFrames(),o._trigger("resizeStop",e,s(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=S(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=S.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};S.each(e,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(r[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,n,r=this.uiDialog;"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:S("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=r.is(":data(ui-draggable)"))&&!t&&r.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=r.is(":data(ui-resizable)"))&&!t&&r.resizable("destroy"),n&&"string"==typeof t&&r.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=S(this);return S("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!S(e.target).closest(".ui-dialog").length||!!S(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=S("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==S.uiBackCompat&&S.widget("ui.dialog",S.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});S.ui.dialog;S.widget("ui.droppable",{version:"1.12.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=S.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(e){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=e},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){S.ui.ddmanager.droppables[e]=S.ui.ddmanager.droppables[e]||[],S.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=S.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,t){if("accept"===e)this.accept=S.isFunction(t)?t:function(e){return e.is(t)};else if("scope"===e){var i=S.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(t)}this._super(e,t)},_activate:function(e){var t=S.ui.ddmanager.current;this._addActiveClass(),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=S.ui.ddmanager.current;this._removeActiveClass(),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=S.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=S.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var i=e||S.ui.ddmanager.current,n=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=S(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&w(i,S.extend(e,{offset:e.element.offset()}),e.options.tolerance,t))return!(n=!0)}),!n&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var w=S.ui.intersect=function(){function p(e,t,i){return t<=e&&e<t+i}return function(e,t,i,n){if(!t.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,o=r+e.helperProportions.width,a=s+e.helperProportions.height,l=t.offset.left,d=t.offset.top,c=l+t.proportions().width,u=d+t.proportions().height;switch(i){case"fit":return l<=r&&o<=c&&d<=s&&a<=u;case"intersect":return l<r+e.helperProportions.width/2&&o-e.helperProportions.width/2<c&&d<s+e.helperProportions.height/2&&a-e.helperProportions.height/2<u;case"pointer":return p(n.pageY,d,t.proportions().height)&&p(n.pageX,l,t.proportions().width);case"touch":return(d<=s&&s<=u||d<=a&&a<=u||s<d&&u<a)&&(l<=r&&r<=c||l<=o&&o<=c||r<l&&c<o);default:return!1}}}();!(S.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,t){var i,n,r=S.ui.ddmanager.droppables[e.options.scope]||[],s=t?t.type:null,o=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<r.length;i++)if(!(r[i].options.disabled||e&&!r[i].accept.call(r[i].element[0],e.currentItem||e.element))){for(n=0;n<o.length;n++)if(o[n]===r[i].element[0]){r[i].proportions().height=0;continue e}r[i].visible="none"!==r[i].element.css("display"),r[i].visible&&("mousedown"===s&&r[i]._activate.call(r[i],t),r[i].offset=r[i].element.offset(),r[i].proportions({width:r[i].element[0].offsetWidth,height:r[i].element[0].offsetHeight}))}},drop:function(e,t){var i=!1;return S.each((S.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&w(e,this,this.options.tolerance,t)&&(i=this._drop.call(this,t)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),i},dragStart:function(e,t){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||S.ui.ddmanager.prepareOffsets(e,t)})},drag:function(s,o){s.options.refreshPositions&&S.ui.ddmanager.prepareOffsets(s,o),S.each(S.ui.ddmanager.droppables[s.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,t,i,n=w(s,this,this.options.tolerance,o),r=!n&&this.isover?"isout":n&&!this.isover?"isover":null;r&&(this.options.greedy&&(t=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return S(this).droppable("instance").options.scope===t})).length&&((e=S(i[0]).droppable("instance")).greedyChild="isover"===r)),e&&"isover"===r&&(e.isover=!1,e.isout=!0,e._out.call(e,o)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,o),e&&"isout"===r&&(e.isout=!1,e.isover=!0,e._over.call(e,o)))}})},dragStop:function(e,t){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||S.ui.ddmanager.prepareOffsets(e,t)}})!==S.uiBackCompat&&S.widget("ui.droppable",S.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});S.ui.droppable,S.widget("ui.progressbar",{version:"1.12.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=S("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===undefined)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===undefined&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(t.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=S("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),S.widget("ui.selectable",S.ui.mouse,{version:"1.12.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var n=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){n.elementPos=S(n.element[0]).offset(),n.selectees=S(n.options.filter,n.element[0]),n._addClass(n.selectees,"ui-selectee"),n.selectees.each(function(){var e=S(this),t=e.offset(),i={left:t.left-n.elementPos.left,top:t.top-n.elementPos.top};S.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=S("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var n=this,e=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=S(this.element[0]).offset(),this.options.disabled||(this.selectees=S(e.filter,this.element[0]),this._trigger("start",i),S(e.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=S.data(this,"selectable-item");e.startselected=!0,i.metaKey||i.ctrlKey||(n._removeClass(e.$element,"ui-selected"),e.selected=!1,n._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,n._trigger("unselecting",i,{unselecting:e.element}))}),S(i.target).parents().addBack().each(function(){var e,t=S.data(this,"selectable-item");if(t)return e=!i.metaKey&&!i.ctrlKey||!t.$element.hasClass("ui-selected"),n._removeClass(t.$element,e?"ui-unselecting":"ui-selected")._addClass(t.$element,e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?n._trigger("selecting",i,{selecting:t.element}):n._trigger("unselecting",i,{unselecting:t.element}),!1}))},_mouseDrag:function(n){if(this.dragged=!0,!this.options.disabled){var e,r=this,s=this.options,o=this.opos[0],a=this.opos[1],l=n.pageX,d=n.pageY;return l<o&&(e=l,l=o,o=e),d<a&&(e=d,d=a,a=e),this.helper.css({left:o,top:a,width:l-o,height:d-a}),this.selectees.each(function(){var e=S.data(this,"selectable-item"),t=!1,i={};e&&e.element!==r.element[0]&&(i.left=e.left+r.elementPos.left,i.right=e.right+r.elementPos.left,i.top=e.top+r.elementPos.top,i.bottom=e.bottom+r.elementPos.top,"touch"===s.tolerance?t=!(i.left>l||i.right<o||i.top>d||i.bottom<a):"fit"===s.tolerance&&(t=i.left>o&&i.right<l&&i.top>a&&i.bottom<d),t?(e.selected&&(r._removeClass(e.$element,"ui-selected"),e.selected=!1),e.unselecting&&(r._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1),e.selecting||(r._addClass(e.$element,"ui-selecting"),e.selecting=!0,r._trigger("selecting",n,{selecting:e.element}))):(e.selecting&&((n.metaKey||n.ctrlKey)&&e.startselected?(r._removeClass(e.$element,"ui-selecting"),e.selecting=!1,r._addClass(e.$element,"ui-selected"),e.selected=!0):(r._removeClass(e.$element,"ui-selecting"),e.selecting=!1,e.startselected&&(r._addClass(e.$element,"ui-unselecting"),e.unselecting=!0),r._trigger("unselecting",n,{unselecting:e.element}))),e.selected&&(n.metaKey||n.ctrlKey||e.startselected||(r._removeClass(e.$element,"ui-selected"),e.selected=!1,r._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,r._trigger("unselecting",n,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,S(".ui-unselecting",this.element[0]).each(function(){var e=S.data(this,"selectable-item");i._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1,e.startselected=!1,i._trigger("unselected",t,{unselected:e.element})}),S(".ui-selecting",this.element[0]).each(function(){var e=S.data(this,"selectable-item");i._removeClass(e.$element,"ui-selecting")._addClass(e.$element,"ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,i._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),S.widget("ui.selectmenu",[S.ui.formResetMixin,{version:"1.12.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=S()},_drawButton:function(){var e,t=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=S("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=S("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t._rendered||t._refreshMenu()})},_drawMenu:function(){var n=this;this.menu=S("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=S("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),
this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,t){e.preventDefault(),n._setSelection(),n._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){var i=t.item.data("ui-selectmenu-item");null!=n.focusIndex&&i.index!==n.focusIndex&&(n._trigger("focus",e,{item:i}),n.isOpen||n._select(i,e)),n.focusIndex=i.index,n.button.attr("aria-activedescendant",n.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(S.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var t=S("<span>");return this._setText(t,e.label),this._addClass(t,"ui-selectmenu-text"),t},_renderMenu:function(n,e){var r=this,s="";S.each(e,function(e,t){var i;t.optgroup!==s&&(i=S("<li>",{text:t.optgroup}),r._addClass(i,"ui-selectmenu-optgroup","ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),i.appendTo(n),s=t.optgroup),r._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var i=S("<li>"),n=S("<div>",{title:t.element.attr("title")});return t.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(n,t.label),i.append(n).appendTo(e)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](r).eq(-1):i[e+"All"](r).eq(0)).length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(S(e.target).closest(".ui-selectmenu-menu, #"+S.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var t=!0;switch(e.keyCode){case S.ui.keyCode.TAB:case S.ui.keyCode.ESCAPE:this.close(e),t=!1;break;case S.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case S.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case S.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case S.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case S.ui.keyCode.LEFT:this._move("prev",e);break;case S.ui.keyCode.RIGHT:this._move("next",e);break;case S.ui.keyCode.HOME:case S.ui.keyCode.PAGE_UP:this._move("first",e);break;case S.ui.keyCode.END:case S.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),t=!1}t&&e.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?S(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var i=this,n=[];e.each(function(e,t){n.push(i._parseOption(S(t),e))}),this.items=n},_parseOption:function(e,t){var i=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),S.widget("ui.slider",S.ui.mouse,{version:"1.12.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t,i=this.options,n=this.element.find(".ui-slider-handle"),r="<span tabindex='0'></span>",s=[];for(t=i.values&&i.values.length||1,n.length>t&&(n.slice(t).remove(),n=n.slice(0,t)),e=n.length;e<t;e++)s.push(r);this.handles=n.add(S(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){S(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:S.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=S("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var t,i,n,r,s,o,a,l=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(i-l.values(e));(t<n||n===t&&(e===l._lastChangedValue||l.values(e)===d.min))&&(n=t,r=S(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),o=r.offset(),a=!S(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:e.pageX-o.left-r.width()/2,top:e.pageY-o.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,r,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),1<(n=i/t)&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),s=this._valueMin()+n*r,this._trimAlignValue(s)},_uiHash:function(e,t,i){var n={handle:this.handles[e],handleIndex:e,value:t!==undefined?t:this.value()};return this._hasMultipleValues()&&(n.value=t!==undefined?t:this.values(e),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,i){var n,r=this.value(),s=this.values();this._hasMultipleValues()&&(n=this.values(t?0:1),r=this.values(t),2===this.options.values.length&&!0===this.options.range&&(i=0===t?Math.min(n,i):Math.max(n,i)),s[t]=i),i!==r&&!1!==this._trigger("slide",e,this._uiHash(t,i,s))&&(this._hasMultipleValues()?this.values(t,i):this.value(i))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var i,n,r;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!S.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,n=e,r=0;r<i.length;r+=1)i[r]=this._trimAlignValue(n[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,t){var i,n=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),S.isArray(this.options.values)&&(n=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=n-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=0<i?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;(e=Math.round((e-t)/i)*i+t)>this.options.max&&(e-=i),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,i,e,n,r,s=this.options.range,o=this.options,a=this,l=!this._animateOff&&o.animate,d={};this._hasMultipleValues()?this.handles.each(function(e){i=(a.values(e)-a._valueMin())/(a._valueMax()-a._valueMin())*100,d["horizontal"===a.orientation?"left":"bottom"]=i+"%",S(this).stop(1,1)[l?"animate":"css"](d,o.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===e&&a.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},o.animate),1===e&&a.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:o.animate})):(0===e&&a.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},o.animate),1===e&&a.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:o.animate}))),t=i}):(e=this.value(),n=this._valueMin(),r=this._valueMax(),i=r!==n?(e-n)/(r-n)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](d,o.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},o.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},o.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},o.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},o.animate))},_handleEvents:{keydown:function(e){var t,i,n,r=S(e.target).data("ui-slider-handle-index");switch(e.keyCode){case S.ui.keyCode.HOME:case S.ui.keyCode.END:case S.ui.keyCode.PAGE_UP:case S.ui.keyCode.PAGE_DOWN:case S.ui.keyCode.UP:case S.ui.keyCode.RIGHT:case S.ui.keyCode.DOWN:case S.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(S(e.target),null,"ui-state-active"),!1===this._start(e,r)))return}switch(n=this.options.step,t=i=this._hasMultipleValues()?this.values(r):this.value(),e.keyCode){case S.ui.keyCode.HOME:i=this._valueMin();break;case S.ui.keyCode.END:i=this._valueMax();break;case S.ui.keyCode.PAGE_UP:i=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case S.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case S.ui.keyCode.UP:case S.ui.keyCode.RIGHT:if(t===this._valueMax())return;i=this._trimAlignValue(t+n);break;case S.ui.keyCode.DOWN:case S.ui.keyCode.LEFT:if(t===this._valueMin())return;i=this._trimAlignValue(t-n)}this._slide(e,r,i)},keyup:function(e){var t=S(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),this._removeClass(S(e.target),null,"ui-state-active"))}}}),S.widget("ui.sortable",S.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return t<=e&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),S.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var i=null,n=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),S(e.target).parents().each(function(){if(S.data(this,r.widgetName+"-item")===r)return i=S(this),!1}),S.data(e.target,r.widgetName+"-item")===r&&(i=S(e.target)),!!i&&(!(this.options.handle&&!t&&(S(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,i){var n,r,s=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},S.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",s.cursor),this.storedStylesheet=S("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(r)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return S.ui.ddmanager&&(S.ui.ddmanager.current=this),S.ui.ddmanager&&!s.dropBehaviour&&S.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,i,n,r,s=this.options,o=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=o=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=o=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?o=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(o=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?o=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(o=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==o&&S.ui.ddmanager&&!s.dropBehaviour&&S.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(n=(i=this.items[t]).item[0],(r=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===n||S.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&S.contains(this.element[0],n))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),S.ui.ddmanager&&S.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(S.ui.ddmanager&&!this.options.dropBehaviour&&S.ui.ddmanager.drop(this,e),this.options.revert){var i=this,n=this.placeholder.offset(),r=this.options.axis,s={};r&&"x"!==r||(s.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(s.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,S(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,t);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),S.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?S(this.domPosition.prev).after(this.currentItem):S(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},S(e).each(function(){var e=(S(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(S(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,r=n+this.helperProportions.height,s=e.left,o=s+e.width,a=e.top,l=a+e.height,d=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||a<n+d&&n+d<l,p="y"===this.options.axis||s<t+c&&t+c<o,h=u&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!n||!r)&&(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&i||"left"===r&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){function t(){o.push(this)}var i,n,r,s,o=[],a=[],l=this._connectWith();if(l&&e)for(i=l.length-1;0<=i;i--)for(n=(r=S(l[i],this.document[0])).length-1;0<=n;n--)(s=S.data(r[n],this.widgetFullName))&&s!==this&&!s.options.disabled&&a.push([S.isFunction(s.options.items)?s.options.items.call(s.element):S(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(a.push([S.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):S(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;0<=i;i--)a[i][0].each(t);return S(o)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=S.grep(this.items,function(e){for(var t=0;t<i.length;t++)if(i[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,i,n,r,s,o,a,l,d=this.items,c=[[S.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):S(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(t=u.length-1;0<=t;t--)for(i=(n=S(u[t],this.document[0])).length-1;0<=i;i--)(r=S.data(n[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&(c.push([S.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):S(r.options.items,r.element),r]),this.containers.push(r));for(t=c.length-1;0<=t;t--)for(s=c[t][1],i=0,l=(o=c[t][0]).length;i<l;i++)(a=S(o[i])).data(this.widgetName+"-item",s),d.push({item:a,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,i,n,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(i=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?S(this.options.toleranceElement,i.item):i.item,e||(i.width=n.outerWidth(),i.height=n.outerHeight()),r=n.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)r=this.containers[t].element.offset(),this.containers[t].containerCache.left=r.left,this.containers[t].containerCache.top=r.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(i){var n,r=(i=i||this).options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var e=i.currentItem[0].nodeName.toLowerCase(),t=S("<"+e+">",i.document[0]);return i._addClass(t,"ui-sortable-placeholder",n||i.currentItem[0].className)._removeClass(t,"ui-sortable-helper"),"tbody"===e?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),S("<tr>",i.document[0]).appendTo(t)):"tr"===e?i._createTrPlaceholder(i.currentItem,t):"img"===e&&t.attr("src",i.currentItem.attr("src")),n||t.css("visibility","hidden"),t},update:function(e,t){n&&!r.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=S(r.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),r.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(e,t){var i=this;e.children().each(function(){S("<td>&#160;</td>",i.document[0]).attr("colspan",S(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){var t,i,n,r,s,o,a,l,d,c,u=null,p=null;for(t=this.containers.length-1;0<=t;t--)if(!S.contains(this.currentItem[0],this.containers[t].element[0]))if(this._intersectsWith(this.containers[t].containerCache)){if(u&&S.contains(this.containers[t].element[0],u.element[0]))continue;u=this.containers[t],p=t}else this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",e,this._uiHash(this)),this.containers[t].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(n=1e4,r=null,s=(d=u.floating||this._isFloating(this.currentItem))?"left":"top",o=d?"width":"height",c=d?"pageX":"pageY",i=this.items.length-1;0<=i;i--)S.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(a=this.items[i].item.offset()[s],l=!1,e[c]-a>this.items[i][o]/2&&(l=!0),Math.abs(
e[c]-a)<n&&(n=Math.abs(e[c]-a),r=this.items[i],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var t=this.options,i=S.isFunction(t.helper)?S(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||S("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!t.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!t.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),S.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&S.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&S.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=S(n.containment)[0],t=S(n.containment).offset(),i="hidden"!==S(e).css("overflow"),this.containment=[t.left+(parseInt(S(e).css("borderLeftWidth"),10)||0)+(parseInt(S(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(S(e).css("borderTopWidth"),10)||0)+(parseInt(S(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(S(e).css("borderLeftWidth"),10)||0)-(parseInt(S(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(S(e).css("borderTopWidth"),10)||0)-(parseInt(S(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&S.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:n.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:n.scrollLeft())*i}},_generatePosition:function(e){var t,i,n=this.options,r=e.pageX,s=e.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&S.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),n.grid&&(t=this.originalPageY+Math.round((s-this.originalPageY)/n.grid[1])*n.grid[1],s=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-n.grid[1]:t+n.grid[1]:t,i=this.originalPageX+Math.round((r-this.originalPageX)/n.grid[0])*n.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:o.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:o.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(t,i,n){return function(e){n._trigger(t,e,i._uiHash(i))}}this.reverting=!1;var n,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===S.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||S([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}});S.widget("ui.spinner",{version:"1.12.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var n=this._super(),r=this.element;return S.each(["min","max","step"],function(e,t){var i=r.attr(t);null!=i&&i.length&&(n[t]=i)}),n},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){function t(){this.element[0]===S.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===S.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),t.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,t.call(this)}),!1!==this._start(e)&&this._repeat(null,S(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(S(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,S(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var t=this.options,i=S.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,t.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?S.isFunction(t)?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var i,n,r;if("culture"===e||"numberFormat"===e)return i=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(i));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:t(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==S.uiBackCompat&&S.widget("ui.spinner",S.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var x;S.ui.spinner;S.widget("ui.tabs",{version:"1.12.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(x=/#.*$/,function(e){var t,i;t=e.href.replace(x,""),i=location.href.replace(x,"");try{t=decodeURIComponent(t)}catch(n){}try{i=decodeURIComponent(i)}catch(n){}return 1<e.hash.length&&t===i}),_create:function(){var t=this,e=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,e.collapsible),this._processTabs(),e.active=this._initialActive(),S.isArray(e.disabled)&&(e.disabled=S.unique(e.disabled.concat(S.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=S(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var i=this.options.active,e=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(e,t){if(S(t).attr("aria-controls")===n)return i=e,!1}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==i&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!e&&0),!e&&!1===i&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):S()}},_tabKeydown:function(e){var t=S(S.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(t),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case S.ui.keyCode.RIGHT:case S.ui.keyCode.DOWN:i++;break;case S.ui.keyCode.UP:case S.ui.keyCode.LEFT:n=!1,i--;break;case S.ui.keyCode.END:i=this.anchors.length-1;break;case S.ui.keyCode.HOME:i=0;break;case S.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case S.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,n),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===S.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===S.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===S.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){function i(){return n<e&&(e=0),e<0&&(e=n),e}for(var n=this.tabs.length-1;-1!==S.inArray(i(),this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=S.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!S.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=S()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=S()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,i=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){S(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){S(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return S("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=S(),this.anchors.each(function(e,t){var i,n,r,s=S(t).uniqueId().attr("id"),o=S(t).closest("li"),a=o.attr("aria-controls");l._isLocal(t)?(r=(i=t.hash).substring(1),n=l.element.find(l._sanitizeSelector(i))):(i="#"+(r=o.attr("aria-controls")||S({}).uniqueId()[0].id),(n=l.element.find(i)).length||(n=l._createPanel(r)).insertAfter(l.panels[e-1]||l.tablist),n.attr("aria-live","polite")),n.length&&(l.panels=l.panels.add(n)),a&&o.data("ui-tabs-aria-controls",a),o.attr({"aria-controls":r,"aria-labelledby":s}),n.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return S("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var t,i,n;for(S.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),n=0;i=this.tabs[n];n++)t=S(i),!0===e||-1!==S.inArray(n,e)?(t.attr("aria-disabled","true"),this._addClass(t,null,"ui-state-disabled")):(t.removeAttr("aria-disabled"),this._removeClass(t,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&S.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,t=this.element.parent();"fill"===e?(i=t.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=S(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=S(this).outerHeight(!0)}),this.panels.each(function(){S(this).height(Math.max(0,i-S(this).innerHeight()+S(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,S(this).height("").height())}).height(i))},_eventHandler:function(e){var t=this.options,i=this.active,n=S(e.currentTarget).closest("li"),r=n[0]===i[0],s=r&&t.collapsible,o=s?S():this._getPanelForTab(n),a=i.length?this._getPanelForTab(i):S(),l={oldTab:i,oldPanel:a,newTab:s?S():n,newPanel:o};e.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||r&&!t.collapsible||!1===this._trigger("beforeActivate",e,l)||(t.active=!s&&this.tabs.index(n),this.active=r?S():n,this.xhr&&this.xhr.abort(),a.length||o.length||S.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(n),e),this._toggle(e,l))},_toggle:function(e,t){function i(){r.running=!1,r._trigger("activate",e,t)}function n(){r._addClass(t.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,i):(s.show(),i())}var r=this,s=t.newPanel,o=t.oldPanel;this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){r._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n()}):(this._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),n()),o.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&o.length?t.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===S(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var t,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),t=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:S.noop}))},_findActive:function(e){return!1===e?S():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+S.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){S.data(this,"ui-tabs-destroy")?S(this).remove():S(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=S(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var e=this.options.disabled;!1!==e&&(i===undefined?e=!1:(i=this._getIndex(i),e=S.isArray(e)?S.map(e,function(e){return e!==i?e:null}):S.map(this.tabs,function(e,t){return t!==i?t:null})),this._setOptionDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(e===undefined)t=!0;else{if(e=this._getIndex(e),-1!==S.inArray(e,t))return;t=S.isArray(t)?S.merge([e],t).sort():[e]}this._setOptionDisabled(t)}},load:function(e,n){e=this._getIndex(e);var r=this,i=this.tabs.eq(e),t=i.find(".ui-tabs-anchor"),s=this._getPanelForTab(i),o={tab:i,panel:s},a=function(e,t){"abort"===t&&r.panels.stop(!1,!0),r._removeClass(i,"ui-tabs-loading"),s.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(t[0])||(this.xhr=S.ajax(this._ajaxSettings(t,n,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(i,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(e,t,i){setTimeout(function(){s.html(e),r._trigger("load",n,o),a(i,t)},1)}).fail(function(e,t){setTimeout(function(){a(e,t)},1)})))},_ajaxSettings:function(e,i,n){var r=this;return{url:e.attr("href"),beforeSend:function(e,t){return r._trigger("beforeLoad",i,S.extend({jqXHR:e,ajaxSettings:t},n))}}},_getPanelForTab:function(e){var t=S(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}}),!1!==S.uiBackCompat&&S.widget("ui.tabs",S.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});S.ui.tabs;S.widget("ui.tooltip",{version:"1.12.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=S(this).attr("title")||"";return S("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",S.trim(i.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),n=S.inArray(t,i);-1!==n&&i.splice(n,1),e.removeData("ui-tooltip-id"),(i=S.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=S("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=S([])},_setOption:function(e,t){var i=this;this._super(e,t),"content"===e&&S.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var n=this;S.each(this.tooltips,function(e,t){var i=S.Event("blur");i.target=i.currentTarget=t.element[0],n.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=S(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=S(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=S([])},open:function(e){var i=this,t=S(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=S(this);t.data("ui-tooltip-open")&&((e=S.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),t.attr("title")&&(t.uniqueId(),i.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,i){var e,n=this.options.content,r=this,s=i?i.type:null;if("string"==typeof n||n.nodeType||n.jquery)return this._open(i,t,n);(e=n.call(t[0],function(e){r._delay(function(){t.data("ui-tooltip-open")&&(i&&(i.type=s),this._open(i,t,e))})}))&&this._open(i,t,e)},_open:function(e,t,i){function n(e){l.of=e,s.is(":hidden")||s.position(l)}var r,s,o,a,l=S.extend({},this.options.position);i&&((r=this._find(t))?r.tooltip.find(".ui-tooltip-content").html(i):(t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),r=this._tooltip(t),s=r.tooltip,this._addDescribedBy(t,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(a=S("<div>").html(s.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),a.removeAttr("id").find("[id]").removeAttr("id"),a.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):s.position(S.extend({of:t},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){s.is(":visible")&&(n(l.of),clearInterval(o))},S.fx.interval)),this._trigger("open",e,{tooltip:s})))},_registerCloseHandlers:function(e,i){var t={keyup:function(e){if(e.keyCode===S.ui.keyCode.ESCAPE){var t=S.Event(e);t.currentTarget=i[0],this.close(t,!0)}}};i[0]!==this.element[0]&&(t.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(t.mouseleave="close"),e&&"focusin"!==e.type||(t.focusout="close"),this._on(!0,i,t)},close:function(e){var t,i=this,n=S(e?e.currentTarget:this.element),r=this._find(n);r?(t=r.tooltip,r.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),r.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){i._removeTooltip(S(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&S.each(this.parents,function(e,t){S(t.element).attr("title",t.title),delete i.parents[e]}),r.closing=!0,this._trigger(
"close",e,{tooltip:t}),r.hiding||(r.closing=!1))):n.removeData("ui-tooltip-open")},_tooltip:function(e){var t=S("<div>").attr("role","tooltip"),i=S("<div>").appendTo(t),n=t.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(t,"ui-tooltip","ui-widget ui-widget-content"),t.appendTo(this._appendTo(e)),this.tooltips[n]={element:e,tooltip:t}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var r=this;S.each(this.tooltips,function(e,t){var i=S.Event("blur"),n=t.element;i.target=i.currentTarget=n[0],r.close(i,!0),S("#"+e).remove(),n.data("ui-tooltip-title")&&(n.attr("title")||n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==S.uiBackCompat&&S.widget("ui.tooltip",S.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});S.ui.tooltip}),$$.make=function(t){return function(){var e=jQuery.makeArray(arguments);return e.unshift(t),$$.apply(this,e)}},function(e){for(var t=["a","abbr","acronym","address","area","b","base","bdo","big","blockquote","body","br","button","caption","cite","code","col","colgroup","dd","del","dfn","div","dl","dt","em","fieldset","form","h1","h2","h3","h4","h5","h6","head","html","hr","i","img","input","ins","kbd","label","legend","li","link","map","meta","noscript","object","ol","optgroup","option","p","param","pre","q","samp","script","select","small","span","strong","style","sub","sup","table","tbody","td","textarea","tfoot","th","thead","title","tr","tt","ul","var"],i=0;i<t.length;i++)e[t[i].toUpperCase()]=$$.make(t[i])}(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(window.jQuery)}(function(e){"use strict";function t(e){e===undefined&&(e=window.navigator.userAgent),e=e.toLowerCase();var t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0<=e.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[],n={},r={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0",platform:i[0]||""};if(r.browser&&(n[r.browser]=!0,n.version=r.version,n.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(n[r.platform]=!0),(n.android||n.bb||n.blackberry||n.ipad||n.iphone||n.ipod||n.kindle||n.playbook||n.silk||n["windows phone"])&&(n.mobile=!0),(n.cros||n.mac||n.linux||n.win)&&(n.desktop=!0),(n.chrome||n.opr||n.safari)&&(n.webkit=!0),n.rv||n.iemobile){var s="msie";n[r.browser=s]=!0}if(n.edge){delete n.edge;var o="msedge";n[r.browser=o]=!0}if(n.safari&&n.blackberry){var a="blackberry";n[r.browser=a]=!0}if(n.safari&&n.playbook){var l="playbook";n[r.browser=l]=!0}if(n.bb){var d="blackberry";n[r.browser=d]=!0}if(n.opr){var c="opera";n[r.browser=c]=!0}if(n.safari&&n.android){var u="android";n[r.browser=u]=!0}if(n.safari&&n.kindle){var p="kindle";n[r.browser=p]=!0}if(n.safari&&n.silk){var h="silk";n[r.browser=h]=!0}return n.name=r.browser,n.platform=r.platform,n}return window.jQBrowser=t(window.navigator.userAgent),window.jQBrowser.uaMatch=t,e&&(e.browser=window.jQBrowser),window.jQBrowser}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","../grid.base"],e):e(jQuery)}(function(e){e.jgrid=e.jgrid||{},e.jgrid.hasOwnProperty("regional")||(e.jgrid.regional=[]),e.jgrid.regional.en={defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",savetext:"Saving...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",pagerCaption:"Grid::Page Settings",pageText:"Page:",recordPage:"Records per Page",nomorerecs:"No more records...",scrollPullup:"Pull up to load more...",scrollPulldown:"Pull down to refresh...",scrollRefresh:"Release to refresh..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"},{oper:"bt",text:"between"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing",selectcaption:"Actions..."},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){return e<11||13<e?["st","nd","rd","th"][Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",parseRe:/[#%\\\/:_;.,\t\s-]/,masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1,userLocalTime:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"},colmenu:{sortasc:"Sort Ascending",sortdesc:"Sort Descending",columns:"Columns",filter:"Filter",grouping:"Group By",ungrouping:"Ungroup",searchTitle:"Get items with value that:",freeze:"Freeze",unfreeze:"Unfreeze",reorder:"Move to reorder"}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function($){"use strict";function _pivotfilter(e,t){var i,n,r,s=[];if(!this||"function"!=typeof e||e instanceof RegExp)throw new TypeError;for(r=this.length,i=0;i<r;i++)if(this.hasOwnProperty(i)&&(n=this[i],e.call(t,n,i,this))){s.push(n);break}return s}$.jgrid=$.jgrid||{},$.jgrid.hasOwnProperty("defaults")||($.jgrid.defaults={}),$.extend($.jgrid,{version:"5.1.1",htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},template:function(e){var r,s=$.makeArray(arguments).slice(1),o=s.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,t){if(!isNaN(parseInt(t,10)))return s[parseInt(t,10)];for(r=0;r<o;r++)if($.isArray(s[r]))for(var i=s[r],n=i.length;n--;)if(t===i[n].nm)return i[n].v})},msie:function(){return 0<$.jgrid.msiever()},msiever:function(){var e=0,t=window.navigator.userAgent,i=t.indexOf("MSIE");return 0<i?e=parseInt(t.substring(i+5,t.indexOf(".",i))):navigator.userAgent.match(/Trident\/7\./)&&(e=11),e},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],$.jgrid.msie()?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){var t=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return(e=String(e))?(e=e.replace(t,""))&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):"":e},stripPref:function(e,t){var i=$.type(e);return"string"!==i&&"number"!==i||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},useJSON:!0,parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),!0===$.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(e,t,i,n){var r,s,o,a=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,d=/[^-+\dA-Z]/g,c=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),u="string"==typeof t?t.match(c):null,p=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},h={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},f=0,g=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t},m=0;if(n===undefined&&(n=$.jgrid.getRegional(this,"formatter.date")),n.parseRe===undefined&&(n.parseRe=/[#%\\\/:_;.,\t\s-]/),n.masks.hasOwnProperty(e)&&(e=n.masks[e]),t&&null!=t)if(isNaN(t-0)||"u"!==String(e).toLowerCase())if(t.constructor===Date)f=t;else if(null!==u)f=new Date(parseInt(u[1],10)),u[3]&&(m=60*Number(u[5])+Number(u[6]),m*="-"===u[4]?1:-1,m-=f.getTimezoneOffset(),f.setTime(Number(Number(f)+60*m*1e3)));else{for("ISO8601Long"===n.srcformat&&"Z"===t.charAt(t.length-1)&&(m-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe),s=0,o=(e=e.replace(/\T/g,"#").replace(/\t/,"%").split(n.parseRe)).length;s<o;s++){switch(e[s]){case"M":-1!==(r=$.inArray(t[s],n.monthNames))&&r<12&&(t[s]=r+1,h.m=t[s]);break;case"F":-1!==(r=$.inArray(t[s],n.monthNames,12))&&11<r&&(t[s]=r+1-12,h.m=t[s]);break;case"n":e[s]="m";break;case"j":e[s]="d";break;case"a":-1!==(r=$.inArray(t[s],n.AmPm))&&r<2&&t[s]===n.AmPm[r]&&(t[s]=r,h.h=g(t[s],h.h));break;case"A":-1!==(r=$.inArray(t[s],n.AmPm))&&1<r&&t[s]===n.AmPm[r]&&(t[s]=r-2,h.h=g(t[s],h.h));break;case"g":h.h=parseInt(t[s],10)}t[s]!==undefined&&(h[e[s].toLowerCase()]=parseInt(t[s],10))}if(h.f&&(h.m=h.f),0===h.m&&0===h.y&&0===h.d)return"&#160;";h.m=parseInt(h.m,10)-1;var v=h.y;70<=v&&v<=99?h.y=1900+h.y:0<=v&&v<=69&&(h.y=2e3+h.y),f=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u),0<m&&f.setTime(Number(Number(f)+60*m*1e3))}else f=new Date(1e3*parseFloat(t));else f=new Date(h.y,h.m,h.d,h.h,h.i,h.s,h.u);if(n.userLocalTime&&0===m&&0<(m-=(new Date).getTimezoneOffset())&&f.setTime(Number(Number(f)+60*m*1e3)),i===undefined)return f;n.masks.hasOwnProperty(i)?i=n.masks[i]:i||(i="Y-m-d");var b=f.getHours(),_=f.getMinutes(),y=f.getDate(),w=f.getMonth()+1,x=f.getTimezoneOffset(),j=f.getSeconds(),D=f.getMilliseconds(),k=f.getDay(),C=f.getFullYear(),S=(k+6)%7+1,I=(new Date(C,w-1,y)-new Date(C,0,1))/864e5,T={d:p(y),D:n.dayNames[k],j:y,l:n.dayNames[k+7],N:S,S:n.S(y),w:k,z:I,W:S<5?Math.floor((I+S-1)/7)+1:Math.floor((I+S-1)/7)||((new Date(C-1,0,1).getDay()+6)%7<4?53:52),F:n.monthNames[w-1+12],m:p(w),M:n.monthNames[w-1],n:w,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:b<12?n.AmPm[0]:n.AmPm[1],A:b<12?n.AmPm[2]:n.AmPm[3],B:"?",g:b%12||12,G:b,h:p(b%12||12),H:p(b),i:p(_),s:p(j),u:D,e:"?",I:"?",O:(0<x?"-":"+")+p(100*Math.floor(Math.abs(x)/60)+Math.abs(x)%60,4),P:"?",T:(String(f).match(l)||[""]).pop().replace(d,""),Z:"?",c:"?",r:"?",U:Math.floor(f/1e3)};return i.replace(a,function(e){return T.hasOwnProperty(e)?T[e]:e.substring(1)})},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(e){return(e||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(t,i){var n,r,s=[];if("function"==typeof i)return i(t);if((n=t[i])===undefined)try{if("string"==typeof i&&(s=i.split(".")),r=s.length)for(n=t;n&&r--;)n=n[s.shift()]}catch(e){}return n},getXmlData:function(e,t,i){var n,r="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof t?t(e):r&&r[2]?r[1]?$(r[1],e).attr(r[2]):$(e).attr(r[2]):(n=$(t,e),i?n:0<n.length?$(n).text():undefined)},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable ui-common-table' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),t=e.appendTo("body").find("td").width();return e.remove(),.1<Math.abs(t-5)},isLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},getRegional:function(e,t,i){var n;return i!==undefined?i:(e.p&&e.p.regional&&$.jgrid.regional&&(n=$.jgrid.getAccessor($.jgrid.regional[e.p.regional]||{},t)),n===undefined&&(n=$.jgrid.getAccessor($.jgrid,t)),n)},isMobile:function(){try{return!!/Android|webOS|iPhone|iPad|iPod|pocket|psp|kindle|avantgo|blazer|midori|Tablet|Palm|maemo|plucker|phone|BlackBerry|symbian|IEMobile|mobile|ZuneWP7|Windows Phone|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}},cell_width:!0,ajaxOptions:{},from:function(source){var $t=this,QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return 0<d.length&&(_useProperties="object"==typeof d[0]),this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+")"),_trim&&t.push(")"),_usecase||t.push(".toLowerCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toLowerCase()},this._funcLoop=function(i){var n=[];return $.each(_data,function(e,t){n.push(i(t))}),n},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_useProperties?_lastCommand(_lastField,e):_lastCommand(e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,i){var n=Object.prototype.toString;return i===undefined&&(i=1),e===undefined&&(e=null),t===undefined&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:("[object Date]"===n.call(e)&&"[object Date]"===n.call(t)||_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-i:t<e?i:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var i=_sorting[t].by,n=_sorting[t].dir,r=_sorting[t].type,s=_sorting[t].datefmt,o=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,i,n,r,s,o);t++;var a,l,d,c=self._getGroup(e,i,n,r,s),u=[];for(a=0;a<c.length;a++)for(d=self._doSort(c[a].items,t),l=0;l<d.length;l++)u.push(d[l]);return u},this._getOrder=function(e,i,t,n,r,s){var o,a,l,d,c=[],u=[],p="a"===t?1:-1;n===undefined&&(n="text"),d="float"===n||"number"===n||"currency"===n||"numeric"===n?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===n||"integer"===n?function(e){return e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===n||"datetime"===n?function(e){return $.jgrid.parseDate.call($t,r,e).getTime()}:$.isFunction(n)?n:function(e){return e=e?$.trim(String(e)):"",_usecase?e:e.toLowerCase()},$.each(e,function(e,t){(a=""!==i?$.jgrid.getAccessor(t,i):t)===undefined&&(a=""),a=d(a,t),u.push({vSort:a,index:e})}),$.isFunction(s)?u.sort(function(e,t){return s.call(this,e.vSort,t.vSort,p,e,t)}):u.sort(function(e,t){return self._compare(e.vSort,t.vSort,p)}),l=0;for(var h=e.length;l<h;)o=u[l].index,c.push(e[o]),l++;return c},this._getGroup=function(e,i,t,n,r){var s,o=[],a=null,l=null;return $.each(self._getOrder(e,i,t,n,r),function(e,t){null==(s=$.jgrid.getAccessor(t,i))&&(s=""),self._equals(l,s)||(l=s,null!==a&&o.push(a),a=self._group(i,s)),a.items.push(t)}),null!==a&&o.push(a),o},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match||($.each(_data,function(){eval(match)&&results.push(this)}),_data=results),self},this.data=function(){return _data},this.select=function(i){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(i)){var n=[];return $.each(_data,function(e,t){n.push(i(t))}),n}return _data},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),0<_data.length)},this.andNot=function(e,t,i){return _negate=!_negate,self.and(e,t,i)},this.orNot=function(e,t,i){return _negate=!_negate,self.or(e,t,i)},this.not=function(e,t,i){return self.andNot(e,t,i)},this.and=function(e,t,i){return _queuedOperator=" && ",e===undefined?self:self._repeatCommand(e,t,i)},this.or=function(e,t,i){return _queuedOperator=" || ",e===undefined?self:self._repeatCommand(e,t,i)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,i,n,r){var s;s=_useProperties?"jQuery.jgrid.getAccessor(this,'"+t+"')":"this",i===undefined&&(i=null);var o=i,a=r.stype===undefined?"text":r.stype;if(null!==i)switch(a){case"int":case"integer":s="parseInt("+s+",10)",o="parseInt("+(o=isNaN(Number(o))||""===o?"0":o)+",10)";break;case"float":case"number":case"numeric":o=String(o).replace(_stripNum,""),s="parseFloat("+s+")",o="parseFloat("+(o=isNaN(Number(o))||""===o?"0":o)+")";break;case"date":case"datetime":o=String($.jgrid.parseDate.call($t,r.srcfmt||"Y-m-d",o).getTime()),s='jQuery.jgrid.parseDate.call(jQuery("#'+$.jgrid.jqID($t.p.id)+'")[0],"'+r.srcfmt+'",'+s+").getTime()";break;default:s=self._getStr(s),o=self._getStr('"'+self._toStr(o)+'"')}return self._append(s+" "+n+" "+o),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,i){return self._compareValues(self.equals,e,t,"==",i)},this.notEquals=function(e,t,i){return self._compareValues(self.equals,e,t,"!==",i)},this.isNull=function(e,t,i){return self._compareValues(self.equals,e,null,"===",i)},this.greater=function(e,t,i){return self._compareValues(self.greater,e,t,">",i)},this.less=function(e,t,i){return self._compareValues(self.less,e,t,"<",i)},this.greaterOrEquals=function(e,t,i){return self._compareValues(self.greaterOrEquals,e,t,">=",i)},this.lessOrEquals=function(e,t,i){return self._compareValues(self.lessOrEquals,e,t,"<=",i)},this.startsWith=function(e,t){var i=null==t?e:t,n=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr(0,"+n+") == "+self._getStr('"'+self._toStr(t)+'"')):(null!=t&&(n=_trim?$.trim(t.toString()).length:t.toString().length),self._append(self._getStr("this")+".substr(0,"+n+") == "+self._getStr('"'+self._toStr(e)+'"'))),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var i=null==t?e:t,n=_trim?$.trim(i.toString()).length:i.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+".length-"+n+","+n+') == "'+self._toStr(t)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(e)+'".length,"'+self._toStr(e)+'".length) == "'+self._toStr(e)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+e+"')")+'.indexOf("'+self._toStr(t)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(e)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,i,n){return self._hasData()?self._getGroup(_data,e,t,i,n):null},this.orderBy=function(e,t,i,n,r){return null==i&&(i="text"),null==n&&(n="Y-m-d"),null==r&&(r=!1),"desc"!==(t=null==t?"a":$.trim(t.toString().toLowerCase()))&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:i,datefmt:n,sfunc:r}),self},self};return new QueryObject(source,null)},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)},clearBeforeUnload:function(e){var t,i=$("#"+$.jgrid.jqID(e))[0];if(i.grid){t=i.grid,$.isFunction(t.emptyRows)&&t.emptyRows.call(i,!0,!0),$(document).unbind("mouseup.jqGrid"+i.p.id),$(t.hDiv).unbind("mousemove"),$(i).unbind();var n,r=t.headers.length,s=["formatCol","sortData","updatepager","refreshIndex","setHeadCheckBox","constructTr","formatter","addXmlData","addJSONData","grid","p"];for(n=0;n<r;n++)t.headers[n].el=null;for(n in t)t.hasOwnProperty(n)&&(t[n]=null);for(n in i.p)i.p.hasOwnProperty(n)&&(i.p[n]=$.isArray(i.p[n])?[]:null);for(r=s.length,n=0;n<r;n++)i.hasOwnProperty(s[n])&&(i[s[n]]=null,delete i[s[n]])}},gridUnload:function(e){if(e){0===(e=$.trim(e)).indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){var i={id:$(t).attr("id"),cl:$(t).attr("class")};t.p.pager&&$(t.p.pager).unbind().empty().removeClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");var n=document.createElement("table");n.className=i.cl;var r=$.jgrid.jqID(t.id);$(n).removeClass("ui-jqgrid-btable ui-common-table").insertBefore("#gbox_"+r),1===$(t.p.pager).parents("#gbox_"+r).length&&$(t.p.pager).insertBefore("#gbox_"+r),$.jgrid.clearBeforeUnload(e),$("#gbox_"+r).remove(),$(n).attr({id:i.id}),$("#alertmod_"+$.jgrid.jqID(e)).remove()}}},gridDestroy:function(e){if(e){0===(e=$.trim(e)).indexOf("#")&&(e=e.substring(1));var t=$("#"+$.jgrid.jqID(e))[0];if(t.grid){t.p.pager&&$(t.p.pager).remove();try{$.jgrid.clearBeforeUnload(e),$("#gbox_"+$.jgrid.jqID(e)).remove()}catch(i){}}}},styleUI:{jQueryUI:{common:{disabled:"ui-state-disabled",highlight:"ui-state-highlight",hover:"ui-state-hover",cornerall:"ui-corner-all",cornertop:"ui-corner-top",cornerbottom:"ui-corner-bottom",hidden:"ui-helper-hidden",icon_base:"ui-icon",overlay:"ui-widget-overlay",active:"ui-state-active",error:"ui-state-error",button:"ui-state-default ui-corner-all",content:"ui-widget-content"},base:{entrieBox:"ui-widget ui-widget-content ui-corner-all",viewBox:"",headerTable:"",headerBox:"ui-state-default",rowTable:"",rowBox:"ui-widget-content",footerTable:"",footerBox:"ui-widget-content",headerDiv:"ui-state-default",gridtitleBox:"ui-widget-header ui-corner-top ui-helper-clearfix",customtoolbarBox:"ui-state-default",loadingBox:"ui-state-default ui-state-active",rownumBox:"ui-state-default",scrollBox:"ui-widget-content",multiBox:"",pagerBox:"ui-state-default ui-corner-bottom",pagerTable:"",toppagerBox:"ui-state-default",pgInput:"ui-corner-all",pgSelectBox:"ui-widget-content ui-corner-all",pgButtonBox:"ui-corner-all",icon_first:"ui-icon-seek-first",icon_prev:"ui-icon-seek-prev",icon_next:"ui-icon-seek-next",icon_end:"ui-icon-seek-end",icon_asc:"ui-icon-triangle-1-n",icon_desc:"ui-icon-triangle-1-s",icon_caption_open:"ui-icon-circle-triangle-n",icon_caption_close:"ui-icon-circle-triangle-s"},modal:{modal:"ui-widget ui-widget-content ui-corner-all ui-dialog",header:"ui-widget-header ui-corner-all ui-helper-clearfix",content:"ui-widget-content",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"ui-icon-closethick",icon_resizable:"ui-icon-gripsmall-diagonal-se"},celledit:{inputClass:"ui-widget-content ui-corner-all"},inlinedit:{inputClass:"ui-widget-content ui-corner-all",icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_save_nav:"ui-icon-disk",icon_cancel_nav:"ui-icon-cancel"},formedit:{inputClass:"ui-widget-content ui-corner-all",icon_prev:"ui-icon-triangle-1-w",icon_next:"ui-icon-triangle-1-e",icon_save:"ui-icon-disk",icon_close:"ui-icon-close",icon_del:"ui-icon-scissors",icon_cancel:"ui-icon-cancel"},navigator:{icon_edit_nav:"ui-icon-pencil",icon_add_nav:"ui-icon-plus",icon_del_nav:"ui-icon-trash",icon_search_nav:"ui-icon-search",icon_refresh_nav:"ui-icon-refresh",icon_view_nav:"ui-icon-document",icon_newbutton_nav:"ui-icon-newwin"},grouping:{icon_plus:"ui-icon-circlesmall-plus",icon_minus:"ui-icon-circlesmall-minus"},filter:{table_widget:"ui-widget ui-widget-content",srSelect:"ui-widget-content ui-corner-all",srInput:"ui-widget-content ui-corner-all",menu_widget:"ui-widget ui-widget-content ui-corner-all",icon_search:"ui-icon-search",icon_reset:"ui-icon-arrowreturnthick-1-w",icon_query:"ui-icon-comment"},subgrid:{icon_plus:"ui-icon-plus",icon_minus:"ui-icon-minus",icon_open:"ui-icon-carat-1-sw"},treegrid:{icon_plus:"ui-icon-triangle-1-",icon_minus:"ui-icon-triangle-1-s",icon_leaf:"ui-icon-radio-off"},fmatter:{icon_edit:"ui-icon-pencil",icon_add:"ui-icon-plus",icon_save:"ui-icon-disk",icon_cancel:"ui-icon-cancel",icon_del:"ui-icon-trash"},colmenu:{menu_widget:"ui-widget ui-widget-content ui-corner-all",input_checkbox:"ui-widget ui-widget-content",filter_select:"ui-widget-content ui-corner-all",filter_input:"ui-widget-content ui-corner-all",icon_menu:"ui-icon-comment",icon_sort_asc:"ui-icon-arrow-1-n",icon_sort_desc:"ui-icon-arrow-1-s",icon_columns:"ui-icon-extlink",icon_filter:"ui-icon-calculator",icon_group:"ui-icon-grip-solid-horizontal",icon_freeze:"ui-icon-grip-solid-vertical",icon_move:"ui-icon-arrow-4"}},Bootstrap:{common:{disabled:"ui-disabled",highlight:"success",hover:"active",cornerall:"",cornertop:"",cornerbottom:"",hidden:"",icon_base:"glyphicon",overlay:"ui-overlay",active:"active",error:"bg-danger",button:"btn btn-default",content:""},base:{entrieBox:"",viewBox:"table-responsive",headerTable:"table table-bordered",headerBox:"",rowTable:"table table-bordered",rowBox:"",footerTable:"table table-bordered",footerBox:"",headerDiv:"",gridtitleBox:"",customtoolbarBox:"",loadingBox:"row",rownumBox:"active",scrollBox:"",multiBox:"checkbox",pagerBox:"",pagerTable:"table",toppagerBox:"",pgInput:"form-control",pgSelectBox:"form-control",pgButtonBox:"",icon_first:"glyphicon-step-backward",icon_prev:"glyphicon-backward",icon_next:"glyphicon-forward",icon_end:"glyphicon-step-forward",icon_asc:"glyphicon-triangle-top",icon_desc:"glyphicon-triangle-bottom",icon_caption_open:"glyphicon-circle-arrow-up",icon_caption_close:"glyphicon-circle-arrow-down"},modal:{modal:"modal-content",header:"modal-header",title:"modal-title",content:"modal-body",resizable:"ui-resizable-handle ui-resizable-se",icon_close:"glyphicon-remove-circle",icon_resizable:"glyphicon-import"},celledit:{inputClass:"form-control"},inlinedit:{inputClass:"form-control",icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_save_nav:"glyphicon-save",icon_cancel_nav:"glyphicon-remove-circle"},formedit:{inputClass:"form-control",icon_prev:"glyphicon-step-backward",icon_next:"glyphicon-step-forward",icon_save:"glyphicon-save",icon_close:"glyphicon-remove-circle",icon_del:"glyphicon-trash",icon_cancel:"glyphicon-remove-circle"},navigator:{icon_edit_nav:"glyphicon-edit",icon_add_nav:"glyphicon-plus",icon_del_nav:"glyphicon-trash",icon_search_nav:"glyphicon-search",icon_refresh_nav:"glyphicon-refresh",icon_view_nav:"glyphicon-info-sign",icon_newbutton_nav:"glyphicon-new-window"},grouping:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom"},filter:{table_widget:"table table-condensed",srSelect:"form-control",srInput:"form-control",menu_widget:"",icon_search:"glyphicon-search",icon_reset:"glyphicon-refresh",icon_query:"glyphicon-comment"},subgrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_open:"glyphicon-indent-left"},treegrid:{icon_plus:"glyphicon-triangle-right",icon_minus:"glyphicon-triangle-bottom",icon_leaf:"glyphicon-unchecked"},fmatter:{icon_edit:"glyphicon-edit",icon_add:"glyphicon-plus",icon_save:"glyphicon-save",icon_cancel:"glyphicon-remove-circle",icon_del:"glyphicon-trash"},colmenu:{menu_widget:"",input_checkbox:"",filter_select:"form-control",filter_input:"form-control",icon_menu:"glyphicon-menu-hamburger",icon_sort_asc:"glyphicon-sort-by-alphabet",icon_sort_desc:"glyphicon-sort-by-alphabet-alt",icon_columns:"glyphicon-list-alt",icon_filter:"glyphicon-filter",icon_group:"glyphicon-align-left",icon_freeze:"glyphicon-object-align-horizontal",icon_move:"glyphicon-move"}}}}),$.fn.jqGrid=function(ze){if("string"!=typeof ze)return this.each(function(){if(!this.grid){var t;null!=ze&&ze.data!==undefined&&(t=ze.data,ze.data=[]);var h=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:30,gridview:!0,rownumWidth:35,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},
direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"",minusicon:"",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!0,cmTemplate:{},idPrefix:"",multiSort:!1,minColWidth:33,scrollPopUp:!1,scrollTopOffset:0,scrollLeftOffset:"100%",storeNavOptions:!1,regional:"en",styleUI:"jQueryUI",responsive:!1,restoreCellonFail:!0,colFilters:{},colMenu:!1},$.jgrid.defaults,ze);t!==undefined&&(h.data=t,ze.data=t);var X=this,f={headers:[],cols:[],footers:[],dragStart:function(e,t,i){var n=$(this.bDiv).offset().left;this.resizing={idx:e,startX:t.pageX,sOL:t.pageX-n},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(h.id),"#gbox_"+$.jgrid.jqID(h.id)),this.curGbox.css({display:"block",left:t.pageX-n,top:i[1],height:i[2]}),$(X).triggerHandler("jqGridResizeStart",[t,e]),$.isFunction(h.resizeStart)&&h.resizeStart.call(X,t,e),document.onselectstart=function(){return!1}},dragMove:function(e){if(this.resizing){var t,i,n=e.pageX-this.resizing.startX,r=this.headers[this.resizing.idx],s="ltr"===h.direction?r.width+n:r.width-n;33<s&&(this.curGbox.css({left:this.resizing.sOL+n}),!0===h.forceFit?(t=this.headers[this.resizing.idx+h.nv],(i="ltr"===h.direction?t.width-n:t.width+n)>h.minColWidth&&(r.newWidth=s,t.newWidth=i)):(this.newWidth="ltr"===h.direction?h.tblwidth+n:h.tblwidth-n,r.newWidth=s))}},dragEnd:function(e){if(this.hDiv.style.cursor="default",this.resizing){var t=this.resizing.idx,i=this.headers[t].newWidth||this.headers[t].width;i=parseInt(i,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(h.id)).css("display","none"),h.colModel[t].width=i,this.headers[t].width=i,this.headers[t].el.style.width=i+"px",this.cols[t].style.width=i+"px",0<this.footers.length&&(this.footers[t].style.width=i+"px"),!0===h.forceFit?(i=this.headers[t+h.nv].newWidth||this.headers[t+h.nv].width,this.headers[t+h.nv].width=i,this.headers[t+h.nv].el.style.width=i+"px",this.cols[t+h.nv].style.width=i+"px",0<this.footers.length&&(this.footers[t+h.nv].style.width=i+"px"),h.colModel[t+h.nv].width=i):(h.tblwidth=this.newWidth||h.tblwidth,$("table:first",this.bDiv).css("width",h.tblwidth+"px"),$("table:first",this.hDiv).css("width",h.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,h.footerrow&&($("table:first",this.sDiv).css("width",h.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),e&&($(X).triggerHandler("jqGridResizeStop",[i,t]),$.isFunction(h.resizeStop)&&h.resizeStop.call(X,i,t))}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){f.timer&&clearTimeout(f.timer),f.timer=null;var e=$(f.bDiv).height();if(e){var t,i,n=$("table:first",f.bDiv);if(n[0].rows.length)try{i=(t=n[0].rows[1])&&$(t).outerHeight()||f.prevRowHeight}catch(p){i=f.prevRowHeight}if(i){f.prevRowHeight=i;var r,s,o,a=h.rowNum,l=f.scrollTop=f.bDiv.scrollTop,d=Math.round(n.position().top)-l,c=d+n.height(),u=i*a;if(c<e&&d<=0&&(h.lastpage===undefined||(parseInt((c+l+u-1)/u,10)||0)<=h.lastpage)&&(s=parseInt((e-c+u-1)/u,10)||1,0<=c||s<2||!0===h.scroll?(r=(Math.round((c+l)/u)||0)+1,d=-1):d=1),0<d&&(r=(parseInt(l/u,10)||0)+1,s=(parseInt((l+e)/u,10)||0)+2-r,o=!0),s){if(h.lastpage&&(r>h.lastpage||1===h.lastpage||r===h.page&&r===h.lastpage))return;f.hDiv.loading?f.timer=setTimeout(f.populateVisible,h.scrollTimeout):(h.page=r,o&&(f.selectionPreserver(n[0]),f.emptyRows.call(n[0],!1,!1)),f.populate(s)),h.scrollPopUp&&null!=h.lastpage&&($("#scroll_g"+h.id).show().html($.jgrid.template($.jgrid.getRegional(X,"defaults.pgtext",h.pgtext),h.page,h.lastpage)).css({top:h.scrollTopOffset+l*((parseInt(h.height,10)-45)/(parseInt(i,10)*parseInt(h.records,10)))+"px",left:h.scrollLeftOffset}),$(this).mouseout(function(){$("#scroll_g"+h.id).hide()}))}}}},scrollGrid:function(e){if(h.scroll){var t=f.bDiv.scrollTop;f.scrollTop===undefined&&(f.scrollTop=0),t!==f.scrollTop&&(f.scrollTop=t,f.timer&&clearTimeout(f.timer),f.timer=setTimeout(f.populateVisible,h.scrollTimeout))}f.hDiv.scrollLeft=f.bDiv.scrollLeft,h.footerrow&&(f.sDiv.scrollLeft=f.bDiv.scrollLeft),h.frozenColumns&&$(f.fbDiv).scrollTop(f.bDiv.scrollTop),e&&e.stopPropagation()},selectionPreserver:function(t){var i=t.p,n=i.selrow,r=i.selarrrow?$.makeArray(i.selarrrow):null,s=t.grid.bDiv.scrollLeft,o=function(){var e;if(i.selrow=null,i.selarrrow=[],i.multiselect&&r&&0<r.length)for(e=0;e<r.length;e++)r[e]!==n&&$(t).jqGrid("setSelection",r[e],!1,null);n&&$(t).jqGrid("setSelection",n,!1,null),t.grid.bDiv.scrollLeft=s,$(t).unbind(".selectionPreserver",o)};$(t).bind("jqGridGridComplete.selectionPreserver",o)}};if("TABLE"===this.tagName.toUpperCase()&&null!=this.id)if(document.documentMode!==undefined&&document.documentMode<=5)alert("Grid can not be used in this ('quirks') mode!");else{var i,n,b,r=0;for(n in $.jgrid.regional)$.jgrid.regional.hasOwnProperty(n)&&(0===r&&(i=n),r++);if(1===r&&i!==h.regional&&(h.regional=i),$(this).empty().attr("tabindex","0"),this.p=h,this.p.useProp=!!$.fn.prop,0===this.p.colNames.length)for(r=0;r<this.p.colModel.length;r++)this.p.colNames[r]=this.p.colModel[r].label||this.p.colModel[r].name;if(this.p.colNames.length===this.p.colModel.length){var o,J=$.jgrid.getMethod("getStyleUI"),Q=X.p.styleUI+".common",_=J(Q,"disabled",!0),Z=J(Q,"highlight",!0),D=J(Q,"hover",!0),a=J(Q,"cornerall",!0),y=J(Q,"icon_base",!0),k=$.jgrid.styleUI[X.p.styleUI||"jQueryUI"].colmenu,l=$.jgrid.msie(),q=[],M=[],d=[];Q=X.p.styleUI+".base",o=$("<div "+J(Q,"viewBox",!1,"ui-jqgrid-view")+" role='grid'></div>"),X.p.direction=$.trim(X.p.direction.toLowerCase()),X.p._ald=!1,-1===$.inArray(X.p.direction,["ltr","rtl"])&&(X.p.direction="ltr"),b=X.p.direction,$(o).insertBefore(this),$(this).appendTo(o);var c=$("<div "+J(Q,"entrieBox",!1,"ui-jqgrid")+"></div>");$(c).attr({id:"gbox_"+this.id,dir:b}).insertBefore(o),$(o).attr("id","gview_"+this.id).appendTo(c),$("<div "+J(X.p.styleUI+".common","overlay",!1,"jqgrid-overlay")+" id='lui_"+this.id+"'></div>").insertBefore(o),$("<div "+J(Q,"loadingBox",!1,"loading")+" id='load_"+this.id+"'>"+$.jgrid.getRegional(X,"defaults.loadtext",this.p.loadtext)+"</div>").insertBefore(o),$(this).attr({role:"presentation","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var u,p=["shiftKey","altKey","ctrlKey"],ee=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},g=function(e,t,i,n,r,s){var o,a=X.p.colModel[e],l=a.align,d='style="',c=a.classes,u=a.name,p=[];return l&&(d+="text-align:"+l+";"),!0===a.hidden&&(d+="display:none;"),0===t?d+="width: "+f.headers[e].width+"px;":($.isFunction(a.cellattr)||"string"==typeof a.cellattr&&null!=$.jgrid.cellattr&&$.isFunction($.jgrid.cellattr[a.cellattr]))&&(o=($.isFunction(a.cellattr)?a.cellattr:$.jgrid.cellattr[a.cellattr]).call(X,r,i,n,a,s))&&"string"==typeof o&&(-1<(o=o.replace(/style/i,"style").replace(/title/i,"title")).indexOf("title")&&(a.title=!1),-1<o.indexOf("class")&&(c=undefined),2===(p=o.replace(/\-style/g,"-sti").split(/style/)).length?(p[1]=$.trim(p[1].replace(/\-sti/g,"-style").replace("=","")),0!==p[1].indexOf("'")&&0!==p[1].indexOf('"')||(p[1]=p[1].substring(1)),d+=p[1].replace(/'/gi,'"')):d+='"'),p.length||(p[0]="",d+='"'),d+=(c!==undefined?' class="'+c+'"':"")+(a.title&&i?' title="'+$.jgrid.stripHtml(i)+'"':""),(d+=' aria-describedby="'+X.p.id+"_"+u+'"')+p[0]},m=function(e){return null==e||""===e?"&#160;":X.p.autoencode?$.jgrid.htmlEncode(e):String(e)},v=function(e,t,i,n,r){var s,o=X.p.colModel[i];if(o.formatter!==undefined){var a={rowId:e=""!==String(X.p.idPrefix)?$.jgrid.stripPref(X.p.idPrefix,e):e,colModel:o,gid:X.p.id,pos:i,styleUI:X.p.styleUI};s=$.isFunction(o.formatter)?o.formatter.call(X,t,a,n,r):$.fmatter?$.fn.fmatter.call(X,o.formatter,t,a,n,r):m(t)}else s=m(t);return s},te=function(e,t,i,n,r,s){var o;return o=v(e,t,i,r,"add"),'<td role="gridcell" '+g(i,n,o,r,e,s)+">"+o+"</td>"},ie=function(e,t,i,n,r){var s='<input role="checkbox" type="checkbox" id="jqg_'+X.p.id+"_"+e+'" '+r+' name="jqg_'+X.p.id+"_"+e+'"'+(n?'checked="checked"':"")+"/>";return'<td role="gridcell" '+g(t,i,"",null,e,!0)+">"+s+"</td>"},ne=function(e,t,i,n,r){var s=(parseInt(i,10)-1)*parseInt(n,10)+1+t;return'<td role="gridcell" '+r+" "+g(e,t,s,null,t,!0)+">"+s+"</td>"},re=function(e){var t,i,n=[],r=0;for(i=0;i<X.p.colModel.length;i++)"cb"!==(t=X.p.colModel[i]).name&&"subgrid"!==t.name&&"rn"!==t.name&&(n[r]="local"===e?t.name:"xml"===e||"xmlstring"===e?t.xmlmap||t.name:t.jsonmap||t.name,!1!==X.p.keyName&&!0===t.key&&(X.p.keyName=n[r]),r++);return n},se=function(t){var e=X.p.remapColumns;return e&&e.length||(e=$.map(X.p.colModel,function(e,t){return t})),t&&(e=$.map(e,function(e){return e<t?null:e-t})),e},oe=function(e,t){var i;this.p.deepempty?$(this.rows).slice(1).remove():(i=0<this.rows.length?this.rows[0]:null,$(this.firstChild).empty().append(i)),e&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:"0px",display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),!0===t&&this.p.treeGrid&&!this.p.loadonce&&(this.p.data=[],this.p._index={})},w=function(){var e,t,i,n,r,s,o,a,l,d,c,u=X.p,p=u.data,h=p.length,f=u.localReader,g=u.colModel,m=f.cell,v=(!0===u.multiselect?1:0)+(!0===u.subGrid?1:0)+(!0===u.rownumbers?1:0),b=u.scroll?$.jgrid.randId():1;if("local"===u.datatype&&!0===f.repeatitems)for(l=se(v),d=re("local"),n=!1===u.keyIndex?$.isFunction(f.id)?f.id.call(X,p):f.id:u.keyIndex,e=0;e<h;e++){for(i=p[e],(r=$.jgrid.getAccessor(i,n))===undefined&&("number"==typeof n&&null!=g[n+v]&&(r=$.jgrid.getAccessor(i,g[n+v].name)),r===undefined&&(r=b+e,m&&(r=null!=(s=$.jgrid.getAccessor(i,m)||i)&&s[n]!==undefined?s[n]:r,s=null))),(a={})[f.id]=r,m&&(i=$.jgrid.getAccessor(i,m)||i),c=$.isArray(i)?l:d,t=0;t<c.length;t++)o=$.jgrid.getAccessor(i,c[t]),a[g[t+v].name]=o;$.extend(!0,p[e],a)}},x=function(){var e,t,i,n=X.p.data.length;for(e=!1===X.p.keyName||!0===X.p.loadonce?X.p.localReader.id:X.p.keyName,X.p._index=[],t=0;t<n;t++)(i=$.jgrid.getAccessor(X.p.data[t],e))===undefined&&(i=String(t+1)),X.p._index[i]=t},ae=function(e,t,i,n,r){var s,o="-1",a="",l=t?"display:none;":"",d=$(X).triggerHandler("jqGridRowAttr",[n,r,e]);if("object"!=typeof d&&(d=$.isFunction(X.p.rowattr)?X.p.rowattr.call(X,n,r,e):"string"==typeof X.p.rowattr&&null!=$.jgrid.rowattr&&$.isFunction($.jgrid.rowattr[X.p.rowattr])?$.jgrid.rowattr[X.p.rowattr].call(X,n,r,e):{}),!$.isEmptyObject(d)){d.hasOwnProperty("id")&&(e=d.id,delete d.id),d.hasOwnProperty("tabindex")&&(o=d.tabindex,delete d.tabindex),d.hasOwnProperty("style")&&(l+=d.style,delete d.style),d.hasOwnProperty("class")&&(i+=" "+d["class"],delete d["class"]);try{delete d.role}catch(c){}for(s in d)d.hasOwnProperty(s)&&(a+=" "+s+"="+d[s])}return'<tr role="row" id="'+e+'" tabindex="'+o+'" class="'+i+'"'+(""===l?"":' style="'+l+'"')+a+">"},j=function(t,i,n,r){var s=new Date,o="local"!==X.p.datatype&&X.p.loadonce||"xmlstring"===X.p.datatype,a="_id_",l=X.p.xmlReader,d="local"===X.p.datatype?"local":"xml";if(o&&(X.p.data=[],X.p._index={},X.p.localReader.id=a),X.p.reccount=0,$.isXMLDoc(t)){-1!==X.p.treeANode||X.p.scroll?i=1<i?i:1:(oe.call(X,!1,!0),i=1);var c,u,p,h,f,g,m,v,b,_,y=$(X),w=0,x=!0===X.p.multiselect?1:0,j=0,D=!0===X.p.rownumbers?1:0,k=[],C={},S=[],I=!0===X.p.altRows?X.p.altclass:"",T=J(Q,"rowBox",!0,"jqgrow ui-row-"+X.p.direction);!0===X.p.subGrid&&(j=1,h=$.jgrid.getMethod("addSubGridCell")),l.repeatitems||(k=re(d)),f=!1===X.p.keyName?$.isFunction(l.id)?l.id.call(X,t):l.id:X.p.keyName,g=-1===String(f).indexOf("[")?k.length?function(e,t){return $(f,e).text()||t}:function(e,t){return $(l.cell,e).eq(f).text()||t}:function(e,t){return e.getAttribute(f.replace(/[\[\]]/g,""))||t},X.p.userData={},X.p.page=ee($.jgrid.getXmlData(t,l.page),X.p.page),X.p.lastpage=ee($.jgrid.getXmlData(t,l.total),1),X.p.records=ee($.jgrid.getXmlData(t,l.records)),$.isFunction(l.userdata)?X.p.userData=l.userdata.call(X,t)||{}:$.jgrid.getXmlData(t,l.userdata,!0).each(function(){X.p.userData[this.getAttribute("name")]=$(this).text()});var q=$.jgrid.getXmlData(t,l.root,!0);(q=$.jgrid.getXmlData(q,l.row,!0))||(q=[]);var M=q.length,A=0,F=[],O=parseInt(X.p.rowNum,10),P=X.p.scroll?$.jgrid.randId():1,N=$("#"+$.jgrid.jqID(X.p.id)+" tbody:first");if(0<M&&X.p.page<=0&&(X.p.page=1),q&&M){r&&(O*=r+1);var E,R=$.isFunction(X.p.afterInsertRow),G=!1,z=D?J(Q,"rownumBox",!1,"jqgrid-rownum"):"",H=x?J(Q,"multiBox",!1,"cbox"):"";for(X.p.grouping&&(G=!0===X.p.groupingView.groupCollapse,E=$.jgrid.getMethod("groupingPrepare"));A<M;){v=q[A],b=g(v,P+A),b=X.p.idPrefix+b,_=T+(((0===i?0:i+1)+A)%2==1?" "+I:"");var W=S.length;if(S.push(""),D&&S.push(ne(0,A,X.p.page,X.p.rowNum,z)),x&&S.push(ie(b,D,A,!1,H)),j&&S.push(h.call(y,x+D,A+i)),l.repeatitems){m||(m=se(x+j+D));var L=$.jgrid.getXmlData(v,l.cell,!0);$.each(m,function(e){var t=L[this];if(!t)return!1;p=t.textContent||t.text,C[X.p.colModel[e+x+j+D].name]=p,S.push(te(b,p,e+x+j+D,A+i,v,C))})}else for(c=0;c<k.length;c++)p=$.jgrid.getXmlData(v,k[c]),C[X.p.colModel[c+x+j+D].name]=p,S.push(te(b,p,c+x+j+D,A+i,v,C));if(S[W]=ae(b,G,_,C,v),S.push("</tr>"),X.p.grouping&&(F.push(S),X.p.groupingView._locgr||E.call(y,C,A),S=[]),(o||!0===X.p.treeGrid&&!X.p._ald)&&(C[a]=$.jgrid.stripPref(X.p.idPrefix,b),X.p.data.push(C),X.p._index[C[a]]=X.p.data.length-1),!1===X.p.gridview&&(N.append(S.join("")),y.triggerHandler("jqGridAfterInsertRow",[b,C,v]),R&&X.p.afterInsertRow.call(X,b,C,v),S=[]),C={},A++,++w===O)break}}if(!0===X.p.gridview&&(u=-1<X.p.treeANode?X.p.treeANode:0,X.p.grouping?o||(y.jqGrid("groupingRender",F,X.p.colModel.length,X.p.page,O),F=null):!0===X.p.treeGrid&&0<u?$(X.rows[u]).after(S.join("")):(N.append(S.join("")),X.grid.cols=X.rows[0].cells)),X.p.totaltime=new Date-s,!(S=null)===X.p.subGrid)try{y.jqGrid("addSubGrid",x+D)}catch(U){}if(0<w&&0===X.p.records&&(X.p.records=M),!0===X.p.treeGrid)try{y.jqGrid("setTreeNode",u+1,w+u+1)}catch(e){}if(X.p.reccount=w,X.p.treeANode=-1,X.p.userDataOnFooter&&y.jqGrid("footerData","set",X.p.userData,!0),o&&(X.p.records=M,X.p.lastpage=Math.ceil(M/O)),n||X.updatepager(!1,!0),o){for(;w<M;){if(v=q[w],b=g(v,w+P),b=X.p.idPrefix+b,l.repeatitems){m||(m=se(x+j+D));var B=$.jgrid.getXmlData(v,l.cell,!0);$.each(m,function(e){var t=B[this];if(!t)return!1;p=t.textContent||t.text,C[X.p.colModel[e+x+j+D].name]=p})}else for(c=0;c<k.length;c++)p=$.jgrid.getXmlData(v,k[c]),C[X.p.colModel[c+x+j+D].name]=p;C[a]=$.jgrid.stripPref(X.p.idPrefix,b),X.p.grouping&&E.call(y,C,w),X.p.data.push(C),X.p._index[C[a]]=X.p.data.length-1,C={},w++}X.p.grouping&&(X.p.groupingView._locgr=!0,y.jqGrid("groupingRender",F,X.p.colModel.length,X.p.page,O),F=null)}}},C=function(t,i,n,r){var s=new Date;if(t){-1!==X.p.treeANode||X.p.scroll?i=1<i?i:1:(oe.call(X,!1,!0),i=1);var o,a,l="_id_",d="local"!==X.p.datatype&&X.p.loadonce||"jsonstring"===X.p.datatype;d&&(X.p.data=[],X.p._index={},X.p.localReader.id=l),X.p.reccount=0,"local"===X.p.datatype?(o=X.p.localReader,a="local"):(o=X.p.jsonReader,a="json");var c,u,p,h,f,g,m,v,b,_,y,w,x=$(X),j=0,D=[],k=X.p.multiselect?1:0,C=!0===X.p.subGrid?1:0,S=!0===X.p.rownumbers?1:0,I=se(k+C+S),T=re(a),q={},M=[],A=!0===X.p.altRows?X.p.altclass:"",F=J(Q,"rowBox",!0,"jqgrow ui-row-"+X.p.direction);X.p.page=ee($.jgrid.getAccessor(t,o.page),X.p.page),X.p.lastpage=ee($.jgrid.getAccessor(t,o.total),1),X.p.records=ee($.jgrid.getAccessor(t,o.records)),X.p.userData=$.jgrid.getAccessor(t,o.userdata)||{},C&&(f=$.jgrid.getMethod("addSubGridCell")),b=!1===X.p.keyName?$.isFunction(o.id)?o.id.call(X,t):o.id:X.p.keyName,null==(v=$.jgrid.getAccessor(t,o.root))&&$.isArray(t)&&(v=t),v||(v=[]),(u=0)<(m=v.length)&&X.p.page<=0&&(X.p.page=1);var O,P=parseInt(X.p.rowNum,10),N=X.p.scroll?$.jgrid.randId():1,E=!1;r&&(P*=r+1),"local"!==X.p.datatype||X.p.deselectAfterSort||(E=!0);var R,G=$.isFunction(X.p.afterInsertRow),z=[],H=!1,W=$("#"+$.jgrid.jqID(X.p.id)+" tbody:first"),L=S?J(Q,"rownumBox",!1,"jqgrid-rownum"):"",B=k?J(Q,"multiBox",!1,"cbox"):"";for(X.p.grouping&&(H=!0===X.p.groupingView.groupCollapse,R=$.jgrid.getMethod("groupingPrepare"));u<m;){if(h=v[u],(y=$.jgrid.getAccessor(h,b))===undefined&&("number"==typeof b&&null!=X.p.colModel[b+k+C+S]&&(y=$.jgrid.getAccessor(h,X.p.colModel[b+k+C+S].name)),y===undefined&&(y=N+u,0===D.length&&o.cell))){var U=$.jgrid.getAccessor(h,o.cell)||h;y=null!=U&&U[b]!==undefined?U[b]:y,U=null}y=X.p.idPrefix+y,w=F+(((1===i?0:i)+u)%2==1?" "+A:""),E&&(O=X.p.multiselect?-1!==$.inArray(y,X.p.selarrrow):y===X.p.selrow);var V=M.length;for(M.push(""),S&&M.push(ne(0,u,X.p.page,X.p.rowNum,L)),k&&M.push(ie(y,S,u,O,B)),C&&M.push(f.call(x,k+S,u+i)),g=T,o.repeatitems&&(o.cell&&(h=$.jgrid.getAccessor(h,o.cell)||h),$.isArray(h)&&(g=I)),p=0;p<g.length;p++)c=$.jgrid.getAccessor(h,g[p]),q[X.p.colModel[p+k+C+S].name]=c,M.push(te(y,c,p+k+C+S,u+i,h,q));if(w+=O?" "+Z:"",M[V]=ae(y,H,w,q,h),M.push("</tr>"),X.p.grouping&&(z.push(M),X.p.groupingView._locgr||R.call(x,q,u),M=[]),(d||!0===X.p.treeGrid&&!X.p._ald)&&(q[l]=$.jgrid.stripPref(X.p.idPrefix,y),X.p.data.push(q),X.p._index[q[l]]=X.p.data.length-1),!1===X.p.gridview&&(W.append(M.join("")),x.triggerHandler("jqGridAfterInsertRow",[y,q,h]),G&&X.p.afterInsertRow.call(X,y,q,h),M=[]),q={},u++,++j===P)break}if(!0===X.p.gridview&&(_=-1<X.p.treeANode?X.p.treeANode:0,X.p.grouping?d||(x.jqGrid("groupingRender",z,X.p.colModel.length,X.p.page,P),z=null):!0===X.p.treeGrid&&0<_?$(X.rows[_]).after(M.join("")):(W.append(M.join("")),X.grid.cols=X.rows[0].cells)),X.p.totaltime=new Date-s,!(M=null)===X.p.subGrid)try{x.jqGrid("addSubGrid",k+S)}catch(K){}if(0<j&&0===X.p.records&&(X.p.records=m),!0===X.p.treeGrid)try{x.jqGrid("setTreeNode",_+1,j+_+1)}catch(e){}if(X.p.reccount=j,X.p.treeANode=-1,X.p.userDataOnFooter&&x.jqGrid("footerData","set",X.p.userData,!0),d&&(X.p.records=m,X.p.lastpage=Math.ceil(m/P)),n||X.updatepager(!1,!0),d){for(;j<m&&v[j];){if(h=v[j],(y=$.jgrid.getAccessor(h,b))===undefined&&("number"==typeof b&&null!=X.p.colModel[b+k+C+S]&&(y=$.jgrid.getAccessor(h,X.p.colModel[b+k+C+S].name)),y===undefined&&(y=N+j,0===D.length&&o.cell))){var Y=$.jgrid.getAccessor(h,o.cell)||h;y=null!=Y&&Y[b]!==undefined?Y[b]:y,Y=null}if(h){for(y=X.p.idPrefix+y,g=T,o.repeatitems&&(o.cell&&(h=$.jgrid.getAccessor(h,o.cell)||h),$.isArray(h)&&(g=I)),p=0;p<g.length;p++)q[X.p.colModel[p+k+C+S].name]=$.jgrid.getAccessor(h,g[p]);q[l]=$.jgrid.stripPref(X.p.idPrefix,y),X.p.grouping&&R.call(x,q,j),X.p.data.push(q),X.p._index[q[l]]=X.p.data.length-1,q={}}j++}X.p.grouping&&(X.p.groupingView._locgr=!0,x.jqGrid("groupingRender",z,X.p.colModel.length,X.p.page,P),z=null)}}},S=function(){function c(t){var i,n,r,s,o,a,l=0;if(null!=t.groups){for((n=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&v.orBegin(),i=0;i<t.groups.length;i++){0<l&&n&&v.or();try{c(t.groups[i])}catch(e){alert(e)}l++}n&&v.orEnd()}if(null!=t.rules)try{for((r=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&v.orBegin(),i=0;i<t.rules.length;i++)o=t.rules[i],s=t.groupOp.toString().toUpperCase(),m[o.op]&&o.field&&(0<l&&s&&"OR"===s&&(v=v.or()),"date"===(a=u[o.field]).stype&&a.srcfmt&&a.newfmt&&a.srcfmt!==a.newfmt&&(o.data=$.jgrid.parseDate.call(X,a.newfmt,o.data,a.srcfmt)),v=m[o.op](v,s)(o.field,o.data,u[o.field])),l++;r&&v.orEnd()}catch(d){alert(d)}}var t,i,n,r,s=X.p.multiSort?[]:"",o=[],a=!1,u={},l=[],d=[];if($.isArray(X.p.data)){var p,h,f,g=!!X.p.grouping&&X.p.groupingView;if($.each(X.p.colModel,function(){if(i=this.sorttype||"text",f=this.index||this.name,"date"===i||"datetime"===i?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(t=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.getRegional(X,"formatter.date.srcformat"),n=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.getRegional(X,"formatter.date.newformat")):t=n=this.datefmt||"Y-m-d",u[f]={stype:i,srcfmt:t,newfmt:n,sfunc:this.sortfunc||null}):u[f]={stype:i,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},X.p.grouping)for(h=0,p=g.groupField.length;h<p;h++)this.name===g.groupField[h]&&(l[h]=u[f],d[h]=f);X.p.multiSort||a||f!==X.p.sortname||(s=f,a=!0)}),X.p.multiSort&&(s=q,o=M),!X.p.treeGrid||!X.p._sort){var m={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().equals:e.andNot().equals},"in":function(e){return e.equals},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},v=$.jgrid.from.call(X,X.p.data);if(X.p.ignoreCase&&(v=v.ignoreCase()),!0===X.p.search){var b=X.p.postData.filters;if(b)"string"==typeof b&&(b=$.jgrid.parse(b)),c(b);else try{"date"===(r=u[X.p.postData.searchField]).stype&&r.srcfmt&&r.newfmt&&r.srcfmt!==r.newfmt&&(X.p.postData.searchString=$.jgrid.parseDate.call(X,r.newfmt,X.p.postData.searchString,r.srcfmt)),v=m[X.p.postData.searchOper](v)(X.p.postData.searchField,X.p.postData.searchString,u[X.p.postData.searchField])}catch(T){}}else X.p.treeGrid&&"nested"===X.p.treeGridModel&&v.orderBy(X.p.treeReader.left_field,"asc","integer","",null);if(X.p.treeGrid&&"adjacency"===X.p.treeGridModel&&(p=0,s=null),X.p.grouping)for(h=0;h<p;h++)v.orderBy(d[h],g.groupOrder[h],l[h].stype,l[h].srcfmt);X.p.multiSort?$.each(s,function(e){v.orderBy(this,o[e],u[this].stype,u[this].srcfmt,u[this].sfunc)}):s&&X.p.sortorder&&a&&("DESC"===X.p.sortorder.toUpperCase()?v.orderBy(X.p.sortname,"d",u[s].stype,u[s].srcfmt,u[s].sfunc):v.orderBy(X.p.sortname,"a",u[s].stype,u[s].srcfmt,u[s].sfunc));var _=v.select(),y=parseInt(X.p.rowNum,10),w=_.length,x=parseInt(X.p.page,10),j=Math.ceil(w/y),D={};if((X.p.search||X.p.resetsearch)&&X.p.grouping&&X.p.groupingView._locgr){X.p.groupingView.groups=[];var k,C,S,I=$.jgrid.getMethod("groupingPrepare");if(X.p.footerrow&&X.p.userDataOnFooter){for(C in X.p.userData)X.p.userData.hasOwnProperty(C)&&(X.p.userData[C]=0);S=!0}for(k=0;k<w;k++){if(S)for(C in X.p.userData)X.p.userData.hasOwnProperty(C)&&(X.p.userData[C]+=parseFloat(_[k][C]||0));I.call($(X),_[k],k,y)}}return _=X.p.treeGrid&&X.p.search?$(X).jqGrid("searchTree",_):_.slice((x-1)*y,x*y),u=v=null,D[X.p.localReader.total]=j,D[X.p.localReader.page]=x,D[X.p.localReader.records]=w,D[X.p.localReader.root]=_,D[X.p.localReader.userdata]=X.p.userData,_=null,D}$(X).jqGrid("SortTree",s,X.p.sortorder,u[s].stype||"text",u[s].srcfmt||"")}},I=function(e,t){var i,n,r,s,o,a,l,d,c="",u=X.p.pager?$.jgrid.jqID(X.p.pager.substr(1)):"",p=u?"_"+u:"",h=X.p.toppager?"_"+X.p.toppager.substr(1):"";if((r=parseInt(X.p.page,10)-1)<0&&(r=0),o=(r*=parseInt(X.p.rowNum,10))+X.p.reccount,X.p.scroll){var f=$("tbody:first > tr:gt(0)",X.grid.bDiv);r=o-f.length,X.p.reccount=f.length;var g=f.outerHeight()||X.grid.prevRowHeight;if(g){var m=r*g,v=parseInt(X.p.records,10)*g;$(">div:first",X.grid.bDiv).css({height:v}).children("div:first").css({height:m,display:m?"":"none"}),0===X.grid.bDiv.scrollTop&&1<X.p.page&&(X.grid.bDiv.scrollTop=X.p.rowNum*(X.p.page-1)*g)}X.grid.bDiv.scrollLeft=X.grid.hDiv.scrollLeft}if(c=X.p.pager||"",c+=X.p.toppager?c?","+X.p.toppager:X.p.toppager:""){if(l=$.jgrid.getRegional(X,"formatter.integer"),i=ee(X.p.page),n=ee(X.p.lastpage),$(".selbox",c)[this.p.useProp?"prop":"attr"]("disabled",!1),!0===X.p.pginput&&($("#input"+p).html($.jgrid.template($.jgrid.getRegional(X,"defaults.pgtext",X.p.pgtext)||"","<input "+J(Q,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(u)+"'></span>")),X.p.toppager&&$("#input_t"+h).html($.jgrid.template($.jgrid.getRegional(X,"defaults.pgtext",X.p.pgtext)||"","<input "+J(Q,"pgInput",!1,"ui-pg-input")+" type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(u)+"_toppager'></span>")),$(".ui-pg-input",c).val(X.p.page),d=X.p.toppager?"#sp_1"+p+",#sp_1"+p+"_toppager":"#sp_1"+p,$(d).html($.fmatter?$.fmatter.util.NumberFormat(X.p.lastpage,l):X.p.lastpage)),X.p.viewrecords)if(0===X.p.reccount)$(".ui-paging-info",c).html($.jgrid.getRegional(X,"defaults.emptyrecords",X.p.emptyrecords));else{s=r+1,a=X.p.records,$.fmatter&&(s=$.fmatter.util.NumberFormat(s,l),o=$.fmatter.util.NumberFormat(o,l),a=$.fmatter.util.NumberFormat(a,l));var b=$.jgrid.getRegional(X,"defaults.recordtext",X.p.recordtext);$(".ui-paging-info",c).html($.jgrid.template(b,s,o,a))}!0===X.p.pgbuttons&&(i<=0&&(i=n=0),1===i||0===i?($("#first"+p+", #prev"+p).addClass(_).removeClass(D),X.p.toppager&&$("#first_t"+h+", #prev_t"+h).addClass(_).removeClass(D)):($("#first"+p+", #prev"+p).removeClass(_),X.p.toppager&&$("#first_t"+h+", #prev_t"+h).removeClass(_)),i===n||0===i?($("#next"+p+", #last"+p).addClass(_).removeClass(D),X.p.toppager&&$("#next_t"+h+", #last_t"+h).addClass(_).removeClass(D)):($("#next"+p+", #last"+p).removeClass(_),X.p.toppager&&$("#next_t"+h+", #last_t"+h).removeClass(_)))}!0===e&&!0===X.p.rownumbers&&$(">td.jqgrid-rownum",X.rows).each(function(e){$(this).html(r+1+e)}),t&&X.p.jqgdnd&&$(X).jqGrid("gridDnD","updateDnD"),$(X).triggerHandler("jqGridGridComplete"),$.isFunction(X.p.gridComplete)&&X.p.gridComplete.call(X),$(X).triggerHandler("jqGridAfterGridComplete")},T=function(){X.grid.hDiv.loading=!0,X.p.hiddengrid||$(X).jqGrid("progressBar",{method:"show",loadtype:X.p.loadui,htmlcontent:$.jgrid.getRegional(X,"defaults.loadtext",X.p.loadtext)})},A=function(){X.grid.hDiv.loading=!1,$(X).jqGrid("progressBar",{method:"hide",loadtype:X.p.loadui})},F=function(n){if(!X.grid.hDiv.loading){var r,e,s=X.p.scroll&&!1===n,t={},i=X.p.prmNames;X.p.page<=0&&(X.p.page=Math.min(1,X.p.lastpage)),null!==i.search&&(t[i.search]=X.p.search),null!==i.nd&&(t[i.nd]=(new Date).getTime()),null!==i.rows&&(t[i.rows]=X.p.rowNum),null!==i.page&&(t[i.page]=X.p.page),null!==i.sort&&(t[i.sort]=X.p.sortname),null!==i.order&&(t[i.order]=X.p.sortorder),null!==X.p.rowTotal&&null!==i.totalrows&&(t[i.totalrows]=X.p.rowTotal);var o=$.isFunction(X.p.loadComplete),a=o?X.p.loadComplete:null,l=0;if(1<(n=n||1)?null!==i.npage?(t[i.npage]=n,l=n-1,n=1):a=function(e){X.p.page++,X.grid.hDiv.loading=!1,o&&X.p.loadComplete.call(X,e),F(n-1)}:null!==i.npage&&delete X.p.postData[i.npage],X.p.grouping){$(X).jqGrid("groupingSetup");var d,c=X.p.groupingView,u="";for(d=0;d<c.groupField.length;d++){var p=c.groupField[d];$.each(X.p.colModel,function(e,t){t.name===p&&t.index&&(p=t.index)}),u+=p+" "+c.groupOrder[d]+", "}t[i.sort]=u+t[i.sort]}$.extend(X.p.postData,t);var h=X.p.scroll?X.rows.length-1:1,f=$(X).triggerHandler("jqGridBeforeRequest");if(!1===f||"stop"===f)return;if($.isFunction(X.p.datatype))return void X.p.datatype.call(X,X.p.postData,"load_"+X.p.id,h,n,l);if($.isFunction(X.p.beforeRequest)&&((f=X.p.beforeRequest.call(X))===undefined&&(f=!0),!1===f))return;switch(r=X.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:X.p.url,type:X.p.mtype,dataType:r,data:$.isFunction(X.p.serializeGridData)?X.p.serializeGridData.call(X,X.p.postData):X.p.postData,success:function(e,t,i){$.isFunction(X.p.beforeProcessing)&&!1===X.p.beforeProcessing.call(X,e,t,i)?A():("xml"===r?j(e,h,1<n,l):C(e,h,1<n,l),$(X).triggerHandler("jqGridLoadComplete",[e]),a&&a.call(X,e),$(X).triggerHandler("jqGridAfterLoadComplete",[e]),s&&X.grid.populateVisible(),(X.p.loadonce||X.p.treeGrid)&&(X.p.datatype="local"),e=null,1===n&&A())},error:function(e,t,i){$.isFunction(X.p.loadError)&&X.p.loadError.call(X,e,t,i),1===n&&A(),e=null},beforeSend:function(e,t){var i=!0;if($.isFunction(X.p.loadBeforeSend)&&(i=X.p.loadBeforeSend.call(X,e,t)),i===undefined&&(i=!0),!1===i)return!1;T()}},$.jgrid.ajaxOptions,X.p.ajaxGridOptions));break;case"xmlstring":T(),e="string"!=typeof X.p.datastr?X.p.datastr:$.parseXML(X.p.datastr),j(e),$(X).triggerHandler("jqGridLoadComplete",[e]),o&&X.p.loadComplete.call(X,e),$(X).triggerHandler("jqGridAfterLoadComplete",[e]),X.p.datatype="local",X.p.datastr=null,A();break;case"jsonstring":T(),e="string"==typeof X.p.datastr?$.jgrid.parse(X.p.datastr):X.p.datastr,C(e),$(X).triggerHandler("jqGridLoadComplete",[e]),o&&X.p.loadComplete.call(X,e),$(X).triggerHandler("jqGridAfterLoadComplete",[e]),X.p.datatype="local",X.p.datastr=null,A();break;case"local":case"clientside":T(),X.p.datatype="local",X.p._ald=!0;var g=S();C(g,h,1<n,l),$(X).triggerHandler("jqGridLoadComplete",[g]),a&&a.call(X,g),$(X).triggerHandler("jqGridAfterLoadComplete",[g]),s&&X.grid.populateVisible(),A(),X.p._ald=!1}X.p._sort=!1}},O=function(e){$("#cb_"+$.jgrid.jqID(X.p.id),X.grid.hDiv)[X.p.useProp?"prop":"attr"]("checked",e),(X.p.frozenColumns?X.p.id+"_frozen":"")&&$("#cb_"+$.jgrid.jqID(X.p.id),X.grid.fhDiv)[X.p.useProp?"prop":"attr"]("checked",e)},P=function(e,a){var t,i,n,r,s,o,l,d="<td class='ui-pg-button "+_+"'><span class='ui-separator'></span></td>",c="",u="<table class='ui-pg-table ui-common-table ui-paging-pager'><tbody><tr>",p="",h=function(e,t){var i;return $.isFunction(X.p.onPaging)&&(i=X.p.onPaging.call(X,e,t)),"stop"!==i&&(X.p.selrow=null,X.p.multiselect&&(X.p.selarrrow=[],O(!1)),X.p.savedRow=[],!0)};if(e=e.substr(1),a+="_"+e,t="pg_"+e,i=e+"_left",n=e+"_center",r=e+"_right",$("#"+$.jgrid.jqID(e)).append("<div id='"+t+"' class='ui-pager-control' role='group'><table "+J(Q,"pagerTable",!1,"ui-pg-table ui-common-table ui-pager-table")+"><tbody><tr><td id='"+i+"' align='left'></td><td id='"+n+"' align='center' style='white-space:pre;'></td><td id='"+r+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),0<X.p.rowList.length){var f;for(p='<td dir="'+b+'">',p+="<select "+J(Q,"pgSelectBox",!1,"ui-pg-selbox")+' role="listbox" title="'+($.jgrid.getRegional(X,"defaults.pgrecs",X.p.pgrecs)||"")+'">',l=0;l<X.p.rowList.length;l++)1===(f=X.p.rowList[l].toString().split(":")).length&&(f[1]=f[0]),p+='<option role="option" value="'+f[0]+'"'+(ee(X.p.rowNum,0)===ee(f[0],0)?' selected="selected"':"")+">"+f[1]+"</option>";p+="</select></td>"}if("rtl"===b&&(u+=p),!0===X.p.pginput&&(c="<td id='input"+a+"' dir='"+b+"'>"+$.jgrid.template($.jgrid.getRegional(X,"defaults.pgtext",X.p.pgtext)||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(e)+"'></span>")+"</td>"),!0===X.p.pgbuttons){var g=["first"+a,"prev"+a,"next"+a,"last"+a],m=J(Q,"pgButtonBox",!0,"ui-pg-button"),v=[$.jgrid.getRegional(X,"defaults.pgfirst",X.p.pgfirst)||"",$.jgrid.getRegional(X,"defaults.pgprev",X.p.pgprev)||"",$.jgrid.getRegional(X,"defaults.pgnext",X.p.pgnext)||"",$.jgrid.getRegional(X,"defaults.pglast",X.p.pglast)||""];"rtl"===b&&(g.reverse(),v.reverse()),u+="<td id='"+g[0]+"' class='"+m+"' title='"+v[0]+"'><span "+J(Q,"icon_first",!1,y)+"></span></td>",u+="<td id='"+g[1]+"' class='"+m+"'  title='"+v[1]+"'><span "+J(Q,"icon_prev",!1,y)+"></span></td>",u+=""!==c?d+c+d:"",u+="<td id='"+g[2]+"' class='"+m+"' title='"+v[2]+"'><span "+J(Q,"icon_next",!1,y)+"></span></td>",u+="<td id='"+g[3]+"' class='"+m+"' title='"+v[3]+"'><span "+J(Q,"icon_end",!1,y)+"></span></td>"}else""!==c&&(u+=c);"ltr"===b&&(u+=p),u+="</tr></tbody></table>",!0===X.p.viewrecords&&$("td#"+e+"_"+X.p.recordpos,"#"+t).append("<div dir='"+b+"' style='text-align:"+X.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+e+"_"+X.p.pagerpos,"#"+t).append(u),o=$("#gbox_"+$.jgrid.jqID(X.p.id)).css("font-size")||"11px",$("#gbox_"+$.jgrid.jqID(X.p.id)).append("<div id='testpg' "+J(Q,"entrieBox",!1,"ui-jqgrid")+" style='font-size:"+o+";visibility:hidden;' ></div>"),s=$(u).clone().appendTo("#testpg").width(),$("#testpg").remove(),0<s&&(""!==c&&(s+=50),$("td#"+e+"_"+X.p.pagerpos,"#"+t).width(s)),X.p._nvtd=[],X.p._nvtd[0]=s?Math.floor((X.p.width-s)/2):Math.floor(X.p.width/3),X.p._nvtd[1]=0,u=null,$(".ui-pg-selbox","#"+t).bind("change",function(){return h("records",this)&&(X.p.page=Math.round(X.p.rowNum*(X.p.page-1)/this.value-.5)+1,X.p.rowNum=this.value,X.p.pager&&$(".ui-pg-selbox",X.p.pager).val(this.value),X.p.toppager&&$(".ui-pg-selbox",X.p.toppager).val(this.value),F()),!1}),!0===X.p.pgbuttons&&($(".ui-pg-button","#"+t).hover(function(){$(this).hasClass(_)?this.style.cursor="default":($(this).addClass(D),this.style.cursor="pointer")},function(){$(this).hasClass(_)||($(this).removeClass(D),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(a)+", #prev"+$.jgrid.jqID(a)+", #next"+$.jgrid.jqID(a)+", #last"+$.jgrid.jqID(a)).click(function(){if($(this).hasClass(_
))return!1;var e=ee(X.p.page,1),t=ee(X.p.lastpage,1),i=!1,n=!0,r=!0,s=!0,o=!0;return 0===t||1===t?o=s=r=n=!1:1<t&&1<=e?1===e?r=n=!1:e===t&&(o=s=!1):1<t&&0===e&&(o=s=!1,e=t-1),h(this.id.split("_")[0],this)&&(this.id==="first"+a&&n&&(X.p.page=1,i=!0),this.id==="prev"+a&&r&&(X.p.page=e-1,i=!0),this.id==="next"+a&&s&&(X.p.page=e+1,i=!0),this.id==="last"+a&&o&&(X.p.page=t,i=!0),i&&F()),!1})),!0===X.p.pginput&&$("#"+t).on("keypress","input.ui-pg-input",function(e){return 13===(e.charCode||e.keyCode||0)?(h("user",this)&&($(this).val(ee($(this).val(),1)),X.p.page=0<$(this).val()?$(this).val():X.p.page,F()),!1):this})},N=function(e,t,i){var n,r=X.p.colModel,s=X.p.frozenColumns?t:X.grid.headers[e].el,o="";$("span.ui-grid-ico-sort",s).addClass(_),$(s).attr("aria-selected","false"),n=r[e].index||r[e].name,void 0===i?r[e].lso?"asc"===r[e].lso?(r[e].lso+="-desc",o="desc"):"desc"===r[e].lso?(r[e].lso+="-asc",o="asc"):"asc-desc"!==r[e].lso&&"desc-asc"!==r[e].lso||(r[e].lso=""):r[e].lso=o=r[e].firstsortorder||"asc":r[e].lso=o=i,o?($("span.s-ico",s).show(),$("span.ui-icon-"+o,s).removeClass(_),$(s).attr("aria-selected","true")):X.p.viewsortcols[0]||$("span.s-ico",s).hide();var a=q.indexOf(n);-1===a?(q.push(n),M.push(o)):o?M[a]=o:(M.splice(a,1),q.splice(a,1)),X.p.sortorder="",X.p.sortname="";for(var l=0,d=q.length;l<d;l++)0<l&&(X.p.sortname+=", "),X.p.sortname+=q[l],l!==d-1&&(X.p.sortname+=" "+M[l]);X.p.sortorder=M[d-1]},E=function(e,t,i,n,r){if(X.p.colModel[t].sortable&&!(0<X.p.savedRow.length)){if(i||(X.p.lastsort===t&&""!==X.p.sortname?"asc"===X.p.sortorder?X.p.sortorder="desc":"desc"===X.p.sortorder&&(X.p.sortorder="asc"):X.p.sortorder=X.p.colModel[t].firstsortorder||"asc",X.p.page=1),X.p.multiSort)N(t,r,n);else{if(n){if(X.p.lastsort===t&&X.p.sortorder===n&&!i)return;X.p.sortorder=n}var s,o=X.grid.headers[X.p.lastsort]?X.grid.headers[X.p.lastsort].el:null,a=X.p.frozenColumns?r:X.grid.headers[t].el,l="single"===X.p.viewsortcols[1];(s=$(o).find("span.ui-grid-ico-sort")).addClass(_),l&&$(s).css("display","none"),$(o).attr("aria-selected","false"),X.p.frozenColumns&&((s=X.grid.fhDiv.find("span.ui-grid-ico-sort")).addClass(_),l&&s.css("display","none"),X.grid.fhDiv.find("th").attr("aria-selected","false")),(s=$(a).find("span.ui-icon-"+X.p.sortorder)).removeClass(_),l&&s.css("display",""),$(a).attr("aria-selected","true"),X.p.viewsortcols[0]||(X.p.lastsort!==t?(X.p.frozenColumns&&X.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",o).hide(),$("span.s-ico",a).show()):""===X.p.sortname&&$("span.s-ico",a).show()),e=e.substring(5+X.p.id.length+1),X.p.sortname=X.p.colModel[t].index||e}if("stop"!==$(X).triggerHandler("jqGridSortCol",[X.p.sortname,t,X.p.sortorder]))if($.isFunction(X.p.onSortCol)&&"stop"===X.p.onSortCol.call(X,X.p.sortname,t,X.p.sortorder))X.p.lastsort=t;else{if("local"===X.p.datatype?X.p.deselectAfterSort&&$(X).jqGrid("resetSelection"):(X.p.selrow=null,X.p.multiselect&&O(!1),X.p.selarrrow=[],X.p.savedRow=[]),X.p.scroll){var d=X.grid.bDiv.scrollLeft;oe.call(X,!0,!1),X.grid.hDiv.scrollLeft=d}X.p.subGrid&&"local"===X.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(X.p.id)).each(function(){$(this).trigger("click")}),X.p._sort=!0,F(),X.p.lastsort=t,X.p.sortname!==e&&t&&(X.p.lastsort=t)}else X.p.lastsort=t}},R=function(){var t,i,n,e,r=0,s=$.jgrid.cell_width?0:ee(X.p.cellLayout,0),o=0,a=ee(X.p.scrollOffset,0),l=!1,d=0;$.each(X.p.colModel,function(){if(this.hidden===undefined&&(this.hidden=!1),X.p.grouping&&X.p.autowidth){var e=$.inArray(this.name,X.p.groupingView.groupField);0<=e&&X.p.groupingView.groupColumnShow.length>e&&(this.hidden=!X.p.groupingView.groupColumnShow[e])}this.widthOrg=i=ee(this.width,0),!1===this.hidden&&(r+=i+s,this.fixed?d+=i+s:o++)}),isNaN(X.p.width)&&(X.p.width=r+(!1!==X.p.shrinkToFit||isNaN(X.p.height)?0:a)),f.width=parseInt(X.p.width,10),X.p.tblwidth=r,!1===X.p.shrinkToFit&&!0===X.p.forceFit&&(X.p.forceFit=!1),!0===X.p.shrinkToFit&&0<o&&(n=f.width-s*o-d,isNaN(X.p.height)||(n-=a,l=!0),r=0,$.each(X.p.colModel,function(e){!1!==this.hidden||this.fixed||(i=Math.round(n*this.width/(X.p.tblwidth-s*o-d)),this.width=i,r+=i,t=e)}),e=0,l?f.width-d-(r+s*o)!==a&&(e=f.width-d-(r+s*o)-a):l||1===Math.abs(f.width-d-(r+s*o))||(e=f.width-d-(r+s*o)),X.p.colModel[t].width+=e,X.p.tblwidth=r+e+s*o+d,X.p.tblwidth>X.p.width&&(X.p.colModel[t].width-=X.p.tblwidth-parseInt(X.p.width,10),X.p.tblwidth=X.p.width))},G=function(e){var t,i=e,n=e;for(t=e+1;t<X.p.colModel.length;t++)if(!0!==X.p.colModel[t].hidden){n=t;break}return n-i},z=function(e){var t=$(X.grid.headers[e].el),i=[t.position().left+t.outerWidth()];return"rtl"===X.p.direction&&(i[0]=X.p.width-i[0]),i[0]-=X.grid.bDiv.scrollLeft,i.push($(X.grid.hDiv).position().top),i.push($(X.grid.bDiv).offset().top-$(X.grid.hDiv).offset().top+$(X.grid.bDiv).height()),i},H=function(e){var t,i=X.grid.headers,n=$.jgrid.getCellIndex(e);for(t=0;t<i.length;t++)if(e===i[t].el){n=t;break}return n},W=function(e,t,i){var n,r=X.p.colModel,s=r.length,o=[],a=$.jgrid.getRegional(X,"colmenu"),l='<ul id="col_menu" class="ui-search-menu  ui-col-menu modal-content" role="menu" tabindex="0" style="left:'+t+"px;top:"+e+'px;">';for(n=0;n<s;n++){var d=r[n].hidden?"":"checked",c=r[n].name,u=X.p.colNames[n];l+="<li "+("cb"===c||"subgrid"===c||"rn"===c||r[n].hidedlg?"style='display:none'":"")+' class="ui-menu-item" role="presentation" draggable="true"><a class="g-menu-item" tabindex="0" role="menuitem" ><table class="ui-common-table" ><tr><td class="menu_icon" title="'+a.reorder+'"><span class="'+y+" "+k.icon_move+' notclick"></span></td><td class="menu_icon"><input class="'+k.input_checkbox+'" type="checkbox" name="'+c+'" '+d+'></td><td class="menu_text">'+u+"</td></tr></table></a></li>",o.push(n)}l+="</ul>",$(i).append(l),$("#col_menu").addClass("ui-menu "+k.menu_widget),$.fn.html5sortable()&&$("#col_menu").html5sortable({handle:"span",forcePlaceholderSize:!0}).bind("sortupdate",function(e,t){for(o.splice(t.startindex,1),o.splice(t.endindex,0,t.startindex),$(X).jqGrid("destroyFrozenColumns"),$(X).jqGrid("remapColumns",o,!0),$(X).jqGrid("setFrozenColumns"),n=0;n<s;n++)o[n]=n}),$("#col_menu > li > a").on("click",function(e){var t;$(e.target).hasClass("notclick")||($(e.target).is(":input")?t=$(e.target).is(":checked"):(t=!$("input",this).is(":checked"),$("input",this).prop("checked",t)),t?($(X).jqGrid("showCol",$("input",this).attr("name")),$(this).parent().attr("draggable","true")):($(X).jqGrid("hideCol",$("input",this).attr("name")),$(this).parent().attr("draggable","false")))}).hover(function(){$(this).addClass(D)},function(){$(this).removeClass(D)})},L=function(e,t,i,n){var r,s,o,a,l,d=X.p.colModel[e],c="",u="",p="",h="",f="",g="",m=["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],v=["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],b=$.jgrid.getRegional(X,"search"),_=$.jgrid.styleUI[X.p.styleUI||"jQueryUI"].common;if(d){(r=!(!X.p.colFilters||!X.p.colFilters[d.name])&&X.p.colFilters[d.name])&&!$.isEmptyObject(r)&&(c=r.oper1,u=r.value1,p=r.rule,h=r.oper2,f=r.value2),d.searchoptions||(d.searchoptions={}),s=d.searchoptions.sopt?d.searchoptions.sopt:"text"===d.sorttype?v:m,o=d.searchoptions.operands?d.searchoptions.operands:b.groupOps,l=$("<form></form>");var y="<div>"+$.jgrid.getRegional(X,"colmenu.searchTitle")+"</div>";y+='<div><select id="oper1" class="'+k.filter_select+'">',$.each(b.odata,function(e,t){a=t.oper===c?'selected="selected"':"",-1!==$.inArray(t.oper,s)&&(g+='<option value="'+t.oper+'" '+a+">"+t.text+"</option>")}),y+=g,y+="</select></div>",l.append(y);var w="";d.searchoptions.defaultValue&&(w=$.isFunction(d.searchoptions.defaultValue)?d.searchoptions.defaultValue.call(X):d.searchoptions.defaultValue),u&&(w=u);var x=$.extend(d.searchoptions,{name:d.index||d.name,id:"sval1_"+X.p.idPrefix+d.name,oper:"search"}),j=$.jgrid.createEl.call(X,d.stype,x,w,!1,$.extend({},$.jgrid.ajaxOptions,X.p.ajaxSelectOptions||{}));$(j).addClass(k.filter_input),y=$("<div></div>").append(j),l.append(y),y='<div><select id="operand" class="'+k.filter_select+'">',$.each(o,function(e,t){a=t.op===p?'selected="selected"':"",y+="<option value='"+t.op+"' "+a+">"+t.text+"</option>"}),y+="</select></div>",l.append(y),g="",$.each(b.odata,function(e,t){a=t.oper===h?'selected="selected"':"",-1!==$.inArray(t.oper,s)&&(g+='<option value="'+t.oper+'" '+a+">"+t.text+"</option>")}),y='<div><select id="oper2" class="'+k.filter_select+'">'+g+"</select></div>",l.append(y),w=f||"",x=$.extend(d.searchoptions,{name:d.index||d.name,id:"sval2_"+X.p.idPrefix+d.name,oper:"search"}),j=$.jgrid.createEl.call(X,d.stype,x,w,!1,$.extend({},$.jgrid.ajaxOptions,X.p.ajaxSelectOptions||{})),$(j).addClass(k.filter_input),y=$("<div></div>").append(j),l.append(y),y="<div>",y+="<div class='search_buttons'><a tabindex='0' id='bs_reset' class='fm-button "+_.button+" ui-reset'>"+b.Reset+"</a></div>",y+="<div class='search_buttons'><a tabindex='0' id='bs_search' class='fm-button "+_.button+" ui-search'>"+b.Find+"</a></div>",y+="</div>",l.append(y),l=$('<li class="ui-menu-item" role="presentation"></li>').append(l),l=$('<ul id="search_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="left:'+i+"px;top:"+t+'px;"></ul>').append(l),$(n).append(l),$("#search_menu").addClass("ui-menu "+k.menu_widget),$("#bs_reset, #bs_search","#search_menu").hover(function(){$(this).addClass(D)},function(){$(this).removeClass(D)}),$(l).find("#bs_reset").click(function(){return X.p.colFilters[d.name]={},X.p.postData.filters=B(),X.p.search=!0,$(X).trigger("reloadGrid"),$("#column_menu").remove(),!1}),$(l).find("#bs_search").click(function(){return X.p.colFilters[d.name]={oper1:$("#oper1","#search_menu").val(),value1:$("#sval1_"+X.p.idPrefix+d.name,"#search_menu").val(),rule:$("#operand","#search_menu").val(),oper2:$("#oper2","#search_menu").val(),value2:$("#sval2_"+X.p.idPrefix+d.name,"#search_menu").val()},X.p.postData.filters=B(),X.p.search=!0,$(X).trigger("reloadGrid"),$("#column_menu").remove(),!1})}},B=function(){var e='{"groupOp":"'+"AND"+'","rules":[], "groups" : [',t=0;for(var i in X.p.colFilters)if(X.p.colFilters.hasOwnProperty(i)){var n=X.p.colFilters[i];$.isEmptyObject(n)||(0<t&&(e+=","),e+='{"groupOp": "'+n.rule+'", "rules" : [',e+='{"field":"'+i+'",',e+='"op":"'+n.oper1+'",',n.value1+="",e+='"data":"'+n.value1.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',n.value2&&(e+=',{"field":"'+i+'",',e+='"op":"'+n.oper2+'",',n.value2+="",e+='"data":"'+n.value2.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}'),e+="]}",t++)}return e+="]}"},U=function(e,t){var i=X.p.colModel[e],n=X.p.groupingView;-1!==t?n.groupField.splice(t,1):n.groupField.push(i.name),$(X).jqGrid("groupingGroupBy",n.groupField),X.p.frozenColumns&&($(X).jqGrid("destroyFrozenColumns"),$(X).jqGrid("setFrozenColumns"))},V=function(e,t){var i,n=[],r=X.p.colModel.length,s=-1,o=X.p.colModel;for(i=0;i<r;i++)o[i].frozen&&(s=i),n.push(i);n.splice(e,1),n.splice(s+(t?1:0),0,e),o[e].frozen=t,$(X).jqGrid("destroyFrozenColumns"),$(X).jqGrid("remapColumns",n,!0),$(X).jqGrid("setFrozenColumns")},Y=function(i,e,t){e=parseInt(e,10),t=parseInt(t,10)+25;var n,r,s='<ul id="column_menu" class="ui-search-menu modal-content column-menu" role="menu" tabindex="0" style="font-size:'+($(".ui-jqgrid-view").css("font-size")||"11px")+";left:"+e+"px;top:"+t+'px;">',o=X.p.colModel[i],a=$.extend({sorting:!0,columns:!0,filtering:!0,seraching:!0,grouping:!0,freeze:!0},o.coloptions),l=$.jgrid.getRegional(X,"colmenu");if(a.sorting&&(s+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="sortasc"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+k.icon_sort_asc+'"></span></td><td class="menu_text">'+l.sortasc+"</td></tr></table></a></li>",s+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="sortdesc"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+k.icon_sort_desc+'"></span></td><td class="menu_text">'+l.sortdesc+"</td></tr></table></a></li>"),a.columns&&(s+='<li class="ui-menu-item divider" role="separator"></li>',s+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="columns"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+k.icon_columns+'"></span></td><td class="menu_text">'+l.columns+"</td></tr></table></a></li>"),a.filtering&&(s+='<li class="ui-menu-item divider" role="separator"></li>',s+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="filtering"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+k.icon_filter+'"></span></td><td class="menu_text">'+l.filter+" "+(o.label||o.name)+"</td></tr></table></a></li>"),a.grouping&&(n=$.inArray(o.name,X.p.groupingView.groupField),s+='<li class="ui-menu-item divider" role="separator"></li>',s+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="grouping"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+k.icon_group+'"></span></td><td class="menu_text">'+(-1!==n?l.ungrouping:l.grouping+" "+(o.label||o.name))+"</td></tr></table></a></li>"),a.freeze&&(r=!o.frozen||!X.p.frozenColumns,s+='<li class="ui-menu-item divider" role="separator"></li>',s+='<li class="ui-menu-item" role="presentation"><a class="g-menu-item" tabindex="0" role="menuitem" value="freeze"><table class="ui-common-table"><tr><td class="menu_icon"><span class="'+y+" "+k.icon_freeze+'"></span></td><td class="menu_text">'+(r?l.freeze+" "+(o.label||o.name):l.unfreeze)+"</td></tr></table></a></li>"),s+="</ul>",$("body").append(s),$("#column_menu").addClass("ui-menu "+k.menu_widget),"ltr"===X.p.direction){var d=$("#column_menu").width()+26;$("#column_menu").css("left",e-d)}$("#column_menu > li > a").hover(function(){var e,t;$("#col_menu").remove(),$("#search_menu").remove(),"columns"===$(this).attr("value")&&(e=$(this).parent().width()+18,t=$(this).parent().position().top-5,W(t,e,$(this).parent())),"filtering"===$(this).attr("value")&&(e=$(this).parent().width()+18,t=$(this).parent().position().top-5,L(i,t,e,$(this).parent())),$(this).addClass(D)},function(){$(this).removeClass(D)}).click(function(){var e=$(this).attr("value"),t=X.grid.headers[i].el;"sortasc"===e?E("jqgh_"+X.p.id+"_"+o.name,i,!0,"asc",t):"sortdesc"===e?E("jqgh_"+X.p.id+"_"+o.name,i,!0,"desc",t):"grouping"===e?U(i,n):"freeze"===e&&V(i,r),-1===e.indexOf("sort")&&"grouping"!==e&&"freeze"!==e||$(this).remove()})};for(X.p.colMenu&&$("body").on("click",function(e){$(e.target).closest(".column-menu").length||$("#column_menu").remove()}),this.p.id=this.id,-1===$.inArray(X.p.multikey,p)&&(X.p.multikey=!1),X.p.keyName=!1,r=0;r<X.p.colModel.length;r++)u="string"==typeof X.p.colModel[r].template?null!=$.jgrid.cmTemplate&&"object"==typeof $.jgrid.cmTemplate[X.p.colModel[r].template]?$.jgrid.cmTemplate[X.p.colModel[r].template]:{}:X.p.colModel[r].template,X.p.colModel[r]=$.extend(!0,{},X.p.cmTemplate,u||{},X.p.colModel[r]),!1===X.p.keyName&&!0===X.p.colModel[r].key&&(X.p.keyName=X.p.colModel[r].name);if(X.p.sortorder=X.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),!0===X.p.grouping&&(X.p.scroll=!1,X.p.rownumbers=!1,X.p.treeGrid=!1,X.p.gridview=!0),!0===this.p.treeGrid){try{$(this).jqGrid("setTreeGrid")}catch(Ge){}"local"!==X.p.datatype&&(X.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(X).jqGrid("setSubGrid")}catch(s){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?X.p.multiselectWidth+X.p.cellLayout:X.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:X.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),X.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},X.p.xmlReader),X.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},X.p.jsonReader),X.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},X.p.localReader),X.p.scroll&&(X.p.pgbuttons=!1,X.p.pginput=!1,X.p.rowList=[]),X.p.data.length&&(w(),x());var K,le,de,ce,ue,pe,he,fe,ge,me="<thead><tr class='ui-jqgrid-labels' role='row'>",ve="",be="",_e="";if(!0===X.p.shrinkToFit&&!0===X.p.forceFit)for(r=X.p.colModel.length-1;0<=r;r--)if(!X.p.colModel[r].hidden){X.p.colModel[r].resizable=!1;break}if("horizontal"===X.p.viewsortcols[1]?(be=" ui-i-asc",_e=" ui-i-desc"):"single"===X.p.viewsortcols[1]&&(be=" ui-single-sort-asc",_e=" ui-single-sort-desc",ve=" style='display:none'",X.p.viewsortcols[0]=!1),K=l?"class='ui-th-div-ie'":"",fe="<span class='s-ico' style='display:none'>",fe+="<span sort='asc'  class='ui-grid-ico-sort ui-icon-asc"+be+" ui-sort-"+b+" "+_+" "+y+" "+J(Q,"icon_asc",!0)+"'"+ve+"></span>",fe+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+_e+" ui-sort-"+b+" "+_+" "+y+" "+J(Q,"icon_desc",!0)+"'"+ve+"></span></span>",X.p.multiSort&&X.p.sortname)for(q=X.p.sortname.split(","),r=0;r<q.length;r++)d=$.trim(q[r]).split(" "),q[r]=$.trim(d[0]),M[r]=d[1]?$.trim(d[1]):X.p.sortorder||"asc";for(r=0;r<this.p.colNames.length;r++){var ye=X.p.headertitles?' title="'+$.jgrid.stripHtml(X.p.colNames[r])+'"':"";(ge=X.p.colModel[r]).hasOwnProperty("colmenu")||(ge.colmenu="rn"!==ge.name&&"cb"!==ge.name&&"subgrid"!==ge.name),me+="<th id='"+X.p.id+"_"+ge.name+"' role='columnheader' "+J(Q,"headerBox",!1,"ui-th-column ui-th-"+b)+" "+ye+">",le=ge.index||ge.name,me+="<div class='ui-th-div' id='jqgh_"+X.p.id+"_"+ge.name+"' "+K+">"+X.p.colNames[r],ge.width?ge.width=parseInt(ge.width,10):ge.width=150,"boolean"!=typeof ge.title&&(ge.title=!0),ge.lso="",le===X.p.sortname&&(X.p.lastsort=r),X.p.multiSort&&-1!==(d=$.inArray(le,q))&&(ge.lso=M[d]),me+=fe,X.p.colMenu&&ge.colmenu&&(me+="<a class='colmenu' href='#/'><span class='colmenuspan "+y+" "+k.icon_menu+"'></span></a>"),me+="</div></th>"}if(me+="</tr></thead>",ge=fe=null,$(this).append(me),$("thead tr:first th",this).hover(function(){$(this).addClass(D)},function(){$(this).removeClass(D)}),this.p.multiselect){var $e,we=[];$("#cb_"+$.jgrid.jqID(X.p.id),this).bind("click",function(){X.p.selarrrow=[];var t=!0===X.p.frozenColumns?X.p.id+"_frozen":"";this.checked?($(X.rows).each(function(e){0<e&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(_)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(X.p.id)+"_"+$.jgrid.jqID(this.id))[X.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass(Z).attr("aria-selected","true"),X.p.selarrrow.push(this.id),X.p.selrow=this.id,t&&($("#jqg_"+$.jgrid.jqID(X.p.id)+"_"+$.jgrid.jqID(this.id),X.grid.fbDiv)[X.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),X.grid.fbDiv).addClass(Z))))}),$e=!0,we=[]):($(X.rows).each(function(e){0<e&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass(_)||$(this).hasClass("jqfoot")||($("#jqg_"+$.jgrid.jqID(X.p.id)+"_"+$.jgrid.jqID(this.id))[X.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass(Z).attr("aria-selected","false"),we.push(this.id),t&&($("#jqg_"+$.jgrid.jqID(X.p.id)+"_"+$.jgrid.jqID(this.id),X.grid.fbDiv)[X.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),X.grid.fbDiv).removeClass(Z))))}),X.p.selrow=null,$e=!1),$(X).triggerHandler("jqGridSelectAll",[$e?X.p.selarrrow:we,$e]),$.isFunction(X.p.onSelectAll)&&X.p.onSelectAll.call(X,$e?X.p.selarrrow:we,$e)})}if(!0===X.p.autowidth){var xe=$(c).innerWidth();X.p.width=0<xe?xe:"nw"}R(),$(c).css("width",f.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+X.p.id+"'>&#160;</div>"),X.p.scrollPopUp&&$(c).append("<div "+J(Q,"scrollBox",!1,"loading ui-scroll-popup")+" id='scroll_g"+X.p.id+"'></div>"),$(o).css("width",f.width+"px"),me=$("thead:first",X).get(0);var je="";X.p.footerrow&&(je+="<table role='presentation' style='width:"+X.p.tblwidth+"px' "+J(Q,"footerTable",!1,"ui-jqgrid-ftable ui-common-table")+"><tbody><tr role='row' "+J(Q,"footerBox",!1,"footrow footrow-"+b)+">");var De=$("tr:first",me),ke="<tr class='jqgfirstrow' role='row'>";if(X.p.disableClick=!1,$("th",De).each(function(e){ge=X.p.colModel[e],de=ge.width,ge.resizable===undefined&&(ge.resizable=!0),ge.resizable?(ce=document.createElement("span"),$(ce).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+b).css("cursor","col-resize"),$(this).addClass(X.p.resizeclass)):ce="",$(this).css("width",de+"px").prepend(ce),ce=null;var t="";ge.hidden&&($(this).css("display","none"),t="display:none;"),ke+="<td role='gridcell' style='height:0px;width:"+de+"px;"+t+"'></td>",f.headers[e]={width:de,el:this},"boolean"!=typeof(ve=ge.sortable)&&(ge.sortable=!0,ve=!0);var i=ge.name;"cb"!==i&&"subgrid"!==i&&"rn"!==i&&X.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),ve&&(X.p.multiSort?X.p.viewsortcols[0]?($("div span.s-ico",this).show(),X.p.colModel[e].lso&&$("div span.ui-icon-"+ge.lso,this).removeClass(_).css("display","")):X.p.colModel[e].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+ge.lso,this).removeClass(_).css("display","")):X.p.viewsortcols[0]?($("div span.s-ico",this).show(),e===X.p.lastsort&&$("div span.ui-icon-"+X.p.sortorder,this).removeClass(_).css("display","")):e===X.p.lastsort&&""!==X.p.sortname&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+X.p.sortorder,this).removeClass(_).css("display",""))),X.p.footerrow&&(je+="<td role='gridcell' "+g(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length){var t=H(this);return!0===X.p.forceFit&&(X.p.nv=G(t)),f.dragStart(t,e,z(t)),!1}}).click(function(e){if(X.p.disableClick)return X.p.disableClick=!1;var t,i,n="th>div.ui-jqgrid-sortable";X.p.viewsortcols[2]||(n="th>div>span>span.ui-grid-ico-sort");var r=$(e.target).closest(n);if(1===r.length){var s;if(X.p.frozenColumns){var o=$(this)[0].id.substring(X.p.id.length+1);$(X.p.colModel).each(function(e){if(this.name===o)return s=e,!1})}else s=H(this);if($(e.target).hasClass("colmenuspan")){null!=$("#column_menu")[0]&&$("#column_menu").remove();var a=$.jgrid.getCellIndex(e.target);if(-1===a)return;var l=$(this).offset(),d=l.left,c=l.top;return"ltr"===X.p.direction&&(d+=$(this).outerWidth()),Y(a,d,c,r),void e.stopPropagation()}return X.p.viewsortcols[2]||(t=!0,i=r.attr("sort")),null!=s&&E($("div",this)[0].id,s,t,i,this),!1}}),ge=null,X.p.sortable&&$.fn.sortable)try{$(X).jqGrid("sortableColumns",De)}catch(e){}X.p.footerrow&&(je+="</tr></tbody></table>"),ke+="</tr>",he=document.createElement("tbody"),this.appendChild(he),$(this).addClass(J(Q,"rowTable",!0,"ui-jqgrid-btable ui-common-table")).append(ke),ke=null;var Ce,Se,Ie,Te=$("<table "+J(Q,"headerTable",!1,"ui-jqgrid-htable ui-common-table")+" style='width:"+X.p.tblwidth+"px' role='presentation' aria-labelledby='gbox_"+this.id+"'></table>").append(me),qe=!(!X.p.caption||!0!==X.p.hiddengrid),Me=$("<div class='ui-jqgrid-hbox"+("rtl"===b?"-rtl":"")+"'></div>"),Ae="Bootstrap"===X.p.styleUI?2:0;me=null,f.hDiv=document.createElement("div"),f.hDiv.style.width=f.width-Ae+"px",f.hDiv.className=J(Q,"headerDiv",!0,"ui-jqgrid-hdiv"),$(f.hDiv).append(Me),$(Me).append(Te),Te=null,qe&&$(f.hDiv).hide(),X.p.pager&&("string"==typeof X.p.pager?"#"!==X.p.pager.substr(0,1)&&(X.p.pager="#"+X.p.pager):X.p.pager="#"+$(X.p.pager).attr("id"),$(X.p.pager).css({width:f.width+"px"}).addClass(J(Q,"pagerBox",!0,"ui-jqgrid-pager")).appendTo(c),qe&&$(X.p.pager).hide(),P(X.p.pager,"")),!1===X.p.cellEdit&&!0===X.p.hoverrows&&$(X).bind("mouseover",function(e){pe=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(pe).attr("class")&&$(pe).addClass(D)}).bind("mouseout",function(e){pe=$(e.target).closest("tr.jqgrow"),$(pe).removeClass(D)}),$(X).before(f.hDiv).click(function(e){if(ue=e.target,pe=$(ue,X.rows).closest("tr.jqgrow"),0===$(pe).length||-1<pe[0].className.indexOf(_)||($(ue,X).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==X.id)return this;var t=$(ue).filter(":enabled").hasClass("cbox"),i=$(X).triggerHandler("jqGridBeforeSelectRow",[pe[0].id,e]);if(i=!1!==i&&"stop"!==i,$.isFunction(X.p.beforeSelectRow)){var n=X.p.beforeSelectRow.call(X,pe[0].id,e);!1!==n&&"stop"!==n||(i=!1)}if("A"!==ue.tagName&&("INPUT"!==ue.tagName&&"TEXTAREA"!==ue.tagName&&"OPTION"!==ue.tagName&&"SELECT"!==ue.tagName||t))if(Ce=pe[0].id,0<(ue=$(ue).closest("tr.jqgrow>td")).length&&(Se=$.jgrid.getCellIndex(ue),Ie=$(ue).closest("td,th").html(),$(X).triggerHandler("jqGridCellSelect",[Ce,Se,Ie,e]),$.isFunction(X.p.onCellSelect)&&X.p.onCellSelect.call(X,Ce,Se,Ie,e)),!0!==X.p.cellEdit){if(i)if(X.p.multikey)e[X.p.multikey]?$(X).jqGrid("setSelection",Ce,!0,e):X.p.multiselect&&t&&(t=$("#jqg_"+$.jgrid.jqID(X.p.id)+"_"+Ce).is(":checked"),$("#jqg_"+$.jgrid.jqID(X.p.id)+"_"+Ce)[X.p.useProp?"prop":"attr"]("checked",!t));else if(X.p.multiselect&&X.p.multiboxonly)if(t)$(X).jqGrid("setSelection",Ce,!0,e);else{var r=X.p.frozenColumns?X.p.id+"_frozen":"";$(X.p.selarrrow).each(function(e,t){var i=$(X).jqGrid("getGridRowById",t);i&&$(i).removeClass(Z),$("#jqg_"+$.jgrid.jqID(X.p.id)+"_"+$.jgrid.jqID(t))[X.p.useProp?"prop":"attr"]("checked",!1),r&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r)).removeClass(Z),$("#jqg_"+$.jgrid.jqID(X.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(r))[X.p.useProp?"prop":"attr"]("checked",!1))}),X.p.selarrrow=[],$(X).jqGrid("setSelection",Ce,!0,e)}else $(X).jqGrid("setSelection",Ce,!0,e)}else if(X.p.multiselect&&t&&i)$(X).jqGrid("setSelection",Ce,!0,e);else if(0<ue.length)try{$(X).jqGrid("editCell",pe[0].rowIndex,Se,!0)}catch(Ge){}}).bind("reloadGrid",function(e,t){if(!0===X.p.treeGrid&&(X.p.datatype=X.p.treedatatype),(t=t||{}).current&&X.grid.selectionPreserver(X),"local"===X.p.datatype?($(X).jqGrid("resetSelection"),X.p.data.length&&(w(),x())):X.p.treeGrid||(X.p.selrow=null,X.p.multiselect&&(X.p.selarrrow=[],O(!1)),X.p.savedRow=[]),X.p.scroll&&oe.call(X,!0,!1),t.page){var i=t.page;i>X.p.lastpage&&(i=X.p.lastpage),i<1&&(i=1),X.p.page=i,X.grid.prevRowHeight?X.grid.bDiv.scrollTop=(i-1)*X.grid.prevRowHeight*X.p.rowNum:X.grid.bDiv.scrollTop=0}return X.grid.prevRowHeight&&X.p.scroll&&t.page===undefined?(delete X.p.lastpage,X.grid.populateVisible()):X.grid.populate(),!0===X.p.inlineNav&&$(X).jqGrid("showAddEditButtons"),!1}).dblclick(function(e){if(ue=e.target,pe=$(ue,X.rows).closest("tr.jqgrow"),0!==$(pe).length){Ce=pe[0].rowIndex,Se=$.jgrid.getCellIndex(ue);var t=$(X).triggerHandler("jqGridDblClickRow",[$(pe).attr("id"),Ce,Se,e]);return null!=t?t:$.isFunction(X.p.ondblClickRow)&&null!=(t=X.p.ondblClickRow.call(X,$(pe).attr("id"),Ce,Se,e))?t:void 0}}).bind("contextmenu",function(e){if(ue=e.target,pe=$(ue,X.rows).closest("tr.jqgrow"),0!==$(pe).length){X.p.multiselect||$(X).jqGrid("setSelection",pe[0].id,!0,e),Ce=pe[0].rowIndex,Se=$.jgrid.getCellIndex(ue);var t=$(X).triggerHandler("jqGridRightClickRow",[$(pe).attr("id"),Ce,Se,e]);return null!=t?t:$.isFunction(X.p.onRightClickRow)&&null!=(t=X.p.onRightClickRow.call(X,$(pe).attr("id"),Ce,Se,e))?t:void 0}}),f.bDiv=document.createElement("div"),l&&"auto"===String(X.p.height).toLowerCase()&&(X.p.height="100%"),$(f.bDiv).append($('<div style="position:relative;"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:X.p.height+(isNaN(X.p.height)?"":"px"),width:f.width-Ae+"px"}).scroll(f.scrollGrid),$("table:first",f.bDiv).css({width:X.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),X.p.multikey&&($.jgrid.msie()?$(f.bDiv).bind("selectstart",function(){return!1}):$(f.bDiv).bind("mousedown",function(){return!1})),qe&&$(f.bDiv).hide();var Fe=y+" "+J(Q,"icon_caption_open",!0),Oe=y+" "+J(Q,"icon_caption_close",!0);f.cDiv=document.createElement("div");var Pe=!0===X.p.hidegrid?$("<a role='link' class='ui-jqgrid-titlebar-close HeaderButton "+a+"' title='"+($.jgrid.getRegional(X,"defaults.showhide",X.p.showhide)||"")+"' />").hover(function(){Pe.addClass(D)},function(){Pe.removeClass(D)}).append("<span class='ui-jqgrid-headlink "+Fe+"'></span>").css("rtl"===b?"left":"right","0px"):"";if($(f.cDiv).append(Pe).append("<span class='ui-jqgrid-title'>"+X.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===b?"-rtl":"")+" "+J(Q,"gridtitleBox",!0)),$(f.cDiv).insertBefore(f.hDiv),X.p.toolbar[0]){var Ne=J(Q,"customtoolbarBox",!0,"ui-userdata");f.uDiv=document.createElement("div"),"top"===X.p.toolbar[1]?$(f.uDiv).insertBefore(f.hDiv):"bottom"===X.p.toolbar[1]&&$(f.uDiv).insertAfter(f.hDiv),"both"===X.p.toolbar[1]?(f.ubDiv=document.createElement("div"),$(f.uDiv).addClass(Ne+" ui-userdata-top").attr("id","t_"+this.id).insertBefore(f.hDiv).width(f.width-Ae),$(f.ubDiv).addClass(Ne+" ui-userdata-bottom").attr("id","tb_"+this.id).insertAfter(f.hDiv).width(f.width-Ae),qe&&$(f.ubDiv).hide()):$(f.uDiv).width(f.width-Ae).addClass(Ne+" ui-userdata-top").attr("id","t_"+this.id),qe&&$(f.uDiv).hide()}if(X.p.toppager&&(X.p.toppager=$.jgrid.jqID(X.p.id)+"_toppager",f.topDiv=$("<div id='"+X.p.toppager+"'></div>")[0],X.p.toppager="#"+X.p.toppager,$(f.topDiv).addClass(J(Q,"toppagerBox",!0,"ui-jqgrid-toppager")).width(f.width-Ae).insertBefore(f.hDiv),P(X.p.toppager,"_t")),X.p.footerrow&&(f.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],Me=$("<div class='ui-jqgrid-hbox"+("rtl"===b?"-rtl":"")+"'></div>"),$(f.sDiv).append(Me).width(f.width-Ae).insertAfter(f.hDiv),$(Me).append(je),f.footers=$(".ui-jqgrid-ftable",f.sDiv)[0].rows[0].cells,X.p.rownumbers&&(f.footers[0].className=J(Q,"rownumBox",!0,"jqgrid-rownum")),qe&&$(f.sDiv).hide()),Me=null,X.p.caption){var Ee=X.p.datatype;!0===X.p.hidegrid&&($(".ui-jqgrid-titlebar-close",f.cDiv).click(function(e){var t,i=$.isFunction(X.p.onHeaderClick),n=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-toppager, .ui-jqgrid-pager, .ui-jqgrid-sdiv",r=this;return!0===X.p.toolbar[0]&&("both"===X.p.toolbar[1]&&(n+=", #"+$(f.ubDiv).attr("id")),n+=", #"+$(f.uDiv).attr("id")),t=$(n,"#gview_"+$.jgrid.jqID(X.p.id)).length,"visible"===X.p.gridstate?$(n,"#gbox_"+$.jgrid.jqID(X.p.id)).slideUp("fast",function(){0===--t&&($("span",r).removeClass(Fe).addClass(Oe),X.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(X.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(X.p.id)).hide(),$(X).triggerHandler("jqGridHeaderClick",[X.p.gridstate,e]),i&&(qe||X.p.onHeaderClick.call(X,X.p.gridstate,e)))}):"hidden"===X.p.gridstate&&$(n,"#gbox_"+$.jgrid.jqID(X.p.id)).slideDown("fast",function(){0===--t&&($("span",r).removeClass(Oe).addClass(Fe),qe&&(X.p.datatype=Ee,F(),qe=!1),X.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(X.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(X.p.id)).show(),$(X).triggerHandler("jqGridHeaderClick",[X.p.gridstate,e]),i&&(qe||X.p.onHeaderClick.call(X,X.p.gridstate,e)))}),!1}),qe&&(X.p.datatype="local",$(".ui-jqgrid-titlebar-close",f.cDiv).trigger("click")))}else $(f.cDiv).hide(),X.p.toppager||$(f.hDiv).addClass(J(X.p.styleUI+".common","cornertop",!0));if($(f.hDiv).after(f.bDiv).mousemove(function(e){if(f.resizing)return f.dragMove(e),!1}),$(".ui-jqgrid-labels",f.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+X.p.id,function(){return!f.resizing||(f.dragEnd(!0),!1)}),"rtl"===X.p.direction&&$(X).bind("jqGridAfterGridComplete.setRTLPadding",function(){var e=f.bDiv.offsetWidth-f.bDiv.clientWidth;X.p.scrollOffset=e,$("div:first",f.hDiv).css({paddingLeft:e+"px"}),f.hDiv.scrollLeft=f.bDiv.scrollLeft}),X.formatCol=g,X.sortData=E,X.updatepager=I,X.refreshIndex=x,X.setHeadCheckBox=O,X.constructTr=ae,X.formatter=function(e,t,i,n,r){return v(e,t,i,n,r)},$.extend(f,{populate:F,emptyRows:oe,beginReq:T,endReq:A}),this.grid=f,X.addXmlData=function(e){j(e)},X.addJSONData=function(e){C(e)},this.grid.cols=this.rows[0].cells,$(X).triggerHandler("jqGridInitGrid"),$.isFunction(X.p.onInitGrid)&&X.p.onInitGrid.call(X),F(),X.p.hiddengrid=!1,X.p.responsive){var Re="onorientationchange"in window?"orientationchange":"resize";$(window).on(Re,function(){$(X).jqGrid("resizeGrid")})}}else alert($.jgrid.getRegional(this,"errors.model"))}else alert("Element is not a table or has no id!")}});var t=$.jgrid.getMethod(ze);if(!t)throw"jqGrid - No such method: "+ze
;var i=$.makeArray(arguments).slice(1);return t.apply(this,i)},$.jgrid.extend({getGridParam:function(t,i){var n,r=this[0];if(r&&r.grid){if(i===undefined&&"string"!=typeof i&&(i="jqGrid"),n=r.p,"jqGrid"!==i)try{n=$(r).data(i)}catch(e){n=r.p}return t?n[t]!==undefined?n[t]:null:n}},setGridParam:function(t,i){return this.each(function(){if(null==i&&(i=!1),this.grid&&"object"==typeof t)if(!0===i){var e=$.extend({},this.p,t);this.p=e}else $.extend(!0,this.p,t)})},getGridRowById:function(i){var n;return this.each(function(){try{for(var t=this.rows.length;t--;)if(i.toString()===this.rows[t].id){n=this.rows[t];break}}catch(e){n=$(this.grid.bDiv).find("#"+$.jgrid.jqID(i))}}),n},getDataIDs:function(){var e,t=[],i=0,n=0;return this.each(function(){if((e=this.rows.length)&&0<e)for(;i<e;)$(this.rows[i]).hasClass("jqgrow")&&(t[n]=this.rows[i].id,n++),i++}),t},setSelection:function(p,h,f){return this.each(function(){function e(e){var t=$(l.grid.bDiv)[0].clientHeight,i=$(l.grid.bDiv)[0].scrollTop,n=$(l.rows[e]).position().top,r=l.rows[e].clientHeight;t+i<=n+r?$(l.grid.bDiv)[0].scrollTop=n-(t+i)+r+i:n<t+i&&n<i&&($(l.grid.bDiv)[0].scrollTop=n)}var t,i,n,r,s,o,a,l=this,d=$.jgrid.getMethod("getStyleUI"),c=d(l.p.styleUI+".common","highlight",!0),u=d(l.p.styleUI+".common","disabled",!0);p!==undefined&&(h=!1!==h,!(i=$(l).jqGrid("getGridRowById",p))||!i.className||-1<i.className.indexOf(u)||(!0===l.p.scrollrows&&0<=(n=$(l).jqGrid("getGridRowById",p).rowIndex)&&e(n),!0===l.p.frozenColumns&&(o=l.p.id+"_frozen"),l.p.multiselect?(l.setHeadCheckBox(!1),l.p.selrow=i.id,-1===(r=$.inArray(l.p.selrow,l.p.selarrrow))?("ui-subgrid"!==i.className&&$(i).addClass(c).attr("aria-selected","true"),t=!0,l.p.selarrrow.push(l.p.selrow)):("ui-subgrid"!==i.className&&$(i).removeClass(c).attr("aria-selected","false"),t=!1,l.p.selarrrow.splice(r,1),s=l.p.selarrrow[0],l.p.selrow=s===undefined?null:s),$("#jqg_"+$.jgrid.jqID(l.p.id)+"_"+$.jgrid.jqID(i.id))[l.p.useProp?"prop":"attr"]("checked",t),o&&(-1===r?$("#"+$.jgrid.jqID(p),"#"+$.jgrid.jqID(o)).addClass(c):$("#"+$.jgrid.jqID(p),"#"+$.jgrid.jqID(o)).removeClass(c),$("#jqg_"+$.jgrid.jqID(l.p.id)+"_"+$.jgrid.jqID(p),"#"+$.jgrid.jqID(o))[l.p.useProp?"prop":"attr"]("checked",t)),h&&($(l).triggerHandler("jqGridSelectRow",[i.id,t,f]),l.p.onSelectRow&&l.p.onSelectRow.call(l,i.id,t,f))):"ui-subgrid"!==i.className&&(l.p.selrow!==i.id?((a=$(l).jqGrid("getGridRowById",l.p.selrow))&&$(a).removeClass(c).attr({"aria-selected":"false",tabindex:"-1"}),$(i).addClass(c).attr({"aria-selected":"true",tabindex:"0"}),o&&($("#"+$.jgrid.jqID(l.p.selrow),"#"+$.jgrid.jqID(o)).removeClass(c),$("#"+$.jgrid.jqID(p),"#"+$.jgrid.jqID(o)).addClass(c)),t=!0):t=!1,l.p.selrow=i.id,h&&($(l).triggerHandler("jqGridSelectRow",[i.id,t,f]),l.p.onSelectRow&&l.p.onSelectRow.call(l,i.id,t,f)))))})},resetSelection:function(a){return this.each(function(){var e,i,n=this,t=$.jgrid.getMethod("getStyleUI"),r=t(n.p.styleUI+".common","highlight",!0),s=t(n.p.styleUI+".common","hover",!0);if(!0===n.p.frozenColumns&&(i=n.p.id+"_frozen"),a!==undefined){if(e=a===n.p.selrow?n.p.selrow:a,$("#"+$.jgrid.jqID(n.p.id)+" tbody:first tr#"+$.jgrid.jqID(e)).removeClass(r).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i)).removeClass(r),n.p.multiselect){$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(n.p.id))[n.p.useProp?"prop":"attr"]("checked",!1),i&&$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(e),"#"+$.jgrid.jqID(i))[n.p.useProp?"prop":"attr"]("checked",!1),n.setHeadCheckBox(!1);var o=$.inArray($.jgrid.jqID(e),n.p.selarrrow);-1!==o&&n.p.selarrrow.splice(o,1)}n.p.onUnSelectRow&&n.p.onUnSelectRow.call(n,e),e=null}else n.p.multiselect?($(n.p.selarrrow).each(function(e,t){$($(n).jqGrid("getGridRowById",t)).removeClass(r).attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(t))[n.p.useProp?"prop":"attr"]("checked",!1),i&&($("#"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i)).removeClass(r),$("#jqg_"+$.jgrid.jqID(n.p.id)+"_"+$.jgrid.jqID(t),"#"+$.jgrid.jqID(i))[n.p.useProp?"prop":"attr"]("checked",!1)),n.p.onUnSelectRow&&n.p.onUnSelectRow.call(n,t)}),n.setHeadCheckBox(!1),n.p.selarrrow=[],n.p.selrow=null):n.p.selrow&&($("#"+$.jgrid.jqID(n.p.id)+" tbody:first tr#"+$.jgrid.jqID(n.p.selrow)).removeClass(r).attr("aria-selected","false"),i&&$("#"+$.jgrid.jqID(n.p.selrow),"#"+$.jgrid.jqID(i)).removeClass(r),n.p.onUnSelectRow&&n.p.onUnSelectRow.call(n,n.p.selrow),n.p.selrow=null);!0===n.p.cellEdit&&0<=parseInt(n.p.iCol,10)&&0<=parseInt(n.p.iRow,10)&&($("td:eq("+n.p.iCol+")",n.rows[n.p.iRow]).removeClass("edit-cell "+r),$(n.rows[n.p.iRow]).removeClass("selected-row "+s)),n.p.savedRow=[]})},getRowData:function(t,s){var o,a,l={},d=!1,c=0;return this.each(function(){var i,n,r=this;if(null==t)d=!0,o=[],a=r.rows.length-1;else{if(!(n=$(r).jqGrid("getGridRowById",t)))return l;a=1}for(s&&!0===s&&0<r.p.data.length||(s=!1);c<a;)d&&(n=r.rows[c]),$(n).hasClass("jqgrow")&&(s?l=r.p.data[r.p._index[n.id]]:$('td[role="gridcell"]',n).each(function(t){if("cb"!==(i=r.p.colModel[t].name)&&"subgrid"!==i&&"rn"!==i)if(!0===r.p.treeGrid&&i===r.p.ExpandColumn)l[i]=$.jgrid.htmlDecode($("span:first",this).html());else try{l[i]=$.unformat.call(r,this,{rowId:n.id,colModel:r.p.colModel[t]},t)}catch(e){l[i]=$.jgrid.htmlDecode($(this).html())}}),d&&(o.push(l),l={})),c++}),o||l},delRowData:function(r){var s,o,a,l=!1;return this.each(function(){var e=this;if(!(s=$(e).jqGrid("getGridRowById",r)))return!1;if(e.p.subGrid&&(a=$(s).next()).hasClass("ui-subgrid")&&a.remove(),$(s).remove(),e.p.records--,e.p.reccount--,e.updatepager(!0,!1),l=!0,e.p.multiselect&&-1!==(o=$.inArray(r,e.p.selarrrow))&&e.p.selarrrow.splice(o,1),e.p.multiselect&&0<e.p.selarrrow.length?e.p.selrow=e.p.selarrrow[e.p.selarrrow.length-1]:e.p.selrow===r&&(e.p.selrow=null),"local"===e.p.datatype){var t=$.jgrid.stripPref(e.p.idPrefix,r),i=e.p._index[t];i!==undefined&&(e.p.data.splice(i,1),e.refreshIndex())}if(!0===e.p.altRows&&l){var n=e.p.altclass;$(e.rows).each(function(e){e%2==1?$(this).addClass(n):$(this).removeClass(n)})}}),l},setRowData:function(d,c,u){var p,h,f=!0;return this.each(function(){if(!this.grid)return!1;var i,n,r=this,t=typeof u,s={};if(!(n=$(this).jqGrid("getGridRowById",d)))return!1;if(c)try{if($(this.p.colModel).each(function(e){p=this.name;var t=$.jgrid.getAccessor(c,p);t!==undefined&&(s[p]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(r,t,this):t,i=r.formatter(d,s[p],e,c,"edit"),h=this.title?{title:$.jgrid.stripHtml(i)}:{},!0===r.p.treeGrid&&p===r.p.ExpandColumn?$("td[role='gridcell']:eq("+e+") > span:first",n).html(i).attr(h):$("td[role='gridcell']:eq("+e+")",n).html(i).attr(h))}),"local"===r.p.datatype){var o,a=$.jgrid.stripPref(r.p.idPrefix,d),l=r.p._index[a];if(r.p.treeGrid)for(o in r.p.treeReader)r.p.treeReader.hasOwnProperty(o)&&delete s[r.p.treeReader[o]];l!==undefined&&(r.p.data[l]=$.extend(!0,r.p.data[l],s)),s=null}}catch(e){f=!1}f&&("string"===t?$(n).addClass(u):null!==u&&"object"===t&&$(n).css(u),$(r).triggerHandler("jqGridAfterGridComplete"))}),f},addRowData:function(l,d,c,u){-1===$.inArray(c,["first","last","before","after"])&&(c="last");var p,h,f,g,m,v,b,_,y,w,x,j,D,k,C=!1,S="",I="",T="";return d&&($.isArray(d)?(y=!0,w=l):y=!(d=[d]),this.each(function(){var t=this,i=d.length;m=!0===t.p.rownumbers?1:0,f=!0===t.p.multiselect?1:0,g=!0===t.p.subGrid?1:0,y||(l!==undefined?l=String(l):(l=$.jgrid.randId(),!1!==t.p.keyName&&(w=t.p.keyName,d[0][w]!==undefined&&(l=d[0][w])))),x=t.p.altclass;var n,r=0,s=$(t).jqGrid("getStyleUI",t.p.styleUI+".base","rowBox",!0,"jqgrow ui-row-"+t.p.direction),o={},a=!!$.isFunction(t.p.afterInsertRow);for(m&&(S=$(t).jqGrid("getStyleUI",t.p.styleUI+".base","rownumBox",!1,"jqgrid-rownum")),f&&(I=$(t).jqGrid("getStyleUI",t.p.styleUI+".base","multiBox",!1,"cbox"));r<i;){if(j=d[r],h=[],n=s,y){try{(l=j[w])===undefined&&(l=$.jgrid.randId())}catch(e){l=$.jgrid.randId()}n+=!0===t.p.altRows&&(t.rows.length-1)%2==0?" "+x:""}for(k=l,l=t.p.idPrefix+l,m&&(T=t.formatCol(0,1,"",null,l,!0),h[h.length]='<td role="gridcell" '+S+" "+T+">0</td>"),f&&(_='<input role="checkbox" type="checkbox" id="jqg_'+t.p.id+"_"+l+'" '+I+"/>",T=t.formatCol(m,1,"",null,l,!0),h[h.length]='<td role="gridcell" '+T+">"+_+"</td>"),g&&(h[h.length]=$(t).jqGrid("addSubGridCell",f+m,1)),b=f+g+m;b<t.p.colModel.length;b++)D=t.p.colModel[b],o[p=D.name]=j[p],_=t.formatter(l,$.jgrid.getAccessor(j,p),b,j),T=t.formatCol(b,1,_,j,l,o),h[h.length]='<td role="gridcell" '+T+">"+_+"</td>";if(h.unshift(t.constructTr(l,!1,n,o,j)),h[h.length]="</tr>",0===t.rows.length)$("table:first",t.grid.bDiv).append(h.join(""));else switch(c){case"last":$(t.rows[t.rows.length-1]).after(h.join("")),v=t.rows.length-1;break;case"first":$(t.rows[0]).after(h.join("")),v=1;break;case"after":(v=$(t).jqGrid("getGridRowById",u))&&($(t.rows[v.rowIndex+1]).hasClass("ui-subgrid")?$(t.rows[v.rowIndex+1]).after(h):$(v).after(h.join("")),v=v.rowIndex+1);break;case"before":(v=$(t).jqGrid("getGridRowById",u))&&($(v).before(h.join("")),v=v.rowIndex-1)}!0===t.p.subGrid&&$(t).jqGrid("addSubGrid",f+m,v),t.p.records++,t.p.reccount++,$(t).triggerHandler("jqGridAfterInsertRow",[l,j,j]),a&&t.p.afterInsertRow.call(t,l,j,j),r++,"local"===t.p.datatype&&(o[t.p.localReader.id]=k,t.p._index[k]=t.p.data.length,t.p.data.push(o),o={})}!0!==t.p.altRows||y||("last"===c?(t.rows.length-1)%2==0&&$(t.rows[t.rows.length-1]).addClass(x):$(t.rows).each(function(e){e%2==0?$(this).addClass(x):$(this).removeClass(x)})),t.updatepager(!0,!0),C=!0})),C},footerData:function(n,r,s){function e(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var o,a,l=!1,d={};return n===undefined&&(n="get"),"boolean"!=typeof s&&(s=!0),n=n.toLowerCase(),this.each(function(){var t,i=this;return!(!i.grid||!i.p.footerrow)&&(("set"!==n||!e(r))&&(l=!0,void $(this.p.colModel).each(function(e){o=this.name,"set"===n?r[o]!==undefined&&(t=s?i.formatter("",r[o],e,r,"edit"):r[o],a=this.title?{title:$.jgrid.stripHtml(t)}:{},$("tr.footrow td:eq("+e+")",i.grid.sDiv).html(t).attr(a),l=!0):"get"===n&&(d[o]=$("tr.footrow td:eq("+e+")",i.grid.sDiv).html())})))}),"get"===n?d:l},showHideCol:function(l,d){return this.each(function(){var t,i=this,n=!1,r=$.jgrid.cell_width?0:i.p.cellLayout;if(i.grid){"string"==typeof l&&(l=[l]);var s=""===(d="none"!==d?"":"none"),e=i.p.groupHeader&&($.isArray(i.p.groupHeader)||$.isFunction(i.p.groupHeader));if(e&&$(i).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(e){if(-1!==$.inArray(this.name,l)&&this.hidden===s){if(!0===i.p.frozenColumns&&!0===this.frozen)return!0;$("tr[role=row]",i.grid.hDiv).each(function(){$(this.cells[e]).css("display",d)}),$(i.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[e]).css("display",d)}),i.p.footerrow&&$("tr.footrow td:eq("+e+")",i.grid.sDiv).css("display",d),t=parseInt(this.width,10),"none"===d?i.p.tblwidth-=t+r:i.p.tblwidth+=t+r,this.hidden=!s,n=!0,$(i).triggerHandler("jqGridShowHideCol",[s,this.name,e])}}),!0===n&&(!0!==i.p.shrinkToFit||isNaN(i.p.height)||(i.p.tblwidth+=parseInt(i.p.scrollOffset,10)),$(i).jqGrid("setGridWidth",!0===i.p.shrinkToFit?i.p.tblwidth:i.p.width)),e){var o=$.extend([],i.p.groupHeader);i.p.groupHeader=null;for(var a=0;a<o.length;a++)$(i).jqGrid("setGroupHeaders",o[a])}}})},hideCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"none")})},showCol:function(e){return this.each(function(){$(this).jqGrid("showHideCol",e,"")})},remapColumns:function(n,e,t){function i(t){var i;i=t.length?$.makeArray(t):$.extend({},t),$.each(n,function(e){t[e]=i[this]})}function r(e,t){$(">tr"+(t||""),e).each(function(){var t=this,i=$.makeArray(t.cells);$.each(n,function(){var e=i[this];e&&t.appendChild(e)})})}var s=this.get(0);i(s.p.colModel),i(s.p.colNames),i(s.grid.headers),r($("thead:first",s.grid.hDiv),t&&":not(.ui-jqgrid-labels)"),e&&r($("#"+$.jgrid.jqID(s.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),s.p.footerrow&&r($("tbody:first",s.grid.sDiv)),s.p.remapColumns&&(s.p.remapColumns.length?i(s.p.remapColumns):s.p.remapColumns=$.makeArray(n)),s.p.lastsort=$.inArray(s.p.lastsort,n),s.p.treeGrid&&(s.p.expColInd=$.inArray(s.p.expColInd,n)),$(s).triggerHandler("jqGridRemapColumns",[n,e,t])},setGridWidth:function(f,g){return this.each(function(){if(this.grid){var t,i,n,e,r=this,s=0,o=$.jgrid.cell_width?0:r.p.cellLayout,a=0,l=!1,d=r.p.scrollOffset,c=0,u="Bootstrap"===r.p.styleUI?2:0;if("boolean"!=typeof g&&(g=r.p.shrinkToFit),!isNaN(f)){if(f=parseInt(f,10),r.grid.width=r.p.width=f,$("#gbox_"+$.jgrid.jqID(r.p.id)).css("width",f+"px"),$("#gview_"+$.jgrid.jqID(r.p.id)).css("width",f+"px"),$(r.grid.bDiv).css("width",f-u+"px"),$(r.grid.hDiv).css("width",f-u+"px"),r.p.pager&&$(r.p.pager).css("width",f+"px"),r.p.toppager&&$(r.p.toppager).css("width",f-u+"px"),!0===r.p.toolbar[0]&&($(r.grid.uDiv).css("width",f-u+"px"),"both"===r.p.toolbar[1]&&$(r.grid.ubDiv).css("width",f-u+"px")),r.p.footerrow&&$(r.grid.sDiv).css("width",f-u+"px"),!1===g&&!0===r.p.forceFit&&(r.p.forceFit=!1),!0===g){if($.each(r.p.colModel,function(){!1===this.hidden&&(t=this.widthOrg,s+=t+o,this.fixed?c+=t+o:a++)}),0===a)return;r.p.tblwidth=s,n=f-o*a-c,isNaN(r.p.height)||($(r.grid.bDiv)[0].clientHeight<$(r.grid.bDiv)[0].scrollHeight||1===r.rows.length)&&(l=!0,n-=d);var p=(s=0)<r.grid.cols.length;if($.each(r.p.colModel,function(e){if(!1===this.hidden&&!this.fixed){if(t=this.widthOrg,(t=Math.round(n*t/(r.p.tblwidth-o*a-c)))<0)return;this.width=t,s+=t,r.grid.headers[e].width=t,r.grid.headers[e].el.style.width=t+"px",r.p.footerrow&&(r.grid.footers[e].style.width=t+"px"),p&&(r.grid.cols[e].style.width=t+"px"),i=e}}),!i)return;if(e=0,l?f-c-(s+o*a)!==d&&(e=f-c-(s+o*a)-d):1!==Math.abs(f-c-(s+o*a))&&(e=f-c-(s+o*a)),r.p.colModel[i].width+=e,r.p.tblwidth=s+e+o*a+c,r.p.tblwidth>f){var h=r.p.tblwidth-parseInt(f,10);r.p.tblwidth=f,t=r.p.colModel[i].width=r.p.colModel[i].width-h}else t=r.p.colModel[i].width;r.grid.headers[i].width=t,r.grid.headers[i].el.style.width=t+"px",p&&(r.grid.cols[i].style.width=t+"px"),r.p.footerrow&&(r.grid.footers[i].style.width=t+"px")}r.p.tblwidth&&($("table:first",r.grid.bDiv).css("width",r.p.tblwidth+"px"),$("table:first",r.grid.hDiv).css("width",r.p.tblwidth+"px"),r.grid.hDiv.scrollLeft=r.grid.bDiv.scrollLeft,r.p.footerrow&&$("table:first",r.grid.sDiv).css("width",r.p.tblwidth+"px"))}}})},setGridHeight:function(i){return this.each(function(){var e=this;if(e.grid){var t=$(e.grid.bDiv);t.css({height:i+(isNaN(i)?"":"px")}),!0===e.p.frozenColumns&&$("#"+$.jgrid.jqID(e.p.id)+"_frozen").parent().height(t.height()-16),e.p.height=i,e.p.scroll&&e.grid.populateVisible()}})},setCaption:function(t){return this.each(function(){var e=$(this).jqGrid("getStyleUI",this.p.styleUI+".common","cornertop",!0);this.p.caption=t,$(".ui-jqgrid-title, .ui-jqgrid-title-rtl",this.grid.cDiv).html(t),$(this.grid.cDiv).show(),$(this.grid.hDiv).removeClass(e)})},setLabel:function(r,s,o,a){return this.each(function(){var e=this,t=-1;if(e.grid&&null!=r&&(isNaN(r)?$(e.p.colModel).each(function(e){if(this.name===r)return t=e,!1}):t=parseInt(r,10),0<=t)){var i=$("tr.ui-jqgrid-labels th:eq("+t+")",e.grid.hDiv);if(s){var n=$(".s-ico",i);$("[id^=jqgh_]",i).empty().html(s).append(n),e.p.colNames[t]=s}o&&("string"==typeof o?$(i).addClass(o):$(i).css(o)),"object"==typeof a&&$(i).attr(a)}})},setCell:function(c,u,p,h,f,g){return this.each(function(){var e,t,i=this,n=-1;if(i.grid&&(isNaN(u)?$(i.p.colModel).each(function(e){if(this.name===u)return n=e,!1}):n=parseInt(u,10),0<=n)){var r=$(i).jqGrid("getGridRowById",c);if(r){var s=$("td:eq("+n+")",r),o=0,a=[];if(""!==p||!0===g){if(r.cells!==undefined)for(;o<r.cells.length;)a.push(r.cells[o].innerHTML),o++;if(e=i.formatter(c,p,n,a,"edit"),t=i.p.colModel[n].title?{title:$.jgrid.stripHtml(e)}:{},i.p.treeGrid&&0<$(".tree-wrap",$(s)).length?$("span",$(s)).html(e).attr(t):$(s).html(e).attr(t),"local"===i.p.datatype){var l,d=i.p.colModel[n];p=d.formatter&&"string"==typeof d.formatter&&"date"===d.formatter?$.unformat.date.call(i,p,d):p,(l=i.p._index[$.jgrid.stripPref(i.p.idPrefix,c)])!==undefined&&(i.p.data[l][d.name]=p)}}"string"==typeof h?$(s).addClass(h):h&&$(s).css(h),"object"==typeof f&&$(s).attr(f)}}})},getCell:function(r,s){var o=!1;return this.each(function(){var t=this,i=-1;if(t.grid&&(isNaN(s)?$(t.p.colModel).each(function(e){if(this.name===s)return i=e,!1}):i=parseInt(s,10),0<=i)){var n=$(t).jqGrid("getGridRowById",r);if(n)try{o=$.unformat.call(t,$("td:eq("+i+")",n),{rowId:n.id,colModel:t.p.colModel[i]},i)}catch(e){o=$.jgrid.htmlDecode($("td:eq("+i+")",n).html())}}}),o},getCol:function(o,a,l){var d,c,u,p,h=[],f=0;return a="boolean"==typeof a&&a,l===undefined&&(l=!1),this.each(function(){var t=this,i=-1;if(t.grid&&(isNaN(o)?$(t.p.colModel).each(function(e){if(this.name===o)return i=e,!1}):i=parseInt(o,10),0<=i)){var n=t.rows.length,r=0,s=0;if(n&&0<n){for(;r<n;){if($(t.rows[r]).hasClass("jqgrow")){try{d=$.unformat.call(t,$(t.rows[r].cells[i]),{rowId:t.rows[r].id,colModel:t.p.colModel[i]},i)}catch(e){d=$.jgrid.htmlDecode(t.rows[r].cells[i].innerHTML)}l?(p=parseFloat(d),isNaN(p)||(f+=p,u===undefined&&(u=c=p),c=Math.min(c,p),u=Math.max(u,p),s++)):a?h.push({id:t.rows[r].id,value:d}):h.push(d)}r++}if(l)switch(l.toLowerCase()){case"sum":h=f;break;case"avg":h=f/s;break;case"count":h=n-1;break;case"min":h=c;break;case"max":h=u}}}}),h},clearGridData:function(i){return this.each(function(){var e=this;if(e.grid){if("boolean"!=typeof i&&(i=!1),e.p.deepempty)$("#"+$.jgrid.jqID(e.p.id)+" tbody:first tr:gt(0)").remove();else{var t=$("#"+$.jgrid.jqID(e.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(e.p.id)+" tbody:first").empty().append(t)}e.p.footerrow&&i&&$(".ui-jqgrid-ftable td",e.grid.sDiv).html("&#160;"),e.p.selrow=null,e.p.selarrrow=[],e.p.savedRow=[],e.p.records=0,e.p.page=1,e.p.lastpage=0,e.p.reccount=0,e.p.data=[],e.p._index={},e.updatepager(!0,!1)}})},getInd:function(e,t){var i,n=!1;return this.each(function(){(i=$(this).jqGrid("getGridRowById",e))&&(n=!0===t?i:i.rowIndex)}),n},bindKeys:function(e){var a=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var o=this;$("body").is("[role]")||$("body").attr("role","application"),o.p.scrollrows=a.scrollingRows,$(o).keydown(function(e){var t,i,n,r=$(o).find("tr[tabindex=0]")[0],s=o.p.treeReader.expanded_field;if(r)if(n=o.p._index[$.jgrid.stripPref(o.p.idPrefix,r.id)],37===e.keyCode||38===e.keyCode||39===e.keyCode||40===e.keyCode){if(38===e.keyCode){if(t="",i=r.previousSibling)if($(i).is(":hidden")){for(;i;)if(i=i.previousSibling,!$(i).is(":hidden")&&$(i).hasClass("jqgrow")){t=i.id;break}}else t=i.id;$(o).jqGrid("setSelection",t,!0,e),e.preventDefault()}if(40===e.keyCode){if(t="",i=r.nextSibling)if($(i).is(":hidden")){for(;i;)if(i=i.nextSibling,!$(i).is(":hidden")&&$(i).hasClass("jqgrow")){t=i.id;break}}else t=i.id;$(o).jqGrid("setSelection",t,!0,e),e.preventDefault()}37===e.keyCode&&(o.p.treeGrid&&o.p.data[n][s]&&$(r).find("div.treeclick").trigger("click"),$(o).triggerHandler("jqGridKeyLeft",[o.p.selrow]),$.isFunction(a.onLeftKey)&&a.onLeftKey.call(o,o.p.selrow)),39===e.keyCode&&(o.p.treeGrid&&!o.p.data[n][s]&&$(r).find("div.treeclick").trigger("click"),$(o).triggerHandler("jqGridKeyRight",[o.p.selrow]),$.isFunction(a.onRightKey)&&a.onRightKey.call(o,o.p.selrow))}else 13===e.keyCode?($(o).triggerHandler("jqGridKeyEnter",[o.p.selrow]),$.isFunction(a.onEnter)&&a.onEnter.call(o,o.p.selrow)):32===e.keyCode&&($(o).triggerHandler("jqGridKeySpace",[o.p.selrow]),$.isFunction(a.onSpace)&&a.onSpace.call(o,o.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(e){var t,i=!1;return this.each(function(){e!==undefined&&0<=(t=this.p._index[$.jgrid.stripPref(this.p.idPrefix,e)])&&(i=this.p.data[t])}),i},progressBar:function(s){return s=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},s||{}),this.each(function(){var e,t,i="show"===s.method,n=$("#load_"+$.jgrid.jqID(this.p.id)),r=$(window).scrollTop();switch(""!==s.htmlcontent&&n.html(s.htmlcontent),s.loadtype){case"disable":break;case"enable":n.toggle(i);break;case"block":$("#lui_"+$.jgrid.jqID(this.p.id)).toggle(i),n.toggle(i)}n.is(":visible")&&(e=n.offsetParent(),n.css("top",""),n.offset().top<r&&(t=Math.min(10+r-e.offset().top,e.height()-n.height()),n.css("top",t+"px")))})},getColProp:function(e){var t={},i=this[0];if(!i.grid)return!1;var n,r=i.p.colModel;for(n=0;n<r.length;n++)if(r[n].name===e){t=r[n];break}return t},setColProp:function(i,n){return this.each(function(){if(this.grid&&n){var e,t=this.p.colModel;for(e=0;e<t.length;e++)if(t[e].name===i){$.extend(!0,this.p.colModel[e],n);break}}})},sortGrid:function(s,o,a){return this.each(function(){var e,t=this,i=-1,n=!1;if(t.grid){for(s||(s=t.p.sortname),e=0;e<t.p.colModel.length;e++)if(t.p.colModel[e].index===s||t.p.colModel[e].name===s){i=e,!0===t.p.frozenColumns&&!0===t.p.colModel[e].frozen&&(n=t.grid.fhDiv.find("#"+t.p.id+"_"+s));break}if(-1!==i){var r=t.p.colModel[i].sortable;n||(n=t.grid.headers[i].el),"boolean"!=typeof r&&(r=!0),"boolean"!=typeof o&&(o=!1),r&&t.sortData("jqgh_"+t.p.id+"_"+s,i,o,a,n)}}})},setGridState:function(n){return this.each(function(){if(this.grid){var e=this,t=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_open",!0),i=$(this).jqGrid("getStyleUI",this.p.styleUI+".base","icon_caption_close",!0);"hidden"===n?($(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+$.jgrid.jqID(e.p.id)).slideUp("fast"),e.p.pager&&$(e.p.pager).slideUp("fast"),e.p.toppager&&$(e.p.toppager).slideUp("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&$(e.grid.ubDiv).slideUp("fast"),$(e.grid.uDiv).slideUp("fast")),e.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(e.p.id)).slideUp("fast"),$(".ui-jqgrid-headlink",e.grid.cDiv).removeClass(t).addClass(i),e.p.gridstate="hidden"):"visible"===n&&($(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(e.p.id)).slideDown("fast"),e.p.pager&&$(e.p.pager).slideDown("fast"),e.p.toppager&&$(e.p.toppager).slideDown("fast"),!0===e.p.toolbar[0]&&("both"===e.p.toolbar[1]&&$(e.grid.ubDiv).slideDown("fast"),$(e.grid.uDiv).slideDown("fast")),e.p.footerrow&&$(".ui-jqgrid-sdiv","#gbox_"+$.jgrid.jqID(e.p.id)).slideDown("fast"),$(".ui-jqgrid-headlink",e.grid.cDiv).removeClass(i).addClass(t),e.p.gridstate="visible")}})},setFrozenColumns:function(){return this.each(function(){if(this.grid){var o=this,e=o.p.colModel,t=0,i=e.length,n=-1,r=!1,s=$(o).jqGrid("getStyleUI",o.p.styleUI+".base","headerDiv",!0,"ui-jqgrid-hdiv"),a=$(o).jqGrid("getStyleUI",o.p.styleUI+".common","hover",!0);if(!0!==o.p.subGrid&&!0!==o.p.treeGrid&&!0!==o.p.cellEdit&&!o.p.sortable&&!o.p.scroll){for(o.p.rownumbers&&t++,o.p.multiselect&&t++;t<i&&!0===e[t].frozen;)r=!0,n=t,t++;if(0<=n&&r){var l=o.p.caption?$(o.grid.cDiv).outerHeight():0,d=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(o.p.id)).height();o.p.toppager&&(l+=$(o.grid.topDiv).outerHeight()),!0===o.p.toolbar[0]&&"bottom"!==o.p.toolbar[1]&&(l+=$(o.grid.uDiv).outerHeight()),o.grid.fhDiv=$('<div style="position:absolute;'+("rtl"===o.p.direction?"right:0;":"left:0;")+"top:"+l+"px;height:"+d+'px;" class="frozen-div '+s+'"></div>'),o.grid.fbDiv=$('<div style="position:absolute;'+("rtl"===o.p.direction?"right:0;":"left:0;")+"top:"+(parseInt(l,10)+parseInt(d,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"></div>'),$("#gview_"+$.jgrid.jqID(o.p.id)).append(o.grid.fhDiv);var c=$(".ui-jqgrid-htable","#gview_"+$.jgrid.jqID(o.p.id)).clone(!0);if(o.p.groupHeader){$("tr.jqg-first-row-header, tr.jqg-third-row-header",c).each(function(){$("th:gt("+n+")",this).remove()});var u,p=-1,h=-1;$("tr.jqg-second-row-header th",c).each(function(){if(u=parseInt($(this).attr("colspan"),10),parseInt($(this).attr("rowspan"),10)&&(p++,h++),u&&(p+=u,h++),p===n)return h=n,!1}),p!==n&&(h=n),$("tr.jqg-second-row-header",c).each(function(){$("th:gt("+h+")",this).remove()})}else $("tr",c).each(function(){$("th:gt("+n+")",this).remove()});if($(c).width(1),$.jgrid.msie()||$(c).css("height","100%"),$(o.grid.fhDiv).append(c).mousemove(function(e){if(o.grid.resizing)return o.grid.dragMove(e),!1}),o.p.footerrow){var f=$(".ui-jqgrid-bdiv","#gview_"+$.jgrid.jqID(o.p.id)).height();o.grid.fsDiv=$('<div style="position:absolute;left:0px;top:'+(parseInt(l,10)+parseInt(d,10)+parseInt(f,10)+1)+'px;" class="frozen-sdiv ui-jqgrid-sdiv"></div>'),$("#gview_"+$.jgrid.jqID(o.p.id)).append(o.grid.fsDiv);var g=$(".ui-jqgrid-ftable","#gview_"+$.jgrid.jqID(o.p.id)).clone(!0);$("tr",g).each(function(){$("td:gt("+n+")",this).remove()}),$(g).width(1),$(o.grid.fsDiv).append(g)}$(o).bind("jqGridResizeStop.setFrozenColumns",function(e,t,i){var n=$(".ui-jqgrid-htable",o.grid.fhDiv);$("th:eq("+i+")",n).width(t);var r=$(".ui-jqgrid-btable",o.grid.fbDiv);if($("tr:first td:eq("+i+")",r).width(t),o.p.footerrow){var s=$(".ui-jqgrid-ftable",o.grid.fsDiv);$("tr:first td:eq("+i+")",s).width(t)}}),$("#gview_"+$.jgrid.jqID(o.p.id)).append(o.grid.fbDiv),$(o.grid.fbDiv).bind("mousewheel DOMMouseScroll",function(e){var t=$(o.grid.bDiv).scrollTop();0<e.originalEvent.wheelDelta||e.originalEvent.detail<0?$(o.grid.bDiv).scrollTop(t-25):$(o.grid.bDiv).scrollTop(t+25),e.preventDefault()}),!0===o.p.hoverrows&&$("#"+$.jgrid.jqID(o.p.id)).unbind("mouseover").unbind("mouseout"),$(o).bind("jqGridAfterGridComplete.setFrozenColumns",function(){$("#"+$.jgrid.jqID(o.p.id)+"_frozen").remove(),$(o.grid.fbDiv).height($(o.grid.bDiv).height()-14);var t=[];$("#"+$.jgrid.jqID(o.p.id)+" tr[role=row].jqgrow").each(function(){t.push($("td:visible:first",this).height())});var e=$("#"+$.jgrid.jqID(o.p.id)).clone(!0);$("tr[role=row]",e).each(function(){$("td[role=gridcell]:gt("+n+")",this).remove()}),$(e).width(1).attr("id",o.p.id+"_frozen"),$(o.grid.fbDiv).append(e),$("tr[role=row].jqgrow",e).each(function(e){$("td:not(.jqgrid-rownum):visible:first",this).height(t[e])}),!0===o.p.hoverrows&&($("tr.jqgrow",e).hover(function(){$(this).addClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(o.p.id)).addClass(a)},function(){$(this).removeClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(o.p.id)).removeClass(a)}),$("tr.jqgrow","#"+$.jgrid.jqID(o.p.id)).hover(function(){$(this).addClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(o.p.id)+"_frozen").addClass(a)},function(){$(this).removeClass(a),$("#"+$.jgrid.jqID(this.id),"#"+$.jgrid.jqID(o.p.id)+"_frozen").removeClass(a)})),e=null}),o.grid.hDiv.loading||$(o).triggerHandler("jqGridAfterGridComplete"),o.p.frozenColumns=!0}}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){var t,e=this,i=$(e).jqGrid("getStyleUI",e.p.styleUI+".common","hover",!0);if($(e.grid.fhDiv).remove(),$(e.grid.fbDiv).remove(),e.grid.fhDiv=null,e.grid.fbDiv=null,e.p.footerrow&&($(e.grid.fsDiv).remove(),e.grid.fsDiv=null),$(this).unbind(".setFrozenColumns"),!0===e.p.hoverrows)$("#"+$.jgrid.jqID(e.p.id)).bind("mouseover",function(e){t=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$(t).attr("class")&&$(t).addClass(i)}).bind("mouseout",function(e){t=$(e.target).closest("tr.jqgrow"),$(t).removeClass(i)});this.p.frozenColumns=!1}})},resizeColumn:function(o,a){return this.each(function(){var e,t,i=this.grid,n=this.p,r=n.colModel,s=r.length;if("string"==typeof o){for(e=0;e<s;e++)if(r[e].name===o){o=e;break}}else o=parseInt(o,10);if(a=parseInt(a,10),!("number"!=typeof o||o<0||o>r.length-1||"number"!=typeof a||a<n.minColWidth)){if(n.forceFit)for(n.nv=0,e=o+1;e<s;e++)if(!0!==r[e].hidden){n.nv=e-o;break}if(i.resizing={idx:o},t=a-i.headers[o].width,n.forceFit){if(i.headers[o+n.nv].width-t<n.minColWidth)return;i.headers[o+n.nv].newWidth=i.headers[o+n.nv].width-t}i.newWidth=n.tblwidth+t,i.headers[o].newWidth=a,i.dragEnd(!1)}})},getStyleUI:function(e,t,i,n){var r="",s="";try{var o=e.split(".");switch(i||(r="class=",s='"'),null==n&&(n=""),o.length){case 1:r+=s+$.trim(n+" "+$.jgrid.styleUI[o[0]][t]+s);break;case 2:r+=s+$.trim(n+" "+$.jgrid.styleUI[o[0]][o[1]][t]+s)}}catch(a){r=""}return r},resizeGrid:function(t){return this.each(function(){var r=this;t===undefined&&(t=500),setTimeout(function(){try{var t=$(window).width(),i=$("#gbox_"+$.jgrid.jqID(r.p.id)).parent().width(),n=r.p.width;n=3<t-i?i:t,$("#"+$.jgrid.jqID(r.p.id)).jqGrid("setGridWidth",n)}catch(e){}},t)})}}),$.jgrid.extend({editCell:function(p,h,f){return this.each(function(){var e,t,i,n,r=this,s=$(this).jqGrid("getStyleUI",r.p.styleUI+".common","highlight",!0),o=$(this).jqGrid("getStyleUI",r.p.styleUI+".common","hover",!0),a=$(this).jqGrid("getStyleUI",r.p.styleUI+".celledit","inputClass",!0);if(r.grid&&!0===r.p.cellEdit){if(h=parseInt(h,10),r.p.selrow=r.rows[p].id,r.p.knv||$(r).jqGrid("GridNav"),0<r.p.savedRow.length){if(!0===f&&p==r.p.iRow&&h==r.p.iCol)return;$(r).jqGrid("saveCell",r.p.savedRow[0].id,r.p.savedRow[0].ic)}else window.setTimeout(function(){$("#"+$.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},1);if("subgrid"!==(e=(n=r.p.colModel[h]).name)&&"cb"!==e&&"rn"!==e){if(i=$("td:eq("+h+")",r.rows[p]),!0!==n.editable||!0!==f||i.hasClass("not-editable-cell")||$.isFunction(r.p.isCellEditable)&&!r.p.isCellEditable.call(r,e,p,h))0<=parseInt(r.p.iCol,10)&&0<=parseInt(r.p.iRow,10)&&$(r.rows[r.p.iRow]).removeClass("selected-row "+o).find("td:eq("+r.p.iCol+")").removeClass("edit-cell "+s),i.addClass("edit-cell "+s),$(r.rows[p]).addClass("selected-row "+o),t=i.html().replace(/\&#160\;/gi,""),$(r).triggerHandler("jqGridSelectCell",[r.rows[p].id,e,t,p,h]),$.isFunction(r.p.onSelectCell)&&r.p.onSelectCell.call(r,r.rows[p].id,e,t,p,h);else{0<=parseInt(r.p.iCol,10)&&0<=parseInt(r.p.iRow,10)&&$(r.rows[r.p.iRow]).removeClass("selected-row "+o).find("td:eq("+r.p.iCol+")").removeClass("edit-cell "+s),$(i).addClass("edit-cell "+s),$(r.rows[p]).addClass("selected-row "+o);try{t=$.unformat.call(r,i,{rowId:r.rows[p].id,colModel:n},h)}catch(u){t=n.edittype&&"textarea"===n.edittype?$(i).text():$(i).html()}if(r.p.autoencode&&(t=$.jgrid.htmlDecode(t)),n.edittype||(n.edittype="text"),r.p.savedRow.push({id:p,ic:h,name:e,v:t}),("&nbsp;"===t||"&#160;"===t||1===t.length&&160===t.charCodeAt(0))&&(t=""),$.isFunction(r.p.formatCell)){var l=r.p.formatCell.call(r,r.rows[p].id,e,t,p,h);l!==undefined&&(t=l)}$(r).triggerHandler("jqGridBeforeEditCell",[r.rows[p].id,e,t,p,h]),$.isFunction(r.p.beforeEditCell)&&r.p.beforeEditCell.call(r,r.rows[p].id,e,t,p,h);var d=$.extend({},n.editoptions||{},{id:p+"_"+e,name:e,rowId:r.rows[p].id,oper:"edit"}),c=$.jgrid.createEl.call(r,n.edittype,d,t,!0,$.extend({},$.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{}));-1<$.inArray(n.edittype,["text","textarea","password","select"])&&$(c).addClass(a),$(i).html("").append(c).attr("tabindex","0"),$.jgrid.bindEv.call(r,c,d),window.setTimeout(function(){$(c).focus()},1),$("input, select, textarea",i).bind("keydown",function(e){if(27===e.keyCode&&(0<$("input.hasDatepicker",i).length?$(".ui-datepicker").is(":hidden")?$(r).jqGrid("restoreCell",p,h):$("input.hasDatepicker",i).datepicker("hide"):$(r).jqGrid("restoreCell",p,h)),13===e.keyCode&&!e.shiftKey)return $(r).jqGrid("saveCell",p,h),!1;if(9===e.keyCode){if(r.grid.hDiv.loading)return!1;e.shiftKey?$(r).jqGrid("prevCell",p,h):$(r).jqGrid("nextCell",p,h)}e.stopPropagation()}),$(r).triggerHandler("jqGridAfterEditCell",[r.rows[p].id,e,t,p,h]),$.isFunction(r.p.afterEditCell)&&r.p.afterEditCell.call(r,r.rows[p].id,e,t,p,h)}r.p.iCol=h,r.p.iRow=p}}})},saveCell:function(D,k){return this.each(function(){var t,n=this,r=$.jgrid.getRegional(this,"errors"),s=$.jgrid.getRegional(this,"edit");if(n.grid&&!0===n.p.cellEdit){if(null!==(t=1<=n.p.savedRow.length?0:null)){var o,a,l=$("td:eq("+k+")",n.rows[D]),i=n.p.colModel[k],d=i.name,c=$.jgrid.jqID(d),u=$(l).offset();switch(i.edittype){case"select":if(i.editoptions.multiple){var p=$("#"+D+"_"+c,n.rows[D]),h=[];(o=$(p).val())?o.join(","):o="",$("option:selected",p).each(function(e,t){h[e]=$(t).text()}),a=h.join(",")}else o=$("#"+D+"_"+c+" option:selected",n.rows[D]).val(),a=$("#"+D+"_"+c+" option:selected",n.rows[D]).text();i.formatter&&(a=o);break;case"checkbox":var f=["Yes","No"];i.editoptions&&(f=i.editoptions.value.split(":")),o=$("#"+D+"_"+c,n.rows[D]).is(":checked")?f[0]:f[1],a=o;break;case"password":case"text":case"textarea":case"button":o=$("#"+D+"_"+c,n.rows[D]).val(),a=o;break;case"custom":try{if(!i.editoptions||!$.isFunction(i.editoptions.custom_value))throw"e1";if((o=i.editoptions.custom_value.call(n,$(".customelement",l),"get"))===undefined)throw"e2";a=o}catch(e){"e1"===e?$.jgrid.info_dialog(r.errcap,"function 'custom_value' "+s.msg.nodefined,s.bClose,{styleUI:n.p.styleUI}):"e2"===e?$.jgrid.info_dialog(r.errcap,"function 'custom_value' "+s.msg.novalue,s.bClose,{styleUI:n.p.styleUI}):$.jgrid.info_dialog(r.errcap,e.message,s.bClose,{
styleUI:n.p.styleUI})}}if(a!==n.p.savedRow[t].v){var g=$(n).triggerHandler("jqGridBeforeSaveCell",[n.rows[D].id,d,o,D,k]);if(g&&(a=o=g),$.isFunction(n.p.beforeSaveCell)){var m=n.p.beforeSaveCell.call(n,n.rows[D].id,d,o,D,k);m&&(a=o=m)}var v=$.jgrid.checkValues.call(n,o,k),b=!1;if(!0===v[0]){var _=$(n).triggerHandler("jqGridBeforeSubmitCell",[n.rows[D].id,d,o,D,k])||{};if($.isFunction(n.p.beforeSubmitCell)&&((_=n.p.beforeSubmitCell.call(n,n.rows[D].id,d,o,D,k))||(_={})),0<$("input.hasDatepicker",l).length&&$("input.hasDatepicker",l).datepicker("hide"),"remote"===n.p.cellsubmit)if(n.p.cellurl){var y,w,x,j={};n.p.autoencode&&(o=$.jgrid.htmlEncode(o)),i.editoptions&&i.editoptions.NullIfEmpty&&""===o&&(o="null",b=!0),j[d]=o,y=(x=n.p.prmNames).id,w=x.oper,j[y]=$.jgrid.stripPref(n.p.idPrefix,n.rows[D].id),j[w]=x.editoper,j=$.extend(_,j),$(n).jqGrid("progressBar",{method:"show",loadtype:n.p.loadui,htmlcontent:$.jgrid.getRegional(n,"defaults.savetext")}),n.grid.hDiv.loading=!0,$.ajax($.extend({url:n.p.cellurl,data:$.isFunction(n.p.serializeCellData)?n.p.serializeCellData.call(n,j,d):j,type:"POST",complete:function(e,t){if($(n).jqGrid("progressBar",{method:"hide",loadtype:n.p.loadui}),n.grid.hDiv.loading=!1,"success"===t){var i=$(n).triggerHandler("jqGridAfterSubmitCell",[n,e,j.id,d,o,D,k])||[!0,""];!0===i[0]&&$.isFunction(n.p.afterSubmitCell)&&(i=n.p.afterSubmitCell.call(n,e,j.id,d,o,D,k)),!0===i[0]?(b&&(o=""),$(l).empty(),$(n).jqGrid("setCell",n.rows[D].id,k,a,!1,!1,!0),$(l).addClass("dirty-cell"),$(n.rows[D]).addClass("edited"),$(n).triggerHandler("jqGridAfterSaveCell",[n.rows[D].id,d,o,D,k]),$.isFunction(n.p.afterSaveCell)&&n.p.afterSaveCell.call(n,n.rows[D].id,d,o,D,k),n.p.savedRow.splice(0,1)):($.jgrid.info_dialog(r.errcap,i[1],s.bClose,{styleUI:n.p.styleUI}),n.p.restoreCellonFail&&$(n).jqGrid("restoreCell",D,k))}},error:function(e,t,i){$("#lui_"+$.jgrid.jqID(n.p.id)).hide(),n.grid.hDiv.loading=!1,$(n).triggerHandler("jqGridErrorCell",[e,t,i]),$.isFunction(n.p.errorCell)?n.p.errorCell.call(n,e,t,i):$.jgrid.info_dialog(r.errcap,e.status+" : "+e.statusText+"<br/>"+t,s.bClose,{styleUI:n.p.styleUI}),n.p.restoreCellonFail&&$(n).jqGrid("restoreCell",D,k)}},$.jgrid.ajaxOptions,n.p.ajaxCellOptions||{}))}else try{$.jgrid.info_dialog(r.errcap,r.nourl,s.bClose,{styleUI:n.p.styleUI}),n.p.restoreCellonFail&&$(n).jqGrid("restoreCell",D,k)}catch(e){}"clientArray"===n.p.cellsubmit&&($(l).empty(),$(n).jqGrid("setCell",n.rows[D].id,k,a,!1,!1,!0),$(l).addClass("dirty-cell"),$(n.rows[D]).addClass("edited"),$(n).triggerHandler("jqGridAfterSaveCell",[n.rows[D].id,d,o,D,k]),$.isFunction(n.p.afterSaveCell)&&n.p.afterSaveCell.call(n,n.rows[D].id,d,o,D,k),n.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){$.jgrid.info_dialog(r.errcap,o+" "+v[1],s.bClose,{styleUI:n.p.styleUI,top:u.top+40,left:u.left})},100),$(n).jqGrid("restoreCell",D,k)}catch(e){}}else $(n).jqGrid("restoreCell",D,k)}window.setTimeout(function(){$("#"+$.jgrid.jqID(n.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(r,s){return this.each(function(){var t,i=this;if(i.grid&&!0===i.p.cellEdit){if(null!==(t=1<=i.p.savedRow.length?0:null)){var n=$("td:eq("+s+")",i.rows[r]);if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker",n).datepicker("hide")}catch(e){}$(n).empty().attr("tabindex","-1"),$(i).jqGrid("setCell",i.rows[r].id,s,i.p.savedRow[t].v,!1,!1,!0),$(i).triggerHandler("jqGridAfterRestoreCell",[i.rows[r].id,i.p.savedRow[t].v,r,s]),$.isFunction(i.p.afterRestoreCell)&&i.p.afterRestoreCell.call(i,i.rows[r].id,i.p.savedRow[t].v,r,s),i.p.savedRow.splice(0,1)}window.setTimeout(function(){$("#"+i.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(n,r){return this.each(function(){var e,t=this,i=!1;if(t.grid&&!0===t.p.cellEdit){for(e=r+1;e<t.p.colModel.length;e++)if(!0===t.p.colModel[e].editable&&(!$.isFunction(t.p.isCellEditable)||t.p.isCellEditable.call(t,t.p.colModel[e].name,n,e))){i=e;break}!1!==i?$(t).jqGrid("editCell",n,i,!0):0<t.p.savedRow.length&&$(t).jqGrid("saveCell",n,r)}})},prevCell:function(n,r){return this.each(function(){var e,t=this,i=!1;if(t.grid&&!0===t.p.cellEdit){for(e=r-1;0<=e;e--)if(!0===t.p.colModel[e].editable&&(!$.isFunction(t.p.isCellEditable)||t.p.isCellEditable.call(t,t.p.colModel[e].name,n,e))){i=e;break}!1!==i?$(t).jqGrid("editCell",n,i,!0):0<t.p.savedRow.length&&$(t).jqGrid("saveCell",n,r)}})},GridNav:function(){return this.each(function(){function t(e,t,i){if("v"===i.substr(0,1)){var n=$(u.grid.bDiv)[0].clientHeight,r=$(u.grid.bDiv)[0].scrollTop,s=u.rows[e].offsetTop+u.rows[e].clientHeight,o=u.rows[e].offsetTop;"vd"===i&&n<=s&&($(u.grid.bDiv)[0].scrollTop=$(u.grid.bDiv)[0].scrollTop+u.rows[e].clientHeight),"vu"===i&&o<r&&($(u.grid.bDiv)[0].scrollTop=$(u.grid.bDiv)[0].scrollTop-u.rows[e].clientHeight)}if("h"===i){var a=$(u.grid.bDiv)[0].clientWidth,l=$(u.grid.bDiv)[0].scrollLeft,d=u.rows[e].cells[t].offsetLeft+u.rows[e].cells[t].clientWidth,c=u.rows[e].cells[t].offsetLeft;d>=a+parseInt(l,10)?$(u.grid.bDiv)[0].scrollLeft=$(u.grid.bDiv)[0].scrollLeft+u.rows[e].cells[t].clientWidth:c<l&&($(u.grid.bDiv)[0].scrollLeft=$(u.grid.bDiv)[0].scrollLeft-u.rows[e].cells[t].clientWidth)}}function i(e,t){var i,n;if("lft"===t)for(i=e+1,n=e;0<=n;n--)if(!0!==u.p.colModel[n].hidden){i=n;break}if("rgt"===t)for(i=e-1,n=e;n<u.p.colModel.length;n++)if(!0!==u.p.colModel[n].hidden){i=n;break}return i}var u=this;if(u.grid&&!0===u.p.cellEdit){u.p.knv=u.p.id+"_kn";var n,r,e=$("<div style='position:fixed;top:0px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+u.p.knv+"'></div></div>");$(e).insertBefore(u.grid.cDiv),$("#"+u.p.knv).focus().keydown(function(e){switch(r=e.keyCode,"rtl"===u.p.direction&&(37===r?r=39:39===r&&(r=37)),r){case 38:0<u.p.iRow-1&&(t(u.p.iRow-1,u.p.iCol,"vu"),$(u).jqGrid("editCell",u.p.iRow-1,u.p.iCol,!1));break;case 40:u.p.iRow+1<=u.rows.length-1&&(t(u.p.iRow+1,u.p.iCol,"vd"),$(u).jqGrid("editCell",u.p.iRow+1,u.p.iCol,!1));break;case 37:0<=u.p.iCol-1&&(n=i(u.p.iCol-1,"lft"),t(u.p.iRow,n,"h"),$(u).jqGrid("editCell",u.p.iRow,n,!1));break;case 39:u.p.iCol+1<=u.p.colModel.length-1&&(n=i(u.p.iCol+1,"rgt"),t(u.p.iRow,n,"h"),$(u).jqGrid("editCell",u.p.iRow,n,!1));break;case 13:0<=parseInt(u.p.iCol,10)&&0<=parseInt(u.p.iRow,10)&&$(u).jqGrid("editCell",u.p.iRow,u.p.iCol,!0);break;default:return!0}return!1})}})},getChangedCells:function(o){var t=[];return o||(o="all"),this.each(function(){var r,s=this;s.grid&&!0===s.p.cellEdit&&$(s.rows).each(function(i){var n={};$(this).hasClass("edited")&&($("td",this).each(function(t){if("cb"!==(r=s.p.colModel[t].name)&&"subgrid"!==r)if("dirty"===o){if($(this).hasClass("dirty-cell"))try{n[r]=$.unformat.call(s,this,{rowId:s.rows[i].id,colModel:s.p.colModel[t]},t)}catch(e){n[r]=$.jgrid.htmlDecode($(this).html())}}else try{n[r]=$.unformat.call(s,this,{rowId:s.rows[i].id,colModel:s.p.colModel[t]},t)}catch(e){n[r]=$.jgrid.htmlDecode($(this).html())}}),n.id=this.id,t.push(n))})}),t}}),$.extend($.jgrid,{showModal:function(e){e.w.show()},closeModal:function(e){e.w.hide().attr("aria-hidden","true"),e.o&&e.o.remove()},hideModal:function(t,i){var n=!(!(i=$.extend({jqm:!0,gb:"",removemodal:!1,formprop:!1,form:""},i||{})).gb||"string"!=typeof i.gb||"#gbox_"!==i.gb.substr(0,6))&&$("#"+i.gb.substr(6))[0];if(i.onClose){var r=n?i.onClose.call(n,t):i.onClose(t);if("boolean"==typeof r&&!r)return}if(i.formprop&&n&&i.form){var s,o,a=$(t)[0].style.height,l=$(t)[0].style.width;-1<a.indexOf("px")&&(a=parseFloat(a)),-1<l.indexOf("px")&&(l=parseFloat(l)),"edit"===i.form?(s="#"+$.jgrid.jqID("FrmGrid_"+i.gb.substr(6)),o="formProp"):"view"===i.form&&(s="#"+$.jgrid.jqID("ViewGrid_"+i.gb.substr(6)),o="viewProp"),$(n).data(o,{top:parseFloat($(t).css("top")),left:parseFloat($(t).css("left")),width:l,height:a,dataheight:$(s).height(),datawidth:$(s).width()})}if($.fn.jqm&&!0===i.jqm)$(t).attr("aria-hidden","true").jqmHide();else{if(""!==i.gb)try{$(".jqgrid-overlay:first",i.gb).hide()}catch(e){}$(t).hide().attr("aria-hidden","true")}i.removemodal&&$(t).remove()},findPos:function(e){var t=0,i=0;if(e.offsetParent)for(;t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;);return[t,i]},createModal:function(i,t,n,r,s,o,a){n=$.extend(!0,{},$.jgrid.jqModal||{},n);var l=this,d="rtl"===$(n.gbox).attr("dir"),c=$.jgrid.styleUI[n.styleUI||"jQueryUI"].modal,u=$.jgrid.styleUI[n.styleUI||"jQueryUI"].common,p=document.createElement("div");a=$.extend({},a||{}),p.className="ui-jqdialog "+c.modal,p.id=i.themodal;var h=document.createElement("div");h.className="ui-jqdialog-titlebar "+c.header,h.id=i.modalhead,$(h).append("<span class='ui-jqdialog-title'>"+n.caption+"</span>");var f=$("<a class='ui-jqdialog-titlebar-close "+u.cornerall+"'></a>").hover(function(){f.addClass(u.hover)},function(){f.removeClass(u.hover)}).append("<span class='"+u.icon_base+" "+c.icon_close+"'></span>");$(h).append(f),d?(p.dir="rtl",$(".ui-jqdialog-title",h).css("float","right"),$(".ui-jqdialog-titlebar-close",h).css("left","0.3em")):(p.dir="ltr",$(".ui-jqdialog-title",h).css("float","left"),$(".ui-jqdialog-titlebar-close",h).css("right","0.3em"));var g=document.createElement("div");$(g).addClass("ui-jqdialog-content "+c.content).attr("id",i.modalcontent),$(g).append(t),p.appendChild(g),$(p).prepend(h),!0===o?$("body").append(p):"string"==typeof o?$(o).append(p):$(p).insertBefore(r),$(p).css(a),n.jqModal===undefined&&(n.jqModal=!0);var m={};if($.fn.jqm&&!0===n.jqModal){if(0===n.left&&0===n.top&&n.overlay){var v=[];v=$.jgrid.findPos(s),n.left=v[0]+4,n.top=v[1]+4}m.top=n.top+"px",m.left=n.left}else 0===n.left&&0===n.top||(m.left=n.left,m.top=n.top+"px");if($("a.ui-jqdialog-titlebar-close",h).click(function(){var e=$("#"+$.jgrid.jqID(i.themodal)).data("onClose")||n.onClose,t=$("#"+$.jgrid.jqID(i.themodal)).data("gbox")||n.gbox;return l.hideModal("#"+$.jgrid.jqID(i.themodal),{gb:t,jqm:n.jqModal,onClose:e,removemodal:n.removemodal||!1,formprop:!n.recreateForm||!1,form:n.form||""}),!1}),0!==n.width&&n.width||(n.width=300),0!==n.height&&n.height||(n.height=200),!n.zIndex){var b=$(r).parents("*[role=dialog]").filter(":first").css("z-index");n.zIndex=b?parseInt(b,10)+2:950}var _=0;if(d&&m.left&&!o&&(_=$(n.gbox).width()-(isNaN(n.width)?0:parseInt(n.width,10))-8,m.left=parseInt(m.left,10)+parseInt(_,10)),m.left&&(m.left+="px"),$(p).css($.extend({width:isNaN(n.width)?"auto":n.width+"px",height:isNaN(n.height)?"auto":n.height+"px",zIndex:n.zIndex,overflow:"hidden"},m)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":i.modalhead,"aria-hidden":"true"}),n.drag===undefined&&(n.drag=!0),n.resize===undefined&&(n.resize=!0),n.drag)if($(h).css("cursor","move"),$.fn.tinyDraggable)$(p).tinyDraggable({handle:"#"+$.jgrid.jqID(h.id)});else try{$(p).draggable({handle:$("#"+$.jgrid.jqID(h.id))})}catch(e){}if(n.resize)if($.fn.jqResize)$(p).append("<div class='jqResize "+c.resizable+" "+u.icon_base+" "+c.icon_resizable+"'></div>"),$("#"+$.jgrid.jqID(i.themodal)).jqResize(".jqResize",!!i.scrollelm&&"#"+$.jgrid.jqID(i.scrollelm));else try{$(p).resizable({handles:"se, sw",alsoResize:!!i.scrollelm&&"#"+$.jgrid.jqID(i.scrollelm)})}catch(y){}!0===n.closeOnEscape&&$(p).keydown(function(e){if(27===e.which){var t=$("#"+$.jgrid.jqID(i.themodal)).data("onClose")||n.onClose;l.hideModal("#"+$.jgrid.jqID(i.themodal),{gb:n.gbox,jqm:n.jqModal,onClose:t,removemodal:n.removemodal||!1,formprop:!n.recreateForm||!1,form:n.form||""})}})},viewModal:function(e,t){if((t=$.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:$.jgrid.showModal,onHide:$.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},t||{})).focusField===undefined&&(t.focusField=0),"number"==typeof t.focusField&&0<=t.focusField?t.focusField=parseInt(t.focusField,10):"boolean"!=typeof t.focusField||t.focusField?t.focusField=0:t.focusField=!1,$.fn.jqm&&!0===t.jqm)t.jqM?$(e).attr("aria-hidden","false").jqm(t).jqmShow():$(e).attr("aria-hidden","false").jqmShow();else if(""!==t.gbox&&($(".jqgrid-overlay:first",t.gbox).show(),$(e).data("gbox",t.gbox)),$(e).show().attr("aria-hidden","false"),0<=t.focusField)try{$(":input:visible",e)[parseInt(t.focusField,10)].focus()}catch(i){}},info_dialog:function(t,i,n,r){var s={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]};$.extend(!0,s,$.jgrid.jqModal||{},{caption:"<b>"+t+"</b>"},r||{});var o=s.jqModal,a=this,l=$.jgrid.styleUI[s.styleUI||"jQueryUI"].modal,d=$.jgrid.styleUI[s.styleUI||"jQueryUI"].common;$.fn.jqm&&!o&&(o=!1);var c,u="";if(0<s.buttons.length)for(c=0;c<s.buttons.length;c++)s.buttons[c].id===undefined&&(s.buttons[c].id="info_button_"+c),u+="<a id='"+s.buttons[c].id+"' class='fm-button "+d.button+"'>"+s.buttons[c].text+"</a>";var p="<div id='info_id'>";p+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+(isNaN(s.dataheight)?s.dataheight:s.dataheight+"px")+";"+("text-align:"+s.align+";")+"'>"+i+"</div>",p+=n?"<div class='"+l.content+"' style='text-align:"+s.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a id='closedialog' class='fm-button "+d.button+"'>"+n+"</a>"+u+"</div>":""!==u?"<div class='"+l.content+"' style='text-align:"+s.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+u+"</div>":"",p+="</div>";try{"false"===$("#info_dialog").attr("aria-hidden")&&$.jgrid.hideModal("#info_dialog",{jqm:o}),$("#info_dialog").remove()}catch(e){}$.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},p,s,"","",!0),u&&$.each(s.buttons,function(e){$("#"+$.jgrid.jqID(this.id),"#info_id").bind("click",function(){return s.buttons[e].onClick.call($("#info_dialog")),!1})}),$("#closedialog","#info_id").click(function(){return a.hideModal("#info_dialog",{jqm:o,onClose:$("#info_dialog").data("onClose")||s.onClose,gb:$("#info_dialog").data("gbox")||s.gbox}),!1}),$(".fm-button","#info_dialog").hover(function(){$(this).addClass(d.hover)},function(){$(this).removeClass(d.hover)}),$.isFunction(s.beforeOpen)&&s.beforeOpen(),$.jgrid.viewModal("#info_dialog",{onHide:function(e){e.w.hide().remove(),e.o&&e.o.remove()},modal:s.modal,jqm:o}),$.isFunction(s.afterOpen)&&s.afterOpen();try{$("#info_dialog").focus()}catch(m){}},bindEv:function(e,t){var i=this;$.isFunction(t.dataInit)&&t.dataInit.call(i,e,t),t.dataEvents&&$.each(t.dataEvents,function(){this.data!==undefined?$(e).bind(this.type,this.data,this.fn):$(e).bind(this.type,this.fn)})},createEl:function(t,i,n,r,s){function p(i,e,t){var n=["dataInit","dataEvents","dataUrl","buildSelect","sopt","searchhidden","defaultValue","attr","custom_element","custom_value","oper"];t!==undefined&&$.isArray(t)&&$.merge(n,t),$.each(e,function(e,t){-1===$.inArray(e,n)&&$(i).attr(e,t)}),e.hasOwnProperty("id")||$(i).attr("id",$.jgrid.randId())}var o="",h=this;switch(t){case"textarea":o=document.createElement("textarea"),r?i.cols||$(o).css({width:"98%"}):i.cols||(i.cols=20),i.rows||(i.rows=2),("&nbsp;"===n||"&#160;"===n||1===n.length&&160===n.charCodeAt(0))&&(n=""),o.value=n,p(o,i),$(o).attr({role:"textbox",multiline:"true"});break;case"checkbox":if((o=document.createElement("input")).type="checkbox",i.value){var a=i.value.split(":");n===a[0]&&(o.checked=!0,o.defaultChecked=!0),o.value=a[0],$(o).attr("offval",a[1])}else{var l=(n+"").toLowerCase();l.search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?(o.checked=!0,o.defaultChecked=!0,o.value=n):o.value="on",$(o).attr("offval","off")}p(o,i,["value"]),$(o).attr("role","checkbox");break;case"select":(o=document.createElement("select")).setAttribute("role","select");var d,c=[];if(!0===i.multiple?(d=!0,o.multiple="multiple",$(o).attr("aria-multiselectable","true")):d=!1,null!=i.dataUrl){var u=null,f=i.postData||s.postData;try{u=i.rowId}catch(e){}h.p&&h.p.idPrefix&&(u=$.jgrid.stripPref(h.p.idPrefix,u)),$.ajax($.extend({url:$.isFunction(i.dataUrl)?i.dataUrl.call(h,u,n,String(i.name)):i.dataUrl,type:"GET",dataType:"html",data:$.isFunction(f)?f.call(h,u,n,String(i.name)):f,context:{elem:o,options:i,vl:n},success:function(e){var t,i=[],n=this.elem,r=this.vl,s=$.extend({},this.options),o=!0===s.multiple,a=!0===s.cacheUrlData,l="",d=$.isFunction(s.buildSelect)?s.buildSelect.call(h,e):e;if("string"==typeof d&&(d=$($.trim(d)).html()),d){if($(n).append(d),p(n,s,f?["postData"]:undefined),s.size===undefined&&(s.size=o?3:1),o?(i=r.split(","),i=$.map(i,function(e){return $.trim(e)})):i[0]=$.trim(r),$("option",n).each(function(e){t=$(this).text(),r=$(this).val()||t,a&&(l+=(0!==e?";":"")+r+":"+t),0===e&&n.multiple&&(this.selected=!1),$(this).attr("role","option"),(-1<$.inArray($.trim(t),i)||-1<$.inArray($.trim(r),i))&&(this.selected="selected")}),a)if("edit"===s.oper)$(h).jqGrid("setColProp",s.name,{editoptions:{buildSelect:null,dataUrl:null,value:l}});else if("search"===s.oper)$(h).jqGrid("setColProp",s.name,{searchoptions:{dataUrl:null,value:l}});else if("filter"===s.oper&&$("#fbox_"+h.p.id)[0].p){var c,u=$("#fbox_"+h.p.id)[0].p.columns;$.each(u,function(){if(c=this.index||this.name,s.name===c)return this.searchoptions.dataUrl=null,this.searchoptions.value=l,!1})}$(h).triggerHandler("jqGridAddEditAfterSelectUrlComplete",[n])}}},s||{}))}else if(i.value){var g;i.size===undefined&&(i.size=d?3:1),d&&(c=n.split(","),c=$.map(c,function(e){return $.trim(e)})),"function"==typeof i.value&&(i.value=i.value());var m,v,b,_,y,w,x=i.separator===undefined?":":i.separator,j=i.delimiter===undefined?";":i.delimiter;if("string"==typeof i.value)for(m=i.value.split(j),g=0;g<m.length;g++)2<(v=m[g].split(x)).length&&(v[1]=$.map(v,function(e,t){if(0<t)return e}).join(x)),(b=document.createElement("option")).setAttribute("role","option"),b.value=v[0],b.innerHTML=v[1],o.appendChild(b),d||$.trim(v[0])!==$.trim(n)&&$.trim(v[1])!==$.trim(n)||(b.selected="selected"),d&&(-1<$.inArray($.trim(v[1]),c)||-1<$.inArray($.trim(v[0]),c))&&(b.selected="selected");else if("[object Array]"===Object.prototype.toString.call(i.value))for(_=i.value,g=0;g<_.length;g++)2===_[g].length&&(y=_[g][0],w=_[g][1],(b=document.createElement("option")).setAttribute("role","option"),b.value=y,b.innerHTML=w,o.appendChild(b),d||$.trim(y)!==$.trim(n)&&$.trim(w)!==$.trim(n)||(b.selected="selected"),d&&(-1<$.inArray($.trim(w),c)||-1<$.inArray($.trim(y),c))&&(b.selected="selected"));else if("object"==typeof i.value)for(y in _=i.value)_.hasOwnProperty(y)&&((b=document.createElement("option")).setAttribute("role","option"),b.value=y,b.innerHTML=_[y],o.appendChild(b),d||$.trim(y)!==$.trim(n)&&$.trim(_[y])!==$.trim(n)||(b.selected="selected"),d&&(-1<$.inArray($.trim(_[y]),c)||-1<$.inArray($.trim(y),c))&&(b.selected="selected"));p(o,i,["value"])}break;case"image":case"file":(o=document.createElement("input")).type=t,p(o,i);break;case"custom":o=document.createElement("span");try{if(!$.isFunction(i.custom_element))throw"e1";var D=i.custom_element.call(h,n,i);if(!D)throw"e2";D=$(D).addClass("customelement").attr({id:i.id,name:i.name}),$(o).empty().append(D)}catch(e){var k=$.jgrid.getRegional(h,"errors"),C=$.jgrid.getRegional(h,"edit");"e1"===e?$.jgrid.info_dialog(k.errcap,"function 'custom_element' "+C.msg.nodefined,C.bClose,{styleUI:h.p.styleUI}):"e2"===e?$.jgrid.info_dialog(k.errcap,"function 'custom_element' "+C.msg.novalue,C.bClose,{styleUI:h.p.styleUI}):$.jgrid.info_dialog(k.errcap,"string"==typeof e?e:e.message,C.bClose,{styleUI:h.p.styleUI})}break;default:var S;S="button"===t?"button":"textbox",(o=document.createElement("input")).type=t,o.value=n,p(o,i),"button"!==t&&(r?i.size||$(o).css({width:"96%"}):i.size||(i.size=20)),$(o).attr("role",S)}return o},checkDate:function(e,t){var i,n=function(e){return e%4!=0||e%100==0&&e%400!=0?28:29},r={};if(i=-1!==(e=e.toLowerCase()).indexOf("/")?"/":-1!==e.indexOf("-")?"-":-1!==e.indexOf(".")?".":"/",e=e.split(i),3!==(t=t.split(i)).length)return!1;var s,o,a=-1,l=-1,d=-1;for(o=0;o<e.length;o++){var c=isNaN(t[o])?0:parseInt(t[o],10);r[e[o]]=c,-1!==(s=e[o]).indexOf("y")&&(a=o),-1!==s.indexOf("m")&&(d=o),-1!==s.indexOf("d")&&(l=o)}s="y"===e[a]||"yyyy"===e[a]?4:"yy"===e[a]?2:-1;var u,p=[0,31,29,31,30,31,30,31,31,30,31,30,31];return-1!==a&&(u=r[e[a]].toString(),2===s&&1===u.length&&(s=1),u.length===s&&(0!==r[e[a]]||"00"===t[a])&&(-1!==d&&(!((u=r[e[d]].toString()).length<1||r[e[d]]<1||12<r[e[d]])&&(-1!==l&&!((u=r[e[l]].toString()).length<1||r[e[l]]<1||31<r[e[l]]||2===r[e[d]]&&r[e[l]]>n(r[e[a]])||r[e[l]]>p[r[e[d]]])))))},isEmpty:function(e){return!(!e.match(/^\s+$/)&&""!==e)},checkTime:function(e){var t,i=/^(\d{1,2}):(\d{2})([apAP][Mm])?$/;if(!$.jgrid.isEmpty(e)){if(!(t=e.match(i)))return!1;if(t[3]){if(t[1]<1||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}return!0},checkValues:function(e,t,i,n){var r,s,o,a,l,d,c=this,u=c.p.colModel,p=$.jgrid.getRegional(this,"edit.msg");if(i===undefined)if("string"==typeof t){for(s=0,l=u.length;s<l;s++)if(u[s].name===t){r=u[s].editrules,null!=u[t=s].formoptions&&(o=u[s].formoptions.label);break}}else 0<=t&&(r=u[t].editrules);else r=i,o=n===undefined?"_":n;if(r){if(o||(o=null!=c.p.colNames?c.p.colNames[t]:u[t].label),!0===r.required&&$.jgrid.isEmpty(e))return[!1,o+": "+p.required,""];var h=!1!==r.required;if(!0===r.number&&(!1!==h||!$.jgrid.isEmpty(e))&&isNaN(e))return[!1,o+": "+p.number,""];if(r.minValue!==undefined&&!isNaN(r.minValue)&&parseFloat(e)<parseFloat(r.minValue))return[!1,o+": "+p.minValue+" "+r.minValue,""];if(r.maxValue!==undefined&&!isNaN(r.maxValue)&&parseFloat(e)>parseFloat(r.maxValue))return[!1,o+": "+p.maxValue+" "+r.maxValue,""];if(!0===r.email&&!(!1===h&&$.jgrid.isEmpty(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(e)))return[!1,o+": "+p.email,""];if(!0===r.integer&&(!1!==h||!$.jgrid.isEmpty(e))){if(isNaN(e))return[!1,o+": "+p.integer,""];if(e%1!=0||-1!==e.indexOf("."))return[!1,o+": "+p.integer,""]}if(!0===r.date&&!(!1===h&&$.jgrid.isEmpty(e)||(u[t].formatoptions&&u[t].formatoptions.newformat?(a=u[t].formatoptions.newformat,(d=$.jgrid.getRegional(c,"formatter.date.masks"))&&d.hasOwnProperty(a)&&(a=d[a])):a=u[t].datefmt||"Y-m-d",$.jgrid.checkDate(a,e))))return[!1,o+": "+p.date+" - "+a,""];if(!0===r.time&&!(!1===h&&$.jgrid.isEmpty(e)||$.jgrid.checkTime(e)))return[!1,o+": "+p.date+" - hh:mm (am/pm)",""];if(!0===r.url&&!(!1===h&&$.jgrid.isEmpty(e)||/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i.test(e)))return[!1,o+": "+p.url,""];if(!0===r.custom&&(!1!==h||!$.jgrid.isEmpty(e))){if($.isFunction(r.custom_func)){var f=r.custom_func.call(c,e,o,t);return $.isArray(f)?f:[!1,p.customarray,""]}return[!1,p.customfcheck,""]}}return[!0,"",""]}}),$.fn.jqFilter=function(t){if("string"==typeof t){var i=$.fn.jqFilter[t];if(!i)throw"jqFilter - No such method: "+t;var n=$.makeArray(arguments).slice(1);return i.apply(this,n)}var I=$.extend(!0,{filter:null,columns:[],sortStrategy:null,onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[],operands:null,numopts:["eq","ne","lt","le","gt","ge","nu","nn","in","ni"],stropts:["eq","ne","bw","bn","ew","en","cn","nc","nu","nn","in","ni"],strarr:["text","string","blob"],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,uniqueSearchFields:!1,direction:"ltr"},$.jgrid.filter,t||{});return this.each(function(){if(!this.filter){this.p=I,null!==this.p.filter&&this.p.filter!==undefined||(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),null!=this.p.sortStrategy&&$.isFunction(this.p.sortStrategy)&&this.p.columns.sort(this.p.sortStrategy);var t,i,n=this.p.columns.length,D=/msie/i.test(navigator.userAgent)&&!window.opera;if(this.p.initFilter=$.extend(!0,{},this.p.filter),n){for(t=0;t<n;t++)(i=this.p.columns[t]).stype?i.inputtype=i.stype:i.inputtype||(i.inputtype="text"),i.sorttype?i.searchtype=i.sorttype:i.searchtype||(i.searchtype="string"),i.hidden===undefined&&(i.hidden=!1),i.label||(i.label=i.name),i.index&&(i.name=i.index),i.hasOwnProperty("searchoptions")||(i.searchoptions={}),i.hasOwnProperty("searchrules")||(i.searchrules={}),i.search===undefined?i.inlist=!0:i.inlist=i.search;var k=function(){return $("#"+$.jgrid.jqID(I.id))[0]||null},r=k(),C=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].filter,S=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common;this.p.showQuery&&$(this).append("<table class='queryresult "+C.table_widget+"' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'></td></tr></tbody></table>");var a=function(t,i){var n=[!0,""],r=k();if($.isFunction(i.searchrules))n=i.searchrules.call(r,t,i);else if($.jgrid&&$.jgrid.checkValues)try{n=$.jgrid.checkValues.call(r,t,-1,i.searchrules,i.label)}catch(e){}n&&n.length&&!1===n[0]&&(I.error=!n[0],I.errmsg=n[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",!!$.isFunction(this.p.onChange)&&this.p.onChange.call(this,this.p)},this.reDraw=function(){$("table.group:first",this).remove();var e=this.createTableForGroup(I.filter,null);$(this).append(e),$.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)},this.createTableForGroup=function(n,e){var r,s=this,t=$("<table class='group "+C.table_widget+" ui-search-table' style='border:0px none;'><tbody></tbody></table>"),i="left";"rtl"===this.p.direction&&(i="right",t.attr("dir","rtl")),null===e&&t.append("<tr class='error' style='display:none;'><th colspan='5' class='"+S.error+"' align='"+i+"'></th></tr>");var o=$("<tr></tr>");t.append(o);var a=$("<th colspan='5' align='"+i+"'></th>");if(o.append(a),!0===this.p.ruleButtons){var l=$("<select class='opsel "+C.srSelect+"'></select>");a.append(l);var d,c="";for(r=0;r<I.groupOps.length;r++)d=n.groupOp===s.p.groupOps[r].op?" selected='selected'":"",c+="<option value='"+s.p.groupOps[r].op+"'"+d+">"+s.p.groupOps[r].text+"</option>";l.append(c).bind("change",function(){n.groupOp=$(l).val(),s.onchange()})}var u="<span></span>";if(this.p.groupButton&&(u=$("<input type='button' value='+ {}' title='Add subgroup' class='add-group "+S.button+"'/>")).bind("click",function(){return n.groups===undefined&&(n.groups=[]),n.groups.push({groupOp:I.groupOps[0].op,rules:[],groups:[]}),s.reDraw(),s.onchange(),!1}),a.append(u),!0===this.p.ruleButtons){var p,h=$("<input type='button' value='+' title='Add rule' class='add-rule ui-add "+S.button+"'/>");h.bind("click",function(){for(n.rules===undefined&&(n.rules=[]),r=0;r<s.p.columns.length;r++){var e=s.p.columns[r].search===undefined||s.p.columns[r].search,t=!0===s.p.columns[r].hidden;if(!0===s.p.columns[r].searchoptions.searchhidden&&e||e&&!t){p=s.p.columns[r];break}}return p&&(i=p.searchoptions.sopt?p.searchoptions.sopt:s.p.sopt?s.p.sopt:-1!==$.inArray(p.searchtype,s.p.strarr)?s.p.stropts:s.p.numopts,n.rules.push({field:p.name,op:i[0],data:""}),s.reDraw()),!1;var i}),a.append(h)}if(null!==e){var f=$("<input type='button' value='-' title='Delete group' class='delete-group "+S.button+"'/>");a.append(f),f.bind("click",function(){for(r=0;r<e.groups.length;r++)if(e.groups[r]===n){e.groups.splice(r,1);break}return s.reDraw(),s.onchange(),!1})}if(n.groups!==undefined)for(r=0;r<n.groups.length;r++){var g=$("<tr></tr>");t.append(g);var m=$("<td class='first'></td>");g.append(m);var v=$("<td colspan='4'></td>");v.append(this.createTableForGroup(n.groups[r],n)),g.append(v)}n.groupOp===undefined&&(n.groupOp=s.p.groupOps[0].op);var b=s.p.ruleButtons&&s.p.uniqueSearchFields;if(b)for(var _=0;_<s.p.columns.length;_++)s.p.columns[_].inlist&&(s.p.columns[_].search=!0);if(n.rules!==undefined)for(r=0;r<n.rules.length;r++)if(t.append(this.createTableRowForRule(n.rules[r],n)),b){var y=n.rules[r].field;for(_=0;_<s.p.columns.length;_++)if(y===s.p.columns[_].name){s.p.columns[_].search=!1;break}}return t},this.createTableRowForRule=function(o,e){var a,l,d,c,t,u=this,p=k(),i=$("<tr></tr>"),n="";i.append("<td class='first'></td>");var r=$("<td class='columns'></td>");i.append(r);var h,f=$("<select class='"+C.srSelect+"'></select>"),g=[];r.append(f),f.bind("change",function(){if(u.p.ruleButtons&&u.p.uniqueSearchFields){var e=parseInt($(this).data("curr"),10),t=this.selectedIndex;0<=e&&(u.p.columns[e].search=!0,$(this).data("curr",t),u.p.columns[t].search=!1)}for(o.field=$(f).val(),d=$(this).parents("tr:first"),$(".data",d).empty(),a=0;a<u.p.columns.length;a++)if(u.p.columns[a].name===o.field){c=u.p.columns[a];break}if(c){c.searchoptions.id=$.jgrid.randId(),c.searchoptions.name=o.field,c.searchoptions.oper="filter",D&&"text"===c.inputtype&&(c.searchoptions.size||(c.searchoptions.size=10));var i=$.jgrid.createEl.call(p,c.inputtype,c.searchoptions,"",!0,u.p.ajaxSelectOptions||{},!0);$(i).addClass("input-elm "+C.srInput),l=c.searchoptions.sopt?c.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==$.inArray(c.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts;var n="",r=0;for(g=[],$.each(u.p.ops,function(){g.push(this.oper)}),a=0;a<l.length;a++)-1!==(h=$.inArray(l[a],g))&&(0===r&&(o.op=u.p.ops[h].oper),n+="<option value='"+u.p.ops[h].oper+"'>"+u.p.ops[h].text+"</option>",r++);if($(".selectopts",d).empty().append(n),$(".selectopts",d)[0].selectedIndex=0,$.jgrid.msie()&&$.jgrid.msiever()<9){var s=parseInt($("select.selectopts",d)[0].offsetWidth,10)+1;$(".selectopts",d).width(s),$(".selectopts",d).css("width","auto")}$(".data",d).append(i),$.jgrid.bindEv.call(p,i,c.searchoptions),$(".input-elm",d).bind("change",function(e){var t=e.target;o.data="SPAN"===t.nodeName.toUpperCase()&&c.searchoptions&&$.isFunction(c.searchoptions.custom_value)?c.searchoptions.custom_value.call(p,$(t).children(".customelement:first"),"get"):t.value,u.onchange()}),setTimeout(function(){o.data=$(i).val(),u.onchange()},0)}});var s=0;for(a=0;a<u.p.columns.length;a++){var m=u.p.columns[a].search===undefined||u.p.columns[a].search,v=!0===u.p.columns[a].hidden;(!0===u.p.columns[a].searchoptions.searchhidden&&m||m&&!v)&&(t="",o.field===u.p.columns[a].name&&(t=" selected='selected'",s=a),n+="<option value='"+u.p.columns[a].name+"'"+t+">"+u.p.columns[a].label+"</option>")}f.append(n),f.data("curr",s);var b=$("<td class='operators'></td>");i.append(b),(c=I.columns[s]).searchoptions.id=$.jgrid.randId(),D&&"text"===c.inputtype&&(c.searchoptions.size||(c.searchoptions.size=10)),c.searchoptions.name=o.field,c.searchoptions.oper="filter";var _=$.jgrid.createEl.call(p,c.inputtype,c.searchoptions,o.data,!0,u.p.ajaxSelectOptions||{},!0);"nu"!==o.op&&"nn"!==o.op||($(_).attr("readonly","true"),$(_).attr("disabled","true"));var y=$("<select class='selectopts "+C.srSelect+"'></select>");for(b.append(y),y.bind("change",function(){o.op=$(y).val(),d=$(this).parents("tr:first");var e=$(".input-elm",d)[0];"nu"===o.op||"nn"===o.op?(o.data="","SELECT"!==e.tagName.toUpperCase()&&(e.value=""),e.setAttribute("readonly","true"),e.setAttribute("disabled","true")):("SELECT"===e.tagName.toUpperCase()&&(o.data=e.value),e.removeAttribute("readonly"),e.removeAttribute("disabled")),u.onchange()}),l=c.searchoptions.sopt?c.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==$.inArray(c.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,n="",$.each(u.p.ops,function(){g.push(this.oper)}),a=0;a<l.length;a++)-1!==(h=$.inArray(l[a],g))&&(t=o.op===u.p.ops[h].oper?" selected='selected'":"",n+="<option value='"+u.p.ops[h].oper+"'"+t+">"+u.p.ops[h].text+"</option>");y.append(n);var w=$("<td class='data'></td>");i.append(w),w.append(_),$.jgrid.bindEv.call(p,_,c.searchoptions),$(_).addClass("input-elm "+C.srInput).bind("change",function(){o.data="custom"===c.inputtype?c.searchoptions.custom_value.call(p,$(this).children(".customelement:first"),"get"):$(this).val(),u.onchange()});var x=$("<td></td>");if(i.append(x),!0===this.p.ruleButtons){var j=$("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del "+S.button+"'/>");x.append(j),j.bind("click",function(){for(a=0;a<e.rules.length;a++)if(
e.rules[a]===o){e.rules.splice(a,1);break}return u.reDraw(),u.onchange(),!1})}return i},this.getStringForGroup=function(t){var i,n="(";if(t.groups!==undefined)for(i=0;i<t.groups.length;i++){1<n.length&&(n+=" "+t.groupOp+" ");try{n+=this.getStringForGroup(t.groups[i])}catch(r){alert(r)}}if(t.rules!==undefined)try{for(i=0;i<t.rules.length;i++)1<n.length&&(n+=" "+t.groupOp+" "),n+=this.getStringForRule(t.rules[i])}catch(e){alert(e)}return"()"===(n+=")")?"":n},this.getStringForRule=function(e){var t,i,n,r="",s="",o=["int","integer","float","number","currency"];for(t=0;t<this.p.ops.length;t++)if(this.p.ops[t].oper===e.op){r=this.p.operands.hasOwnProperty(e.op)?this.p.operands[e.op]:"",s=this.p.ops[t].oper;break}for(t=0;t<this.p.columns.length;t++)if(this.p.columns[t].name===e.field){i=this.p.columns[t];break}return i===undefined?"":(n=e.data,"bw"!==s&&"bn"!==s||(n+="%"),"ew"!==s&&"en"!==s||(n="%"+n),"cn"!==s&&"nc"!==s||(n="%"+n+"%"),"in"!==s&&"ni"!==s||(n=" ("+n+")"),I.errorcheck&&a(e.data,i),-1!==$.inArray(i.searchtype,o)||"nn"===s||"nu"===s?e.field+" "+r+" "+n:e.field+" "+r+' "'+n+'"')},this.resetFilter=function(){this.p.filter=$.extend(!0,{},this.p.initFilter),this.reDraw(),this.onchange()},this.hideError=function(){$("th."+S.error,this).html(""),$("tr.error",this).hide()},this.showError=function(){$("th."+S.error,this).html(this.p.errmsg),$("tr.error",this).show()},this.toUserFriendlyString=function(){return this.getStringForGroup(I.filter)},this.toString=function(){function n(e){if(s.p.errorcheck){var t,i;for(t=0;t<s.p.columns.length;t++)if(s.p.columns[t].name===e.field){i=s.p.columns[t];break}i&&a(e.data,i)}return e.op+"(item."+e.field+",'"+e.data+"')"}function r(e){var t,i="(";if(e.groups!==undefined)for(t=0;t<e.groups.length;t++)1<i.length&&("OR"===e.groupOp?i+=" || ":i+=" && "),i+=r(e.groups[t]);if(e.rules!==undefined)for(t=0;t<e.rules.length;t++)1<i.length&&("OR"===e.groupOp?i+=" || ":i+=" && "),i+=n(e.rules[t]);return"()"===(i+=")")?"":i}var s=this;return r(this.p.filter)},this.reDraw(),this.p.showQuery&&this.onchange(),this.filter=!0}}})},$.extend($.fn.jqFilter,{toSQLString:function(){var e="";return this.each(function(){e=this.toUserFriendlyString()}),e},filterData:function(){var e;return this.each(function(){e=this.p.filter}),e},getParameter:function(e){return e!==undefined&&this.p.hasOwnProperty(e)?this.p[e]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(e){"string"==typeof e&&(e=$.jgrid.parse(e)),this.each(function(){this.p.filter=e,this.reDraw(),this.onchange()})}}),$.jgrid.extend({filterToolbar:function(j){var s=$.jgrid.getRegional(this[0],"search");return j=$.extend({autosearch:!0,autosearchDelay:500,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,onClearSearchValue:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw",searchOperators:!1,resetIcon:"x",splitSelect:",",groupOpSelect:"OR",operands:{eq:"==",ne:"!",lt:"<",le:"<=",gt:">",ge:">=",bw:"^",bn:"!^","in":"=",ni:"!=",ew:"|",en:"!@",cn:"~",nc:"!~",nu:"#",nn:"!#",bt:"..."}},s,j||{}),this.each(function(){var w=this;if(!w.p.filterToolbar){$(w).data("filterToolbar")||$(w).data("filterToolbar",j),w.p.force_regional&&(j=$.extend(j,s));var m,v,t,b=$.jgrid.styleUI[w.p.styleUI||"jQueryUI"].filter,p=$.jgrid.styleUI[w.p.styleUI||"jQueryUI"].common,_=$.jgrid.styleUI[w.p.styleUI||"jQueryUI"].base,y=function(){var i,n,r,s,o={},a=0,l={},d=!1,c=[],u=!1;$.each(w.p.colModel,function(){var e=$("#gs_"+w.p.idPrefix+$.jgrid.jqID(this.name),!0===this.frozen&&!0===w.p.frozenColumns?w.grid.fhDiv:w.grid.hDiv);if(n=this.index||this.name,s=this.searchoptions||{},r=j.searchOperators&&s.searchOperMenu?e.parent().prev().children("a").attr("soper")||j.defaultSearch:s.sopt?s.sopt[0]:"select"===this.stype?"eq":j.defaultSearch,i="custom"===this.stype&&$.isFunction(s.custom_value)&&0<e.length&&"SPAN"===e[0].nodeName.toUpperCase()?s.custom_value.call(w,e.children(".customelement:first"),"get"):e.val(),"select"===this.stype&&s.multiple&&$.isArray(i)&&i.length&&(d=!0,c.push(n),i=1===i.length?i[0]:i),"bt"===r&&(u=!0),i||"nu"===r||"nn"===r)o[n]=i,l[n]=r,a++;else try{delete w.p.postData[n]}catch(t){}});var e,t=0<a;if(!0===j.stringResult||"local"===w.p.datatype||!0===j.searchOperators){var p,h,f,g,m,v,b='{"groupOp":"'+j.groupOp+'","rules":[',_=0;if($.each(o,function(e,t){0<_&&(b+=","),b+='{"field":"'+e+'",',b+='"op":"'+l[e]+'",',b+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',_++}),b+="]}",d&&(p=$.jgrid.parse(b)).rules&&p.rules.length)for(h=p.rules,f=0;f<h.length;f++)g=h[f],$.inArray(g.filed,c)&&1<(m=g.data.split(j.splitSelect)).length&&(p.groups===undefined&&(p.groups=[]),v={groupOp:j.groupOpSelect,groups:[],rules:[]},p.groups.push(v),$.each(m,function(e){m[e]&&v.rules.push({data:m[e],op:g.op,field:g.field})}),h.splice(f,1),f--);if(u&&($.isPlainObject(p)||(p=$.jgrid.parse(b)),p.rules&&p.rules.length))for(h=p.rules,f=0;f<h.length;f++)"bt"===(g=h[f]).op&&1<(m=g.data.split("...")).length&&(p.groups===undefined&&(p.groups=[]),v={groupOp:"AND",groups:[],rules:[]},p.groups.push(v),$.each(m,function(e){var t=0===e?"ge":"le";m[e]&&v.rules.push({data:m[e],op:t,field:g.field})}),h.splice(f,1),f--);(u||d)&&(b=JSON.stringify(p)),$.extend(w.p.postData,{filters:b}),$.each(["searchField","searchString","searchOper"],function(e,t){w.p.postData.hasOwnProperty(t)&&delete w.p.postData[t]})}else $.extend(w.p.postData,o);w.p.searchurl&&(e=w.p.url,$(w).jqGrid("setGridParam",{url:w.p.searchurl}));var y="stop"===$(w).triggerHandler("jqGridToolbarBeforeSearch");!y&&$.isFunction(j.beforeSearch)&&(y=j.beforeSearch.call(w)),y||$(w).jqGrid("setGridParam",{search:t}).trigger("reloadGrid",[{page:1}]),e&&$(w).jqGrid("setGridParam",{url:e}),$(w).triggerHandler("jqGridToolbarAfterSearch"),$.isFunction(j.afterSearch)&&j.afterSearch.call(w)},i=function(t){var r,s={},o=0;t="boolean"!=typeof t||t,$.each(w.p.colModel,function(){var t,i=$("#gs_"+w.p.idPrefix+$.jgrid.jqID(this.name),!0===this.frozen&&!0===w.p.frozenColumns?w.grid.fhDiv:w.grid.hDiv);switch(this.searchoptions&&this.searchoptions.defaultValue!==undefined&&(t=this.searchoptions.defaultValue),r=this.index||this.name,this.stype){case"select":if(i.find("option").each(function(e){if(0===e&&(this.selected=!0),$(this).val()===t)return!(this.selected=!0)}),t!==undefined)s[r]=t,o++;else try{delete w.p.postData[r]}catch(e){}break;case"text":if(i.val(t||""),t!==undefined)s[r]=t,o++;else try{delete w.p.postData[r]}catch(n){}break;case"custom":$.isFunction(this.searchoptions.custom_value)&&0<i.length&&"SPAN"===i[0].nodeName.toUpperCase()&&this.searchoptions.custom_value.call(w,i.children(".customelement:first"),"set",t||"")}});var i,n=0<o;if((w.p.resetsearch=!0)===j.stringResult||"local"===w.p.datatype){var a='{"groupOp":"'+j.groupOp+'","rules":[',l=0;$.each(s,function(e,t){0<l&&(a+=","),a+='{"field":"'+e+'",',a+='"op":"eq",',a+='"data":"'+(t+="").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',l++}),a+="]}",$.extend(w.p.postData,{filters:a}),$.each(["searchField","searchString","searchOper"],function(e,t){w.p.postData.hasOwnProperty(t)&&delete w.p.postData[t]})}else $.extend(w.p.postData,s);w.p.searchurl&&(i=w.p.url,$(w).jqGrid("setGridParam",{url:w.p.searchurl}));var d="stop"===$(w).triggerHandler("jqGridToolbarBeforeClear");!d&&$.isFunction(j.beforeClear)&&(d=j.beforeClear.call(w)),d||t&&$(w).jqGrid("setGridParam",{search:n}).trigger("reloadGrid",[{page:1}]),i&&$(w).jqGrid("setGridParam",{url:i}),$(w).triggerHandler("jqGridToolbarAfterClear"),$.isFunction(j.afterClear)&&j.afterClear()},n=function(){var e=$("tr.ui-search-toolbar",w.grid.hDiv),t=!0===w.p.frozenColumns&&$("tr.ui-search-toolbar",w.grid.fhDiv);"none"===e.css("display")?(e.show(),t&&t.show()):(e.hide(),t&&t.hide())},r=function(n,e,t){$("#sopt_menu").remove(),e=parseInt(e,10),t=parseInt(t,10)+18;for(var i,r='<ul id="sopt_menu" class="ui-search-menu modal-content" role="menu" tabindex="0" style="font-size:'+($(".ui-jqgrid-view").css("font-size")||"11px")+";left:"+e+"px;top:"+t+'px;">',s=$(n).attr("soper"),o=[],a=0,l=$(n).attr("colname"),d=w.p.colModel.length;a<d&&w.p.colModel[a].name!==l;)a++;var c=w.p.colModel[a],u=$.extend({},c.searchoptions);for(u.sopt||(u.sopt=[],u.sopt[0]="select"===c.stype?"eq":j.defaultSearch),$.each(j.odata,function(){o.push(this.oper)}),a=0;a<u.sopt.length;a++)-1!==(i=$.inArray(u.sopt[a],o))&&(r+='<li class="ui-menu-item '+(s===j.odata[i].oper?p.highlight:"")+'" role="presentation"><a class="'+p.cornerall+' g-menu-item" tabindex="0" role="menuitem" value="'+j.odata[i].oper+'" oper="'+j.operands[j.odata[i].oper]+'"><table class="ui-common-table"><tr><td width="25px">'+j.operands[j.odata[i].oper]+"</td><td>"+j.odata[i].text+"</td></tr></table></a></li>");r+="</ul>",$("body").append(r),$("#sopt_menu").addClass("ui-menu "+b.menu_widget),$("#sopt_menu > li > a").hover(function(){$(this).addClass(p.hover)},function(){$(this).removeClass(p.hover)}).click(function(){var e=$(this).attr("value"),t=$(this).attr("oper");if($(w).triggerHandler("jqGridToolbarSelectOper",[e,t,n]),$("#sopt_menu").hide(),$(n).text(t).attr("soper",e),!0===j.autosearch){var i=$(n).parent().next().children()[0];($(i).val()||"nu"===e||"nn"===e)&&y()}})},x=$("<tr class='ui-search-toolbar' role='row'></tr>");j.restoreFromFilters&&(t=w.p.postData.filters)&&("string"==typeof t&&(t=$.jgrid.parse(t)),v=!!t.rules.length&&t.rules),$.each(w.p.colModel,function(e){var t,i,n,r,s,o,a,l,d=this,c="",u="=",p=$("<th role='columnheader' class='"+_.headerBox+" ui-th-"+w.p.direction+"' id='gsh_"+w.p.id+"_"+d.name+"' ></th>"),h=$("<div></div>"),f=$("<table class='ui-search-table' cellspacing='0'><tr><td class='ui-search-oper' headers=''></td><td class='ui-search-input' headers=''></td><td class='ui-search-clear' headers=''></td></tr></table>");if(!0===this.hidden&&$(p).css("display","none"),this.search=!1!==this.search,this.stype===undefined&&(this.stype="text"),this.searchoptions=this.searchoptions||{},this.searchoptions.searchOperMenu===undefined&&(this.searchoptions.searchOperMenu=!0),t=$.extend({},this.searchoptions,{name:d.index||d.name,id:"gs_"+w.p.idPrefix+d.name,oper:"search"}),this.search){if(j.restoreFromFilters&&v){l=!1;for(var g=0;g<v.length;g++){if(v[g].field)if((d.index||d.name)===v[g].field){l=v[g];break}}}if(j.searchOperators){for(i=t.sopt?t.sopt[0]:"select"===d.stype?"eq":j.defaultSearch,j.restoreFromFilters&&l&&(i=l.op),n=0;n<j.odata.length;n++)if(j.odata[n].oper===i){u=j.operands[i]||"";break}r=null!=t.searchtitle?t.searchtitle:j.operandTitle,c=this.searchoptions.searchOperMenu?"<a title='"+r+"' style='padding-right: 0.5em;' soper='"+i+"' class='soptclass' colname='"+this.name+"'>"+u+"</a>":""}switch($("td:eq(0)",f).attr("colindex",e).append(c),t.clearSearch===undefined&&(t.clearSearch=!0),t.clearSearch?(s=j.resetTitle||"Clear Search Value",$("td:eq(2)",f).append("<a title='"+s+"' style='padding-right: 0.3em;padding-left: 0.3em;' class='clearsearchclass'>"+j.resetIcon+"</a>")):$("td:eq(2)",f).hide(),this.surl&&(t.dataUrl=this.surl),o="",t.defaultValue&&(o=$.isFunction(t.defaultValue)?t.defaultValue.call(w):t.defaultValue),j.restoreFromFilters&&l&&(o=l.data),a=$.jgrid.createEl.call(w,this.stype,t,o,!1,$.extend({},$.jgrid.ajaxOptions,w.p.ajaxSelectOptions||{})),$(a).addClass(b.srInput),$("td:eq(1)",f).append(a),$(h).append(f),null==t.dataEvents&&(t.dataEvents=[]),this.stype){case"select":!0===j.autosearch&&t.dataEvents.push({type:"change",fn:function(){return y(),!1}});break;case"text":!0===j.autosearch&&(j.searchOnEnter?t.dataEvents.push({type:"keypress",fn:function(e){return 13===(e.charCode||e.keyCode||0)?(y(),!1):this}}):t.dataEvents.push({type:"keydown",fn:function(e){switch(e.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:m&&clearTimeout(m),m=setTimeout(function(){y()},j.autosearchDelay)}}}))}$.jgrid.bindEv.call(w,a,t)}$(p).append(h),$(x).append(p),j.searchOperators&&""!==c||$("td:eq(0)",f).hide()}),$("table thead",w.grid.hDiv).append(x),j.searchOperators&&($(".soptclass",x).click(function(e){var t=$(this).offset(),i=t.left,n=t.top;r(this,i,n),e.stopPropagation()}),$("body").on("click",function(e){"soptclass"!==e.target.className&&$("#sopt_menu").remove()})),$(".clearsearchclass",x).click(function(){var e,t=$(this).parents("tr:first"),i=parseInt($("td.ui-search-oper",t).attr("colindex"),10),n=$.extend({},w.p.colModel[i].searchoptions||{}),r=n.defaultValue?n.defaultValue:"";"select"===w.p.colModel[i].stype?(e=$("td.ui-search-input select",t),r?e.val(r):e[0].selectedIndex=0):(e=$("td.ui-search-input input",t)).val(r),$(w).triggerHandler("jqGridToolbarClearVal",[e[0],i,n,r]),$.isFunction(j.onClearSearchValue)&&j.onClearSearchValue.call(w,e[0],i,n,r),!0===j.autosearch&&y()}),this.p.filterToolbar=!0,this.triggerToolbar=y,this.clearToolbar=i,this.toggleToolbar=n}})},destroyFilterToolbar:function(){return this.each(function(){this.p.filterToolbar&&(this.triggerToolbar=null,this.clearToolbar=null,this.toggleToolbar=null,this.p.filterToolbar=!1,$(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},refreshFilterToolbar:function(p){return p=$.extend(!0,{filters:"",onClearVal:null,onSetVal:null},p||{}),this.each(function(){function i(e){if(e&&e.rules){for(s=e.rules,c=s.length,n=0;n<c;n++)o=s[n],-1!==(a=$.inArray(o.field,u))&&0<(r=$("#gs_"+l.p.idPrefix+$.jgrid.jqID(d[a].name))).length&&("select"===d[a].stype?r.find("option[value='"+$.jgrid.jqID(o.data)+"']").prop("selected",!0):"text"===d[a].stype&&r.val(o.data),$.isFunction(p.onSetVal)&&p.onSetVal.call(l,r,d[a].name));if(e.groups)for(var t=0;t<e.groups.length;t++)i(e.groups[t])}}var n,r,e,s,o,a,l=this,d=l.p.colModel,c=l.p.colModel.length,u=[];if(l.p.filterToolbar){for(n=0;n<c;n++){switch(u.push(d[n].name),r=$("#gs_"+l.p.idPrefix+$.jgrid.jqID(d[n].name)),d[n].stype){case"select":case"text":r.val("")}$.isFunction(p.onClearVal)&&p.onClearVal.call(l,r,d[n].name)}"string"==typeof p.filters&&p.filters.length&&(e=$.jgrid.parse(p.filters)),$.isPlainObject(e)&&i(e)}})},searchGrid:function(j){var e=$.jgrid.getRegional(this[0],"search");return j=$.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,sortStrategy:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:undefined,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null,operands:{eq:"=",ne:"<>",lt:"<",le:"<=",gt:">",ge:">=",bw:"LIKE",bn:"NOT LIKE","in":"IN",ni:"NOT IN",ew:"LIKE",en:"NOT LIKE",cn:"LIKE",nc:"NOT LIKE",nu:"IS NULL",nn:"ISNOT NULL"}},e,j||{}),this.each(function(){function e(e){(t=$(r).triggerHandler("jqGridFilterBeforeShow",[e]))===undefined&&(t=!0),t&&$.isFunction(j.beforeShowSearch)&&(t=j.beforeShowSearch.call(r,e)),t&&($.jgrid.viewModal("#"+$.jgrid.jqID(l.themodal),{gbox:"#gbox_"+$.jgrid.jqID(o),jqm:j.jqModal,modal:j.modal,overlay:j.overlay,toTop:j.toTop}),$(r).triggerHandler("jqGridFilterAfterShow",[e]),$.isFunction(j.afterShowSearch)&&j.afterShowSearch.call(r,e))}var r=this;if(r.grid){var s,o="fbox_"+r.p.id,t=!0,a=!0,l={themodal:"searchmod"+o,modalhead:"searchhd"+o,modalcontent:"searchcnt"+o,scrollelm:o},i=r.p.postData[j.sFilter],n=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].filter,d=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common;if(j.styleUI=r.p.styleUI,"string"==typeof i&&(i=$.jgrid.parse(i)),!0===j.recreateFilter&&$("#"+$.jgrid.jqID(l.themodal)).remove(),$("#"+$.jgrid.jqID(l.themodal))[0]!==undefined)e($("#fbox_"+$.jgrid.jqID(r.p.id)));else{var c=$("<div><div id='"+o+"' class='searchFilter' style='overflow:auto'></div></div>").insertBefore("#gview_"+$.jgrid.jqID(r.p.id)),u="left",p="";"rtl"===r.p.direction&&(u="right",p=" style='text-align:left'",c.attr("dir","rtl"));var h,f,g=$.extend([],r.p.colModel),m="<a id='"+o+"_search' class='fm-button "+d.button+" fm-button-icon-right ui-search'><span class='"+d.icon_base+" "+n.icon_search+"'></span>"+j.Find+"</a>",v="<a id='"+o+"_reset' class='fm-button "+d.button+" fm-button-icon-left ui-reset'><span class='"+d.icon_base+" "+n.icon_reset+"'></span>"+j.Reset+"</a>",b="",_="",y=!1,w=-1;if(j.showQuery&&(b="<a id='"+o+"_query' class='fm-button "+d.button+" fm-button-icon-left'><span class='"+d.icon_base+" "+n.icon_query+"'></span>Query</a>"),j.columns.length?(g=j.columns,h=g[w=0].index||g[0].name):$.each(g,function(e,t){if(t.label||(t.label=r.p.colNames[e]),!y){var i=t.search===undefined||t.search,n=!0===t.hidden;(t.searchoptions&&!0===t.searchoptions.searchhidden&&i||i&&!n)&&(y=!0,h=t.index||t.name,w=e)}}),!i&&h||!1===j.multipleSearch){var x="eq";0<=w&&g[w].searchoptions&&g[w].searchoptions.sopt?x=g[w].searchoptions.sopt[0]:j.sopt&&j.sopt.length&&(x=j.sopt[0]),i={groupOp:"AND",rules:[{field:h,op:x,data:""}]}}y=!1,j.tmplNames&&j.tmplNames.length&&(y=!0,_="<tr><td class='ui-search-label'>"+j.tmplLabel+"</td>",_+="<td><select class='ui-template "+n.srSelect+"'>",_+="<option value='default'>Default</option>",$.each(j.tmplNames,function(e,t){_+="<option value='"+e+"'>"+t+"</option>"}),_+="</select></td></tr>"),f="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+o+"_2'><tbody><tr><td colspan='2'><hr class='"+d.content+"' style='margin:1px'/></td></tr>"+_+"<tr><td class='EditButton' style='text-align:"+u+"'>"+v+"</td><td class='EditButton' "+p+">"+b+m+"</td></tr></tbody></table>",o=$.jgrid.jqID(o),$("#"+o).jqFilter({columns:g,sortStrategy:j.sortStrategy,filter:j.loadDefaults?i:null,showQuery:j.showQuery,errorcheck:j.errorcheck,sopt:j.sopt,groupButton:j.multipleGroup,ruleButtons:j.multipleSearch,uniqueSearchFields:j.uniqueSearchFields,afterRedraw:j.afterRedraw,ops:j.odata,operands:j.operands,ajaxSelectOptions:r.p.ajaxSelectOptions,groupOps:j.groupOps,onChange:function(){this.p.showQuery&&$(".query",this).html(this.toUserFriendlyString()),$.isFunction(j.afterChange)&&j.afterChange.call(r,$("#"+o),j)},direction:r.p.direction,id:r.p.id}),c.append(f),y&&j.tmplFilters&&j.tmplFilters.length&&$(".ui-template",c).bind("change",function(){var e=$(this).val();return"default"===e?$("#"+o).jqFilter("addFilter",i):$("#"+o).jqFilter("addFilter",j.tmplFilters[parseInt(e,10)]),!1}),!0===j.multipleGroup&&(j.multipleSearch=!0),$(r).triggerHandler("jqGridFilterInitialize",[$("#"+o)]),$.isFunction(j.onInitializeSearch)&&j.onInitializeSearch.call(r,$("#"+o)),j.gbox="#gbox_"+o,j.layer?$.jgrid.createModal(l,c,j,"#gview_"+$.jgrid.jqID(r.p.id),$("#gbox_"+$.jgrid.jqID(r.p.id))[0],"#"+$.jgrid.jqID(j.layer),{position:"relative"}):$.jgrid.createModal(l,c,j,"#gview_"+$.jgrid.jqID(r.p.id),$("#gbox_"+$.jgrid.jqID(r.p.id))[0]),(j.searchOnEnter||j.closeOnEscape)&&$("#"+$.jgrid.jqID(l.themodal)).keydown(function(e){var t=$(e.target);return!j.searchOnEnter||13!==e.which||t.hasClass("add-group")||t.hasClass("add-rule")||t.hasClass("delete-group")||t.hasClass("delete-rule")||t.hasClass("fm-button")&&t.is("[id$=_query]")?j.closeOnEscape&&27===e.which?($("#"+$.jgrid.jqID(l.modalhead)).find(".ui-jqdialog-titlebar-close").click(),!1):void 0:($("#"+o+"_search").click(),!1)}),b&&$("#"+o+"_query").bind("click",function(){return $(".queryresult",c).toggle(),!1}),j.stringResult===undefined&&(j.stringResult=j.multipleSearch),$("#"+o+"_search").bind("click",function(){var e,t,i={};if((s=$("#"+o)).find(".input-elm:focus").change(),t=s.jqFilter("filterData"),j.errorcheck&&(s[0].hideError(),j.showQuery||s.jqFilter("toSQLString"),s[0].p.error))return s[0].showError(),!1;if(j.stringResult){try{e=JSON.stringify(t)}catch(n){}"string"==typeof e&&(i[j.sFilter]=e,$.each([j.sField,j.sValue,j.sOper],function(){i[this]=""}))}else j.multipleSearch?(i[j.sFilter]=t,$.each([j.sField,j.sValue,j.sOper],function(){i[this]=""})):(i[j.sField]=t.rules[0].field,i[j.sValue]=t.rules[0].data,i[j.sOper]=t.rules[0].op,i[j.sFilter]="");return r.p.search=!0,$.extend(r.p.postData,i),(a=$(r).triggerHandler("jqGridFilterSearch"))===undefined&&(a=!0),a&&$.isFunction(j.onSearch)&&(a=j.onSearch.call(r,r.p.filters)),!1!==a&&$(r).trigger("reloadGrid",[{page:1}]),j.closeAfterSearch&&$.jgrid.hideModal("#"+$.jgrid.jqID(l.themodal),{gb:"#gbox_"+$.jgrid.jqID(r.p.id),jqm:j.jqModal,onClose:j.onClose}),!1}),$("#"+o+"_reset").bind("click",function(){var e={},t=$("#"+o);return r.p.search=!1,!(r.p.resetsearch=!0)===j.multipleSearch?e[j.sField]=e[j.sValue]=e[j.sOper]="":e[j.sFilter]="",t[0].resetFilter(),y&&$(".ui-template",c).val("default"),$.extend(r.p.postData,e),(a=$(r).triggerHandler("jqGridFilterReset"))===undefined&&(a=!0),a&&$.isFunction(j.onReset)&&(a=j.onReset.call(r)),!1!==a&&$(r).trigger("reloadGrid",[{page:1}]),j.closeAfterReset&&$.jgrid.hideModal("#"+$.jgrid.jqID(l.themodal),{gb:"#gbox_"+$.jgrid.jqID(r.p.id),jqm:j.jqModal,onClose:j.onClose}),!1}),e($("#"+o)),$(".fm-button:not(."+d.disabled+")",c).hover(function(){$(this).addClass(d.hover)},function(){$(this).removeClass(d.hover)})}}})},filterInput:function(a,l){return l=$.extend(!0,{defaultSearch:"cn",groupOp:"OR",searchAll:!1,beforeSearch:null,afterSearch:null},l||{}),this.each(function(){var i=this;if(i.grid){var e,t,n,r='{"groupOp":"'+l.groupOp+'","rules":[',s=0;if(a+="","local"!==!i.p.datatype){$.each(i.p.colModel,function(){e=this.index||this.name,t=this.searchoptions||{},n=l.defaultSearch?l.defaultSearch:t.sopt?t.sopt[0]:l.defaultSearch,this.search=!1!==this.search,(this.search||l.searchAll)&&(0<s&&(r+=","),r+='{"field":"'+e+'",',r+='"op":"'+n+'",',r+='"data":"'+a.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}',s++)}),r+="]}",$.extend(i.p.postData,{filters:r}),$.each(["searchField","searchString","searchOper"],function(e,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]});var o="stop"===$(i).triggerHandler("jqGridFilterInputBeforeSearch");!o&&$.isFunction(l.beforeSearch)&&(o=l.beforeSearch.call(i)),o||$(i).jqGrid("setGridParam",{search:!0}).trigger("reloadGrid",[{page:1}]),$(i).triggerHandler("jqGridFilterInputAfterSearch"),$.isFunction(l.afterSearch)&&l.afterSearch.call(i)}}})}});var rp_ge={};if($.jgrid.extend({editGridRow:function(B,U){var t=$.jgrid.getRegional(this[0],"edit"),i=this[0].p.styleUI,V=$.jgrid.styleUI[i].formedit,Y=$.jgrid.styleUI[i].common;return U=$.extend(!0,{top:0,left:0,width:"500",datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0,overlayClass:Y.overlay,removemodal:!0,form:"edit",template:null,focusField:!0,editselected:!1},t,U||{}),rp_ge[$(this)[0].p.id]=U,this.each(function(){function t(){var t,s={};for(t in $(w).find(".FormElement").each(function(){var t=$(".customelement",this);if(t.length){var i=t[0],n=$(i).attr("name");$.each(j.p.colModel,function(){if(this.name===n&&this.editoptions&&$.isFunction(this.editoptions.custom_value)){try{if(b[n]=this.editoptions.custom_value.call(j,$("#"+$.jgrid.jqID(n),w),"get"),b[n]===undefined)throw"e1"}catch(e){"e1"===e?$.jgrid.info_dialog(C.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.novalue,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(C.errcap,e.message,rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}return!0}})}else{switch($(this).get(0).type){case"checkbox":if($(this).is(":checked"))b[this.name]=$(this).val();else{var r=$(this).attr("offval");b[this.name]=r}break;case"select-one":b[this.name]=$(this).val();break;case"select-multiple":b[this.name]=$(this).val(),b[this.name]=b[this.name]?b[this.name].join(","):"";break;case"password":case"text":case"textarea":case"button":b[this.name]=$(this).val();break;case"radio":if(s.hasOwnProperty(this.name))return!0;s[this.name]=$(this).attr("offval")===undefined?"off":$(this).attr("offval")}j.p.autoencode&&(b[this.name]=$.jgrid.htmlEncode(b[this.name]))}}),s)if(s.hasOwnProperty(t)){var i=$('input[name="'+t+'"]:checked',w).val();b[t]=i!==undefined?i:s[t],j.p.autoencode&&(b[t]=$.jgrid.htmlEncode(b[t]))}return!0}function i(l,d,c,u){var p,h,f,g,m,v,e,b,t,_=0,y=[],w=!1,i="<td class='CaptionTD'>&#160;</td><td class='DataTD'>&#160;</td>",x="";for(e=1;e<=u;e++)x+=i;("_empty"!==l&&(w=$(d).jqGrid("getInd",l)),$(d.p.colModel).each(function(e){if(p=this.name,h=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,m=h?"style='display:none'":"","cb"!==p&&"subgrid"!==p&&!0===this.editable&&"rn"!==p){if(!1===w)g="";else if(p===d.p.ExpandColumn&&!0===d.p.treeGrid)g=$("td[role='gridcell']:eq("+e+")",d.rows[w]).text();else{try{g=$.unformat.call(d,$("td[role='gridcell']:eq("+e+")",d.rows[w]),{rowId:l,colModel:this},e)}catch(a){g=this.edittype&&"textarea"===this.edittype?$("td[role='gridcell']:eq("+e+")",d.rows[w]).text():$("td[role='gridcell']:eq("+e+")",d.rows[w]).html()}(!g||"&nbsp;"===g||"&#160;"===g||1===g.length&&160===g.charCodeAt(0))&&(g="")}var t=$.extend({},this.editoptions||{},{id:p,name:p,rowId:l,oper:"edit"}),i=$.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),n=parseInt(i.rowpos,10)||_+1,r=parseInt(2*(parseInt(i.colpos,10)||1),10);if("_empty"===l&&t.defaultValue&&(g=$.isFunction(t.defaultValue)?t.defaultValue.call(j):t.defaultValue),this.edittype||(this.edittype="text"),j.p.autoencode&&(g=$.jgrid.htmlDecode(g)),v=$.jgrid.createEl.call(j,this.edittype,t,g,!1,$.extend({},$.jgrid.ajaxOptions,d.p.ajaxSelectOptions||{})),"select"===this.edittype&&(g=$(v).val(),"select-multiple"===$(v).get(0).type&&g&&(g=g.join(","))),"checkbox"===this.edittype&&(g=$(v).is(":checked")?$(v).val():$(v).attr("offval")),$(v).addClass("FormElement"),-1<$.inArray(this.edittype,["text","textarea","password","select"])&&$(v).addClass(V.inputClass),b=!0,k){var s=$(M).find("#"+p);s.length?s.replaceWith(v):b=!1}else{if(f=$(c).find("tr[rowpos="+n+"]"),i.rowabove){var o=$("<tr><td class='contentinfo' colspan='"+2*u+"'>"+i.rowcontent+"</td></tr>");$(c).append(o),o[0].rp=n}0===f.length&&(f=$("<tr "+m+" rowpos='"+n+"'></tr>").addClass("FormData").attr("id","tr_"+p),$(f).append(x),$(c).append(f),f[0].rp=n),$("td:eq("+(r-2)+")",f[0]).html("<label for='"+p+"'>"+(i.label===undefined?d.p.colNames[e]:i.label)+"</label>"),$("td:eq("+(r-1)+")",f[0]).append(i.elmprefix).append(v).append(i.elmsuffix)}(rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate)&&b&&(j.p.savedData[p]=g),"custom"===this.edittype&&$.isFunction(t.custom_value)&&t.custom_value.call(j,$("#"+p,D),"set",g),$.jgrid.bindEv.call(j,v,t),y[_]=e,_++}}),0<_)&&(k?(t="<div class='FormData' style='display:none'><input class='FormElement' id='id_g' type='text' name='"+d.p.id+"_id' value='"+l+"'/>",$(M).append(t)):((t=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*u-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+d.p.id+"_id' value='"+l+"'/></td></tr>"))[0].rp=_+999,$(c).append(t)),(rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate)&&(j.p.savedData[d.p.id+"_id"]=l));return y}function m(r,s,o){var a,l,t,i,n,d,c=0;(rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate)&&(j.p.savedData={},j.p.savedData[s.p.id+"_id"]=r);var u=s.p.colModel;if("_empty"===r)return $(u).each(function(){a=this.name,i=$.extend({},this.editoptions||{}),(t=$("#"+$.jgrid.jqID(a),o))&&t.length&&null!==t[0]&&(n="","custom"===this.edittype&&$.isFunction(i.custom_value)?i.custom_value.call(j,$("#"+a,o),"set",n):i.defaultValue?(n=$.isFunction(i.defaultValue)?i.defaultValue.call(j):i.defaultValue,"checkbox"===t[0].type?(d=n.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==d?(t[0].checked=!0,t[0].defaultChecked=!0,t[0].value=n):(t[0].checked=!1,t[0].defaultChecked=!1):t.val(n)):"checkbox"===t[0].type?(t[0].checked=!1,t[0].defaultChecked=!1,n=$(t).attr("offval")):t[0].type&&"select"===t[0].type.substr(0,6)?t[0].selectedIndex=0:t.val(n),(!0===rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate)&&(j.p.savedData[a]=n))}),void $("#id_g",o).val(r);var p=$(s).jqGrid("getInd",r,!0);p&&($('td[role="gridcell"]',p).each(function(t){if("cb"!==(a=u[t].name)&&"subgrid"!==a&&"rn"!==a&&!0===u[t].editable){if(a===s.p.ExpandColumn&&!0===s.p.treeGrid)l=$(this).text();else try{l=$.unformat.call(s,$(this),{rowId:r,colModel:u[t]},t)}catch(n){l="textarea"===u[t].edittype?$(this).text():$(this).html()}switch(j.p.autoencode&&(l=$.jgrid.htmlDecode(l)),(!0===rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate)&&(j.p.savedData[a]=l),a=$.jgrid.jqID(a),u[t].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"===l||"&#160;"===l||1===l.length&&160===l.charCodeAt(0))&&(l=""),$("#"+a,o).val(l);break;case"select":var i=l.split(",");i=$.map(i,function(e){return $.trim(e)}),$("#"+a+" option",o).each(function(){u[t].editoptions.multiple||$.trim(l)!==$.trim($(this).text())&&i[0]!==$.trim($(this).text())&&i[0]!==$.trim($(this).val())?u[t].editoptions.multiple&&(-1<$.inArray($.trim($(this).text()),i)||-1<$.inArray($.trim($(this).val()),i))?this.selected=!0:this.selected=!1:this.selected=!0}),(!0===rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate)&&(l=$("#"+a,o).val(),u[t].editoptions.multiple&&(l=l.join(",")),j.p.savedData[a]=l);break;case"checkbox":if(l=String(l),u[t].editoptions&&u[t].editoptions.value)u[t].editoptions.value.split(":")[0]===l?$("#"+a,o)[j.p.useProp?"prop":"attr"]({checked:!0,defaultChecked:!0}):$("#"+a,o)[j.p.useProp?"prop":"attr"]({checked:!1,defaultChecked:!1});else(l=l.toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0&&""!==l?($("#"+a,o)[j.p.useProp?"prop":"attr"]("checked",!0),$("#"+a,o)[j.p.useProp?"prop":"attr"]("defaultChecked",!0)):($("#"+a,o)[j.p.useProp?"prop":"attr"]("checked",!1),$("#"+a,o)[j.p.useProp?"prop":"attr"]("defaultChecked",!1));(!0===rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate)&&(l=$("#"+a,o).is(":checked")?$("#"+a,o).val():$("#"+a,o).attr("offval"),j.p.savedData[a]=l);break;case"custom":try{if(!u[t].editoptions||!$.isFunction(u[t].editoptions.custom_value))throw"e1";u[t].editoptions.custom_value.call(j,$("#"+a,o),"set",l)}catch(e){"e1"===e?$.jgrid.info_dialog(C.errcap,"function 'custom_value' "+rp_ge[$(this)[0]].p.msg.nodefined,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI}):$.jgrid.info_dialog(C.errcap,e.message,$.rp_ge[$(this)[0]].p.bClose,{styleUI:rp_ge[$(this)[0]].p.styleUI})}}c++}}),0<c&&($("#id_g",w).val(r),(!0===rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate)&&(j.p.savedData[s.p.id+"_id"]=r)))}function v(){$.each(j.p.colModel,function(e,t){t.editoptions&&!0===t.editoptions.NullIfEmpty&&b.hasOwnProperty(t.name)&&""===b[t.name]&&(b[t.name]="null")})}function n(){var r,s,o,t,a,i,n,l=[!0,"",""],d={},c=j.p.prmNames,u=$(j).triggerHandler("jqGridAddEditBeforeCheckValues",[$(D),_]);for(t in u&&"object"==typeof u&&(b=u),$.isFunction(rp_ge[j.p.id].beforeCheckValues)&&(u=rp_ge[j.p.id].beforeCheckValues.call(j,b,$(D),_))&&"object"==typeof u&&(b=u),b)if(b.hasOwnProperty(t)&&!1===(l=$.jgrid.checkValues.call(j,b[t],t))[0])break;if(v(),l[0]&&((d=$(j).triggerHandler("jqGridAddEditClickSubmit",[rp_ge[j.p.id],b,_]))===undefined&&$.isFunction(rp_ge[j.p.id].onclickSubmit)&&(d=rp_ge[j.p.id].onclickSubmit.call(j,rp_ge[j.p.id],b,_)||{}),(l=$(j).triggerHandler("jqGridAddEditBeforeSubmit",[b,$(D),_]))===undefined&&(l=[!0,"",""]),l[0]&&$.isFunction(rp_ge[j.p.id].beforeSubmit)&&(l=rp_ge[j.p.id].beforeSubmit.call(j,b,$(D),_))),l[0]&&!rp_ge[j.p.id].processing){if(rp_ge[j.p.id].processing=!0,$("#sData",w+"_2").addClass(Y.active),n=rp_ge[j.p.id].url||$(j).jqGrid("getGridParam","editurl"),o=c.oper,s="clientArray"===n?j.p.keyName:c.id,b[o]="_empty"===$.trim(b[j.p.id+"_id"])?c.addoper:c.editoper,b[o]!==c.addoper?b[s]=b[j.p.id+"_id"]:b[s]===undefined&&(b[s]=b[j.p.id+"_id"]),delete b[j.p.id+"_id"],b=$.extend(b,rp_ge[j.p.id].editData,d),!0===j.p.treeGrid){if(b[o]===c.addoper){a=$(j).jqGrid("getGridParam","selrow");var p="adjacency"===j.p.treeGridModel?j.p.treeReader.parent_id_field:"parent_id";b[p]=a}for(i in j.p.treeReader)if(j.p.treeReader.hasOwnProperty(i)){var h=j.p.treeReader[i];if(b.hasOwnProperty(h)){
if(b[o]===c.addoper&&"parent_id_field"===i)continue;delete b[h]}}}b[s]=$.jgrid.stripPref(j.p.idPrefix,b[s]);var f=$.extend({url:n,type:rp_ge[j.p.id].mtype,data:$.isFunction(rp_ge[j.p.id].serializeEditData)?rp_ge[j.p.id].serializeEditData.call(j,b):b,complete:function(t,i){var n;if($("#sData",w+"_2").removeClass(Y.active),b[s]=j.p.idPrefix+b[s],300<=t.status&&304!==t.status?(l[0]=!1,l[1]=$(j).triggerHandler("jqGridAddEditErrorTextFormat",[t,_]),$.isFunction(rp_ge[j.p.id].errorTextFormat)?l[1]=rp_ge[j.p.id].errorTextFormat.call(j,t,_):l[1]=i+" Status: '"+t.statusText+"'. Error code: "+t.status):((l=$(j).triggerHandler("jqGridAddEditAfterSubmit",[t,b,_]))===undefined&&(l=[!0,"",""]),l[0]&&$.isFunction(rp_ge[j.p.id].afterSubmit)&&(l=rp_ge[j.p.id].afterSubmit.call(j,t,b,_))),!1===l[0])$(".FormError",D).html(l[1]),$(".FormError",D).show();else if(j.p.autoencode&&$.each(b,function(e,t){b[e]=$.jgrid.htmlDecode(t)}),b[o]===c.addoper?(l[2]||(l[2]=$.jgrid.randId()),null==b[s]||"_empty"===b[s]?b[s]=l[2]:l[2]=b[s],rp_ge[j.p.id].reloadAfterSubmit?$(j).trigger("reloadGrid"):!0===j.p.treeGrid?$(j).jqGrid("addChildNode",l[2],a,b):$(j).jqGrid("addRowData",l[2],b,U.addedrow),rp_ge[j.p.id].closeAfterAdd?(!0!==j.p.treeGrid&&$(j).jqGrid("setSelection",l[2]),$.jgrid.hideModal("#"+$.jgrid.jqID(x.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:U.jqModal,onClose:rp_ge[j.p.id].onClose,removemodal:rp_ge[j.p.id].removemodal,formprop:!rp_ge[j.p.id].recreateForm,form:rp_ge[j.p.id].form})):rp_ge[j.p.id].clearAfterAdd&&m("_empty",j,D)):(rp_ge[j.p.id].reloadAfterSubmit?($(j).trigger("reloadGrid"),rp_ge[j.p.id].closeAfterEdit||setTimeout(function(){$(j).jqGrid("setSelection",b[s])},1e3)):!0===j.p.treeGrid?$(j).jqGrid("setTreeRow",b[s],b):$(j).jqGrid("setRowData",b[s],b),rp_ge[j.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(x.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:U.jqModal,onClose:rp_ge[j.p.id].onClose,removemodal:rp_ge[j.p.id].removemodal,formprop:!rp_ge[j.p.id].recreateForm,form:rp_ge[j.p.id].form})),$.isFunction(rp_ge[j.p.id].afterComplete)&&(r=t,setTimeout(function(){$(j).triggerHandler("jqGridAddEditAfterComplete",[r,b,$(D),_]),rp_ge[j.p.id].afterComplete.call(j,r,b,$(D),_),r=null},500)),(rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate)&&($(D).data("disabled",!1),"_empty"!==j.p.savedData[j.p.id+"_id"]))for(n in j.p.savedData)j.p.savedData.hasOwnProperty(n)&&b[n]&&(j.p.savedData[n]=b[n]);rp_ge[j.p.id].processing=!1;try{$(":input:visible",D)[0].focus()}catch(e){}}},$.jgrid.ajaxOptions,rp_ge[j.p.id].ajaxEditOptions);if(f.url||rp_ge[j.p.id].useDataProxy||($.isFunction(j.p.dataProxy)?rp_ge[j.p.id].useDataProxy=!0:(l[0]=!1,l[1]+=" "+C.nourl)),l[0])if(rp_ge[j.p.id].useDataProxy){var g=j.p.dataProxy.call(j,f,"set_"+j.p.id);g===undefined&&(g=[!0,""]),!1===g[0]?(l[0]=!1,l[1]=g[1]||"Error deleting the selected row!"):(f.data.oper===c.addoper&&rp_ge[j.p.id].closeAfterAdd&&$.jgrid.hideModal("#"+$.jgrid.jqID(x.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:U.jqModal,onClose:rp_ge[j.p.id].onClose,removemodal:rp_ge[j.p.id].removemodal,formprop:!rp_ge[j.p.id].recreateForm,form:rp_ge[j.p.id].form}),f.data.oper===c.editoper&&rp_ge[j.p.id].closeAfterEdit&&$.jgrid.hideModal("#"+$.jgrid.jqID(x.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:U.jqModal,onClose:rp_ge[j.p.id].onClose,removemodal:rp_ge[j.p.id].removemodal,formprop:!rp_ge[j.p.id].recreateForm,form:rp_ge[j.p.id].form}))}else"clientArray"===f.url?(rp_ge[j.p.id].reloadAfterSubmit=!1,b=f.data,f.complete({status:200,statusText:""},"")):$.ajax(f)}!1===l[0]&&($(".FormError",D).html(l[1]),$(".FormError",D).show())}function r(e,t){var i,n=!1;if(!(n=!($.isPlainObject(e)&&$.isPlainObject(t)&&Object.getOwnPropertyNames(e).length===Object.getOwnPropertyNames(t).length)))for(i in t)if(t.hasOwnProperty(i)){if(!e.hasOwnProperty(i)){n=!0;break}if(e[i]!==t[i]){n=!0;break}}return n}function s(){var e=!0;return $(".FormError",D).hide(),rp_ge[j.p.id].checkOnUpdate&&(b={},t(),r(b,j.p.savedData)&&($(D).data("disabled",!0),$(".confirm","#"+x.themodal).show(),e=!1)),e}function o(){var e;if("_empty"!==B&&j.p.savedRow!==undefined&&0<j.p.savedRow.length&&$.isFunction($.fn.jqGrid.restoreRow))for(e=0;e<j.p.savedRow.length;e++)if(j.p.savedRow[e].id===B){$(j).jqGrid("restoreRow",B);break}}function a(e,t){var i=t[1].length-1;0===e?$("#pData",u).addClass(Y.disabled):t[1][e-1]!==undefined&&$("#"+$.jgrid.jqID(t[1][e-1])).hasClass(Y.disabled)?$("#pData",u).addClass(Y.disabled):$("#pData",u).removeClass(Y.disabled),e===i?$("#nData",u).addClass(Y.disabled):t[1][e+1]!==undefined&&$("#"+$.jgrid.jqID(t[1][e+1])).hasClass(Y.disabled)?$("#nData",u).addClass(Y.disabled):$("#nData",u).removeClass(Y.disabled)}function l(){var e=$(j).jqGrid("getDataIDs"),t=$("#id_g",w).val();if(j.p.multiselect&&rp_ge[j.p.id].editselected){for(var i=[],n=0,r=e.length;n<r;n++)-1!==$.inArray(e[n],j.p.selarrrow)&&i.push(e[n]);return[$.inArray(t,i),i]}return[$.inArray(t,e),e]}function d(e){var t="";return"string"==typeof e&&(t=e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(e,t){return'<span id="'+t+'" ></span>'})),t}function c(){if(rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate){var i=[],n={};for(var e in i=$.map(j.p.savedData,function(e,t){return t}),$(".FormElement",M).each(function(){if(-1===i.indexOf(this.name)){var e=$(this).val(),t=$(this).get(0).type;if("checkbox"===t)$(this).is(":checked")||(e=$(this).attr("offval"));else if("select-multiple"===t)e=e.join(",");else if("radio"===t){if(n.hasOwnProperty(this.name))return!0;n[this.name]=$(this).attr("offval")===undefined?"off":$(this).attr("offval")}j.p.savedData[this.name]=e}}),n)if(n.hasOwnProperty(e)){var t=$('input[name="'+e+'"]:checked',M).val();j.p.savedData[e]=t!==undefined?t:n[e]}}}var j=this;if(j.grid&&B){j.p.savedData={};var u,b,_,y=j.p.id,D="FrmGrid_"+y,p="TblGrid_"+y,w="#"+$.jgrid.jqID(p),x={themodal:"editmod"+y,modalhead:"edithd"+y,modalcontent:"editcnt"+y,scrollelm:D},h=!0,f=1,g=0,k="string"==typeof rp_ge[j.p.id].template&&0<rp_ge[j.p.id].template.length,C=$.jgrid.getRegional(this,"errors");rp_ge[j.p.id].styleUI=j.p.styleUI||"jQueryUI",$.jgrid.isMobile()&&(rp_ge[j.p.id].resize=!1),"new"===B?(B="_empty",_="add",U.caption=rp_ge[j.p.id].addCaption):(U.caption=rp_ge[j.p.id].editCaption,_="edit"),U.recreateForm||$(j).data("formProp")&&$.extend(rp_ge[$(this)[0].p.id],$(j).data("formProp"));var S=!0;U.checkOnUpdate&&U.jqModal&&!U.modal&&(S=!1);var I,T=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",q=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",M=$("<form name='FormPost' id='"+D+"' class='FormGrid' onSubmit='return false;' style='width:"+q+";height:"+T+";'></form>").data("disabled",!1);if(k?(I=d(rp_ge[$(this)[0].p.id].template),u=w):(I=$("<table id='"+p+"' class='EditTable ui-common-table'><tbody></tbody></table>"),u=w+"_2"),D="#"+$.jgrid.jqID(D),$(M).append("<div class='FormError "+Y.error+"' style='display:none;'></div>"),$(M).append("<div class='tinfo topinfo'>"+rp_ge[j.p.id].topinfo+"</div>"),$(j.p.colModel).each(function(){var e=this.formoptions;f=Math.max(f,e&&e.colpos||0),g=Math.max(g,e&&e.rowpos||0)}),$(M).append(I),(h=$(j).triggerHandler("jqGridAddEditBeforeInitData",[M,_]))===undefined&&(h=!0),h&&$.isFunction(rp_ge[j.p.id].beforeInitData)&&(h=rp_ge[j.p.id].beforeInitData.call(j,M,_)),!1!==h){o(),i(B,j,I,f);var A="rtl"===j.p.direction,F=A?"pData":"nData",O="<a id='"+(A?"nData":"pData")+"' class='fm-button "+Y.button+"'><span class='"+Y.icon_base+" "+V.icon_prev+"'></span></a>",P="<a id='"+F+"' class='fm-button "+Y.button+"'><span class='"+Y.icon_base+" "+V.icon_next+"'></span></a>",N="<a id='sData' class='fm-button "+Y.button+"'>"+U.bSubmit+"</a>",E="<a id='cData' class='fm-button "+Y.button+"'>"+U.bCancel+"</a>",R="<table style='height:auto' class='EditTable ui-common-table' id='"+p+"_2'><tbody><tr><td colspan='2'><hr class='"+Y.content+"' style='margin:1px'/></td></tr><tr id='Act_Buttons'><td class='navButton'>"+(A?P+O:O+P)+"</td><td class='EditButton'>"+N+E+"</td></tr>";if(R+="</tbody></table>",0<g){var G=[];$.each($(I)[0].rows,function(e,t){G[e]=t}),G.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(G,function(e,t){$("tbody",I).append(t)})}U.gbox="#gbox_"+$.jgrid.jqID(y);var z,H=!1;if(!0===U.closeOnEscape&&(U.closeOnEscape=!1,H=!0),k?($(M).find("#pData").replaceWith(O),$(M).find("#nData").replaceWith(P),$(M).find("#sData").replaceWith(N),$(M).find("#cData").replaceWith(E),z=$("<div id="+p+"></div>").append(M)):z=$("<div></div>").append(M).append(R),$(M).append("<div class='binfo topinfo bottominfo'>"+rp_ge[j.p.id].bottominfo+"</div>"),$.jgrid.createModal(x,z,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(j.p.id),$("#gbox_"+$.jgrid.jqID(j.p.id))[0]),A&&($("#pData, #nData",w+"_2").css("float","right"),$(".EditButton",w+"_2").css("text-align","left")),rp_ge[j.p.id].topinfo&&$(".tinfo",D).show(),rp_ge[j.p.id].bottominfo&&$(".binfo",D).show(),R=z=null,$("#"+$.jgrid.jqID(x.themodal)).keydown(function(e){var t=e.target;if(!0===$(D).data("disabled"))return!1;if(!0===rp_ge[j.p.id].savekey[0]&&e.which===rp_ge[j.p.id].savekey[1]&&"TEXTAREA"!==t.tagName)return $("#sData",w+"_2").trigger("click"),!1;if(27===e.which)return s()&&H&&$.jgrid.hideModal("#"+$.jgrid.jqID(x.themodal),{gb:U.gbox,jqm:U.jqModal,onClose:rp_ge[j.p.id].onClose,removemodal:rp_ge[j.p.id].removemodal,formprop:!rp_ge[j.p.id].recreateForm,form:rp_ge[j.p.id].form}),!1;if(!0===rp_ge[j.p.id].navkeys[0]){if("_empty"===$("#id_g",w).val())return!0;if(e.which===rp_ge[j.p.id].navkeys[1])return $("#pData",u).trigger("click"),!1;if(e.which===rp_ge[j.p.id].navkeys[2])return $("#nData",u).trigger("click"),!1}}),U.checkOnUpdate&&($("a.ui-jqdialog-titlebar-close span","#"+$.jgrid.jqID(x.themodal)).removeClass("jqmClose"),$("a.ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(x.themodal)).unbind("click").click(function(){return s()&&$.jgrid.hideModal("#"+$.jgrid.jqID(x.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:U.jqModal,onClose:rp_ge[j.p.id].onClose,removemodal:rp_ge[j.p.id].removemodal,formprop:!rp_ge[j.p.id].recreateForm,form:rp_ge[j.p.id].form}),!1})),U.saveicon=$.extend([!0,"left",V.icon_save],U.saveicon),U.closeicon=$.extend([!0,"left",V.icon_close],U.closeicon),!0===U.saveicon[0]&&$("#sData",u).addClass("right"===U.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+Y.icon_base+" "+U.saveicon[2]+"'></span>"),!0===U.closeicon[0]&&$("#cData",u).addClass("right"===U.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+Y.icon_base+" "+U.closeicon[2]+"'></span>"),rp_ge[j.p.id].checkOnSubmit||rp_ge[j.p.id].checkOnUpdate){N="<a id='sNew' class='fm-button "+Y.button+"' style='z-index:1002'>"+U.bYes+"</a>",P="<a id='nNew' class='fm-button "+Y.button+"' style='z-index:1002;margin-left:5px'>"+U.bNo+"</a>",E="<a id='cNew' class='fm-button "+Y.button+"' style='z-index:1002;margin-left:5px;'>"+U.bExit+"</a>";var W=U.zIndex||999;W++,$("<div class='"+U.overlayClass+" jqgrid-overlay confirm' style='z-index:"+W+";display:none;'>&#160;</div><div class='confirm ui-jqconfirm "+Y.content+"' style='z-index:"+(W+1)+"'>"+U.saveData+"<br/><br/>"+N+P+E+"</div>").insertAfter(D),$("#sNew","#"+$.jgrid.jqID(x.themodal)).click(function(){return n(),$(D).data("disabled",!1),$(".confirm","#"+$.jgrid.jqID(x.themodal)).hide(),!1}),$("#nNew","#"+$.jgrid.jqID(x.themodal)).click(function(){return $(".confirm","#"+$.jgrid.jqID(x.themodal)).hide(),$(D).data("disabled",!1),setTimeout(function(){$(":input:visible",D)[0].focus()},0),!1}),$("#cNew","#"+$.jgrid.jqID(x.themodal)).click(function(){return $(".confirm","#"+$.jgrid.jqID(x.themodal)).hide(),$(D).data("disabled",!1),$.jgrid.hideModal("#"+$.jgrid.jqID(x.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:U.jqModal,onClose:rp_ge[j.p.id].onClose,removemodal:rp_ge[j.p.id].removemodal,formprop:!rp_ge[j.p.id].recreateForm,form:rp_ge[j.p.id].form}),!1})}$(j).triggerHandler("jqGridAddEditInitializeForm",[$(D),_]),$.isFunction(rp_ge[j.p.id].onInitializeForm)&&rp_ge[j.p.id].onInitializeForm.call(j,$(D),_),"_empty"!==B&&rp_ge[j.p.id].viewPagerButtons?$("#pData,#nData",u).show():$("#pData,#nData",u).hide(),$(j).triggerHandler("jqGridAddEditBeforeShowForm",[$(D),_]),$.isFunction(rp_ge[j.p.id].beforeShowForm)&&rp_ge[j.p.id].beforeShowForm.call(j,$(D),_),c(),$("#"+$.jgrid.jqID(x.themodal)).data("onClose",rp_ge[j.p.id].onClose),$.jgrid.viewModal("#"+$.jgrid.jqID(x.themodal),{gbox:"#gbox_"+$.jgrid.jqID(y),jqm:U.jqModal,overlay:U.overlay,modal:U.modal,overlayClass:U.overlayClass,focusField:U.focusField,onHide:function(e){var t=$("#editmod"+y)[0].style.height,i=$("#editmod"+y)[0].style.width;-1<t.indexOf("px")&&(t=parseFloat(t)),-1<i.indexOf("px")&&(i=parseFloat(i)),$(j).data("formProp",{top:parseFloat($(e.w).css("top")),left:parseFloat($(e.w).css("left")),width:i,height:t,dataheight:$(D).height(),datawidth:$(D).width()}),e.w.remove(),e.o&&e.o.remove()}}),S||$("."+$.jgrid.jqID(U.overlayClass)).click(function(){return s()&&$.jgrid.hideModal("#"+$.jgrid.jqID(x.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:U.jqModal,onClose:rp_ge[j.p.id].onClose,removemodal:rp_ge[j.p.id].removemodal,formprop:!rp_ge[j.p.id].recreateForm,form:rp_ge[j.p.id].form}),!1}),$(".fm-button","#"+$.jgrid.jqID(x.themodal)).hover(function(){$(this).addClass(Y.hover)},function(){$(this).removeClass(Y.hover)}),$("#sData",u).click(function(){return b={},$(".FormError",D).hide(),t(),"_empty"===b[j.p.id+"_id"]?n():!0===U.checkOnSubmit&&r(b,j.p.savedData)?($(D).data("disabled",!0),$(".confirm","#"+$.jgrid.jqID(x.themodal)).show()):n(),!1}),$("#cData",u).click(function(){return s()&&$.jgrid.hideModal("#"+$.jgrid.jqID(x.themodal),{gb:"#gbox_"+$.jgrid.jqID(y),jqm:U.jqModal,onClose:rp_ge[j.p.id].onClose,removemodal:rp_ge[j.p.id].removemodal,formprop:!rp_ge[j.p.id].recreateForm,form:rp_ge[j.p.id].form}),!1}),$("#nData",u).click(function(){if(!s())return!1;$(".FormError",D).hide();var e=l();if(e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]){var t;if($(j).triggerHandler("jqGridAddEditClickPgButtons",["next",$(D),e[1][e[0]]]),$.isFunction(U.onclickPgButtons)&&(t=U.onclickPgButtons.call(j,"next",$(D),e[1][e[0]]))!==undefined&&!1===t)return!1;if($("#"+$.jgrid.jqID(e[1][e[0]+1])).hasClass(Y.disabled))return!1;m(e[1][e[0]+1],j,D),j.p.multiselect&&rp_ge[j.p.id].editselected||$(j).jqGrid("setSelection",e[1][e[0]+1]),$(j).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",$(D),e[1][e[0]]]),$.isFunction(U.afterclickPgButtons)&&U.afterclickPgButtons.call(j,"next",$(D),e[1][e[0]+1]),c(),a(e[0]+1,e)}return!1}),$("#pData",u).click(function(){if(!s())return!1;$(".FormError",D).hide();var e=l();if(-1!==e[0]&&e[1][e[0]-1]){var t;if($(j).triggerHandler("jqGridAddEditClickPgButtons",["prev",$(D),e[1][e[0]]]),$.isFunction(U.onclickPgButtons)&&(t=U.onclickPgButtons.call(j,"prev",$(D),e[1][e[0]]))!==undefined&&!1===t)return!1;if($("#"+$.jgrid.jqID(e[1][e[0]-1])).hasClass(Y.disabled))return!1;m(e[1][e[0]-1],j,D),j.p.multiselect&&rp_ge[j.p.id].editselected||$(j).jqGrid("setSelection",e[1][e[0]-1]),$(j).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",$(D),e[1][e[0]]]),$.isFunction(U.afterclickPgButtons)&&U.afterclickPgButtons.call(j,"prev",$(D),e[1][e[0]-1]),c(),a(e[0]-1,e)}return!1}),$(j).triggerHandler("jqGridAddEditAfterShowForm",[$(D),_]),$.isFunction(rp_ge[j.p.id].afterShowForm)&&rp_ge[j.p.id].afterShowForm.call(j,$(D),_);var L=l();a(L[0],L)}}})},viewGridRow:function(I,T){var e=$.jgrid.getRegional(this[0],"view"),t=this[0].p.styleUI,q=$.jgrid.styleUI[t].formedit,M=$.jgrid.styleUI[t].common;return T=$.extend(!0,{top:0,left:0,width:500,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0,recreateForm:!1,removemodal:!0,form:"view"},e,T||{}),rp_ge[$(this)[0].p.id]=T,this.each(function(){function t(){!0!==rp_ge[s.p.id].closeOnEscape&&!0!==rp_ge[s.p.id].navkeys[0]||setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(u.modalhead)).attr("tabindex","-1").focus()},0)}function e(e,s,o,a){var l,d,c,u,p,t,h,f,g,m=0,v=[],b=!1,i="<td class='CaptionTD form-view-label "+M.content+"' width='"+T.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset "+M.content+"'>&#160;</td>",_="",n="<td class='CaptionTD form-view-label "+M.content+"'>&#160;</td><td class='DataTD form-view-data "+M.content+"'>&#160;</td>",r=["integer","number","currency"],y=0,w=0;for(t=1;t<=a;t++)_+=1===t?i:n;if($(s.p.colModel).each(function(){(d=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden)||"right"!==this.align||(this.formatter&&-1!==$.inArray(this.formatter,r)?y=Math.max(y,parseInt(this.width,10)):w=Math.max(w,parseInt(this.width,10)))}),h=0!==y?y:0!==w?w:0,b=$(s).jqGrid("getInd",e),$(s.p.colModel).each(function(e){if(l=this.name,f=!1,d=(!this.editrules||!0!==this.editrules.edithidden)&&!0===this.hidden,p=d?"style='display:none'":"",g="boolean"!=typeof this.viewable||this.viewable,"cb"!==l&&"subgrid"!==l&&"rn"!==l&&g){u=!1===b?"":l===s.p.ExpandColumn&&!0===s.p.treeGrid?$("td:eq("+e+")",s.rows[b]).text():$("td:eq("+e+")",s.rows[b]).html(),f="right"===this.align&&0!==h;var t=$.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),i=parseInt(t.rowpos,10)||m+1,n=parseInt(2*(parseInt(t.colpos,10)||1),10);if(t.rowabove){var r=$("<tr><td class='contentinfo' colspan='"+2*a+"'>"+t.rowcontent+"</td></tr>");$(o).append(r),r[0].rp=i}0===(c=$(o).find("tr[rowpos="+i+"]")).length&&(c=$("<tr "+p+" rowpos='"+i+"'></tr>").addClass("FormData").attr("id","trv_"+l),$(c).append(_),$(o).append(c),c[0].rp=i),$("td:eq("+(n-2)+")",c[0]).html("<b>"+(t.label===undefined?s.p.colNames[e]:t.label)+"</b>"),$("td:eq("+(n-1)+")",c[0]).append("<span>"+u+"</span>").attr("id","v_"+l),f&&$("td:eq("+(n-1)+") span",c[0]).css({"text-align":"right",width:h+"px"}),v[m]=e,m++}}),0<m){var x=$("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(2*a-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+e+"'/></td></tr>");x[0].rp=m+99,$(o).append(x)}return v}function i(e,t){var i,n,r,s,o=0;(s=$(t).jqGrid("getInd",e,!0))&&($("td",s).each(function(e){i=t.p.colModel[e].name,n=(!t.p.colModel[e].editrules||!0!==t.p.colModel[e].editrules.edithidden)&&!0===t.p.colModel[e].hidden,"cb"!==i&&"subgrid"!==i&&"rn"!==i&&(r=i===t.p.ExpandColumn&&!0===t.p.treeGrid?$(this).text():$(this).html(),i=$.jgrid.jqID("v_"+i),$("#"+i+" span","#"+l).html(r),n&&$("#"+i,"#"+l).parents("tr:first").hide(),o++)}),0<o&&$("#id_g","#"+l).val(e))}function n(e,t){var i=t[1].length-1;0===e?$("#pData","#"+l+"_2").addClass(M.disabled):t[1][e-1]!==undefined&&$("#"+$.jgrid.jqID(t[1][e-1])).hasClass(M.disabled)?$("#pData",l+"_2").addClass(M.disabled):$("#pData","#"+l+"_2").removeClass(M.disabled),e===i?$("#nData","#"+l+"_2").addClass(M.disabled):t[1][e+1]!==undefined&&$("#"+$.jgrid.jqID(t[1][e+1])).hasClass(M.disabled)?$("#nData",l+"_2").addClass(M.disabled):$("#nData","#"+l+"_2").removeClass(M.disabled)}function r(){var e=$(s).jqGrid("getDataIDs"),t=$("#id_g","#"+l).val();return[$.inArray(t,e),e]}var s=this;if(s.grid&&I){var o=s.p.id,a="ViewGrid_"+$.jgrid.jqID(o),l="ViewTbl_"+$.jgrid.jqID(o),d="ViewGrid_"+o,c="ViewTbl_"+o,u={themodal:"viewmod"+o,modalhead:"viewhd"+o,modalcontent:"viewcnt"+o,scrollelm:a},p=!!$.isFunction(rp_ge[s.p.id].beforeInitData)&&rp_ge[s.p.id].beforeInitData,h=!0,f=1,g=0;rp_ge[s.p.id].styleUI=s.p.styleUI||"jQueryUI",T.recreateForm||$(s).data("viewProp")&&$.extend(rp_ge[$(this)[0].p.id],$(s).data("viewProp"));var m=isNaN(rp_ge[$(this)[0].p.id].dataheight)?rp_ge[$(this)[0].p.id].dataheight:rp_ge[$(this)[0].p.id].dataheight+"px",v=isNaN(rp_ge[$(this)[0].p.id].datawidth)?rp_ge[$(this)[0].p.id].datawidth:rp_ge[$(this)[0].p.id].datawidth+"px",b=$("<form name='FormPost' id='"+d+"' class='FormGrid' style='width:"+v+";height:"+m+";'></form>"),_=$("<table id='"+c+"' class='EditTable ViewTable'><tbody></tbody></table>");if($(s.p.colModel).each(function(){var e=this.formoptions;f=Math.max(f,e&&e.colpos||0),g=Math.max(g,e&&e.rowpos||0)}),$(b).append(_),p&&(h=p.call(s,b))===undefined&&(h=!0),!1!==h){e(I,s,_,f);var y="rtl"===s.p.direction,w=y?"pData":"nData",x="<a id='"+(y?"nData":"pData")+"' class='fm-button "+M.button+"'><span class='"+M.icon_base+" "+q.icon_prev+"'></span></a>",j="<a id='"+w+"' class='fm-button "+M.button+"'><span class='"+M.icon_base+" "+q.icon_next+"'></span></a>",D="<a id='cData' class='fm-button "+M.button+"'>"+T.bClose+"</a>";if(0<g){var k=[];$.each($(_)[0].rows,function(e,t){k[e]=t}),k.sort(function(e,t){return e.rp>t.rp?1:e.rp<t.rp?-1:0}),$.each(k,function(e,t){$("tbody",_).append(t)})}T.gbox="#gbox_"+$.jgrid.jqID(o);var C=$("<div></div>").append(b).append("<table border='0' class='EditTable' id='"+l+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+T.labelswidth+"'>"+(y?j+x:x+j)+"</td><td class='EditButton'>"+D+"</td></tr></tbody></table>");$.jgrid.createModal(u,C,rp_ge[$(this)[0].p.id],"#gview_"+$.jgrid.jqID(s.p.id),$("#gview_"+$.jgrid.jqID(s.p.id))[0]),y&&($("#pData, #nData","#"+l+"_2").css("float","right"),$(".EditButton","#"+l+"_2").css("text-align","left")),T.viewPagerButtons||$("#pData, #nData","#"+l+"_2").hide(),C=null,$("#"+u.themodal).keydown(function(e){if(27===e.which)return rp_ge[s.p.id].closeOnEscape&&$.jgrid.hideModal("#"+$.jgrid.jqID(u.themodal),{gb:T.gbox,jqm:T.jqModal,onClose:T.onClose,removemodal:rp_ge[s.p.id].removemodal,formprop:!rp_ge[s.p.id].recreateForm,form:rp_ge[s.p.id].form}),!1;if(!0===T.navkeys[0]){if(e.which===T.navkeys[1])return $("#pData","#"+l+"_2").trigger("click"),!1;if(e.which===T.navkeys[2])return $("#nData","#"+l+"_2").trigger("click"),!1}}),T.closeicon=$.extend([!0,"left",q.icon_close],T.closeicon),!0===T.closeicon[0]&&$("#cData","#"+l+"_2").addClass("right"===T.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+M.icon_base+" "+T.closeicon[2]+"'></span>"),$.isFunction(T.beforeShowForm)&&T.beforeShowForm.call(s,$("#"+a)),$.jgrid.viewModal("#"+$.jgrid.jqID(u.themodal),{gbox:"#gbox_"+$.jgrid.jqID(o),jqm:T.jqModal,overlay:T.overlay,modal:T.modal,onHide:function(e){$(s).data("viewProp",{top:parseFloat($(e.w).css("top")),left:parseFloat($(e.w).css("left")),width:$(e.w).width(),height:$(e.w).height(),dataheight:$("#"+a).height(),datawidth:$("#"+a).width()}),e.w.remove(),e.o&&e.o.remove()}}),$(".fm-button:not(."+M.disabled+")","#"+l+"_2").hover(function(){$(this).addClass(M.hover)},function(){$(this).removeClass(M.hover)}),t(),$("#cData","#"+l+"_2").click(function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(u.themodal),{gb:"#gbox_"+$.jgrid.jqID(o),jqm:T.jqModal,onClose:T.onClose,removemodal:rp_ge[s.p.id].removemodal,formprop:!rp_ge[s.p.id].recreateForm,form:rp_ge[s.p.id].form}),!1}),$("#nData","#"+l+"_2").click(function(){$("#FormError","#"+l).hide();var e=r();return e[0]=parseInt(e[0],10),-1!==e[0]&&e[1][e[0]+1]&&($.isFunction(T.onclickPgButtons)&&T.onclickPgButtons.call(s,"next",$("#"+a),e[1][e[0]]),i(e[1][e[0]+1],s),$(s).jqGrid("setSelection",e[1][e[0]+1]),$.isFunction(T.afterclickPgButtons)&&T.afterclickPgButtons.call(s,"next",$("#"+a),e[1][e[0]+1]),n(e[0]+1,e)),t(),!1}),$("#pData","#"+l+"_2").click(function(){$("#FormError","#"+l).hide();var e=r();return-1!==e[0]&&e[1][e[0]-1]&&($.isFunction(T.onclickPgButtons)&&T.onclickPgButtons.call(s,"prev",$("#"+a),e[1][e[0]]),i(e[1][e[0]-1],s),$(s).jqGrid("setSelection",e[1][e[0]-1]),$.isFunction(T.afterclickPgButtons)&&T.afterclickPgButtons.call(s,"prev",$("#"+a),e[1][e[0]-1]),n(e[0]-1,e)),t(),!1});var S=r();n(S[0],S)}}})},delGridRow:function(_,y){var t=$.jgrid.getRegional(this[0],"del"),i=this[0].p.styleUI,w=$.jgrid.styleUI[i].formedit,x=$.jgrid.styleUI[i].common;return y=$.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},t,y||{}),rp_ge[$(this)[0].p.id]=y,this.each(function(){var o=this;if(o.grid&&_){var a,l,d,c,t=$.isFunction(rp_ge[o.p.id].beforeShowForm),i=$.isFunction(rp_ge[o.p.id].afterShowForm),n=!!$.isFunction(rp_ge[o.p.id].beforeInitData)&&rp_ge[o.p.id].beforeInitData,u=o.p.id,p={},r=!0,h="DelTbl_"+$.jgrid.jqID(u),s="DelTbl_"+u,f={themodal:"delmod"+u,modalhead:"delhd"+u,modalcontent:"delcnt"+u,scrollelm:h};if(rp_ge[o.p.id].styleUI=o.p.styleUI||"jQueryUI",$.isArray(_)&&(_=_.join()),$("#"+$.jgrid.jqID(f.themodal))[0]!==undefined){if(n&&(r=n.call(o,$("#"+h)))===undefined&&(r=!0),!1===r)return;$("#DelData>td","#"+h).text(_),$("#DelError","#"+h).hide(),!0===rp_ge[o.p.id].processing&&(rp_ge[o.p.id].processing=!1,$("#dData","#"+h).removeClass(x.active)),t&&rp_ge[o.p.id].beforeShowForm.call(o,$("#"+h)),$.jgrid.viewModal("#"+$.jgrid.jqID(f.themodal),{gbox:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[o.p.id].jqModal,jqM:!1,overlay:rp_ge[o.p.id].overlay,modal:rp_ge[o.p.id].modal}),i&&rp_ge[o.p.id].afterShowForm.call(o,$("#"+h))}else{var g=isNaN(rp_ge[o.p.id].dataheight)?rp_ge[o.p.id].dataheight:rp_ge[o.p.id].dataheight+"px",m="<div id='"+s+"' class='formdata' style='width:"+(isNaN(y.datawidth)?y.datawidth:y.datawidth+"px")+";overflow:auto;position:relative;height:"+g+";'>";m+="<table class='DelTable'><tbody>",m+="<tr id='DelError' style='display:none'><td class='"+x.error+"'></td></tr>",m+="<tr id='DelData' style='display:none'><td >"+_+"</td></tr>",m+='<tr><td class="delmsg" style="white-space:pre;">'+rp_ge[o.p.id].msg+"</td></tr><tr><td >&#160;</td></tr>",m+="</tbody></table></div>";var v="<a id='dData' class='fm-button "+x.button+"'>"+y.bSubmit+"</a>",b="<a id='eData' class='fm-button "+x.button+"'>"+y.bCancel+"</a>";if(m+="<table class='EditTable ui-common-table' id='"+h+"_2'><tbody><tr><td><hr class='"+x.content+"' style='margin:1px'/></td></tr><tr><td class='DelButton EditButton'>"+v+"&#160;"+b+"</td></tr></tbody></table>",y.gbox="#gbox_"+$.jgrid.jqID(u),$.jgrid.createModal(f,m,rp_ge[o.p.id],"#gview_"+$.jgrid.jqID(o.p.id),$("#gview_"+$.jgrid.jqID(o.p.id))[0]),n&&(r=n.call(o,$(m)))===undefined&&(r=!0),!1===r)return;$(".fm-button","#"+h+"_2").hover(function(){$(this).addClass(x.hover)},function(){$(this).removeClass(x.hover)}),y.delicon=$.extend([!0,"left",w.icon_del],rp_ge[o.p.id].delicon),y.cancelicon=$.extend([!0,"left",w.icon_cancel],rp_ge[o.p.id].cancelicon),!0===y.delicon[0]&&$("#dData","#"+h+"_2").addClass("right"===y.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+x.icon_base+" "+y.delicon[2]+"'></span>"),!0===y.cancelicon[0]&&$("#eData","#"+h+"_2").addClass("right"===y.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='"+x.icon_base+" "+y.cancelicon[2]+"'></span>"),$("#dData","#"+h+"_2").click(function(){var t,r=[!0,""],s=$("#DelData>td","#"+h).text();if(p={},$.isFunction(rp_ge[o.p.id].onclickSubmit)&&(p=rp_ge[o.p.id].onclickSubmit.call(o,rp_ge[o.p.id],s)||{}),$.isFunction(rp_ge[o.p.id].beforeSubmit)&&(r=rp_ge[o.p.id].beforeSubmit.call(o,s)),r[0]&&!rp_ge[o.p.id].processing){if(rp_ge[o.p.id].processing=!0,d=o.p.prmNames,a=$.extend({},rp_ge[o.p.id].delData,p),c=d.oper,a[c]=d.deloper,l=d.id,!(s=String(s).split(",")).length)return!1;for(t in s)s.hasOwnProperty(t)&&(s[t]=$.jgrid.stripPref(o.p.idPrefix,s[t]));a[l]=s.join(),$(this).addClass(x.active);var i=$.extend({url:rp_ge[o.p.id].url||$(o).jqGrid("getGridParam","editurl"),type:rp_ge[o.p.id].mtype,data:$.isFunction(rp_ge[o.p.id].serializeDelData)?rp_ge[o.p.id].serializeDelData.call(o,a):a,complete:function(t,i){var n;if($("#dData","#"+h+"_2").removeClass(x.active),300<=t.status&&304!==t.status?(r[0]=!1,$.isFunction(rp_ge[o.p.id].errorTextFormat)?r[1]=rp_ge[o.p.id].errorTextFormat.call(o,t):r[1]=i+" Status: '"+t.statusText+"'. Error code: "+t.status):$.isFunction(rp_ge[o.p.id].afterSubmit)&&(r=rp_ge[o.p.id].afterSubmit.call(o,t,a)),!1===r[0])$("#DelError>td","#"+h).html(r[1]),$("#DelError","#"+h).show();else{if(rp_ge[o.p.id].reloadAfterSubmit&&"local"!==o.p.datatype)$(o).trigger("reloadGrid");else{if(!0===o.p.treeGrid)try{$(o).jqGrid("delTreeNode",o.p.idPrefix+s[0])}catch(e){}else for(n=0;n<s.length;n++)$(o).jqGrid("delRowData",o.p.idPrefix+s[n]);o.p.selrow=null,o.p.selarrrow=[]}$.isFunction(rp_ge[o.p.id].afterComplete)&&setTimeout(function(){rp_ge[o.p.id].afterComplete.call(o,t,s)},500)}rp_ge[o.p.id].processing=!1,r[0]&&$.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:y.jqModal,onClose:rp_ge[o.p.id].onClose})}},$.jgrid.ajaxOptions,rp_ge[o.p.id].ajaxDelOptions);if(i.url||rp_ge[o.p.id].useDataProxy||($.isFunction(o.p.dataProxy)?rp_ge[o.p.id].useDataProxy=!0:(r[0]=!1,r[1]+=" "+$.jgrid.getRegional(o,"errors.nourl"))),r[0])if(rp_ge[o.p.id].useDataProxy){var n=o.p.dataProxy.call(o,i,"del_"+o.p.id);n===undefined&&(n=[!0,""]),!1===n[0]?(r[0]=!1,r[1]=n[1]||"Error deleting the selected row!"):$.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:y.jqModal,onClose:rp_ge[o.p.id].onClose})}else"clientArray"===i.url?(a=i.data,i.complete({status:200,statusText:""},"")):$.ajax(i)}return!1===r[0]&&($("#DelError>td","#"+h).html(r[1]),$("#DelError","#"+h).show()),!1}),$("#eData","#"+h+"_2").click(function(){return $.jgrid.hideModal("#"+$.jgrid.jqID(f.themodal),{gb:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[o.p.id].jqModal,onClose:rp_ge[o.p.id].onClose}),!1}),t&&rp_ge[o.p.id].beforeShowForm.call(o,$("#"+h)),$.jgrid.viewModal("#"+$.jgrid.jqID(f.themodal),{gbox:"#gbox_"+$.jgrid.jqID(u),jqm:rp_ge[o.p.id].jqModal,overlay:rp_ge[o.p.id].overlay,modal:rp_ge[o.p.id].modal}),i&&rp_ge[o.p.id].afterShowForm.call(o,$("#"+h))}!0===rp_ge[o.p.id].closeOnEscape&&setTimeout(function(){$(".ui-jqdialog-titlebar-close","#"+$.jgrid.jqID(f.modalhead)).attr("tabindex","-1").focus()},0)}})},navGrid:function(g,m,v,b,_,y,w){var x=$.jgrid.getRegional(this[0],"nav"),j=this[0].p.styleUI,t=$.jgrid.styleUI[j].navigator,D=$.jgrid.styleUI[j].common;return m=$.extend({edit:!0,editicon:t.icon_edit_nav,add:!0,addicon:t.icon_add_nav,del:!0,delicon:t.icon_del_nav,search:!0,searchicon:t.icon_search_nav,refresh:!0,refreshicon:t.icon_refresh_nav,refreshstate:"firstpage",view:!1,viewicon:t.icon_view_nav,position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null,dropmenu:!1,navButtonText:""},x,m||{}),this.each(function(){if(!this.p.navGrid){var t,i,n,r={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},s=this;if(s.grid&&"string"==typeof g){$(s).data("navGrid")||$(s).data("navGrid",m),n=$(s).data("navGrid"),s.p.force_regional&&(n=$.extend(n,x)),$("#"+r.themodal)[0]===undefined&&(n.alerttop||n.alertleft||(window.innerWidth!==undefined?(n.alertleft=window.innerWidth,n.alerttop=window.innerHeight):document.documentElement!==undefined&&document.documentElement.clientWidth!==undefined&&0!==document.documentElement.clientWidth?(n.alertleft=document.documentElement.clientWidth,n.alerttop=document.documentElement.clientHeight):(n.alertleft=1024,n.alerttop=768),n.alertleft=n.alertleft/2-parseInt(n.alertwidth,10)/2,n.alerttop=n.alerttop/2-25),$.jgrid.createModal(r,"<div>"+n.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+$.jgrid.jqID(s.p.id),jqModal:!0,drag:!0,resize:!0,caption:n.alertcap,top:n.alerttop,left:n.alertleft,width:n.alertwidth,height:n.alertheight,closeOnEscape:n.closeOnEscape,zIndex:n.alertzIndex,styleUI:s.p.styleUI},"#gview_"+$.jgrid.jqID(s.p.id),$("#gbox_"+$.jgrid.jqID(s.p.id))[0],!0));var o,a=1,l=function(){$(this).hasClass(D.disabled)||$(this).addClass(D.hover)},d=function(){$(this).removeClass(D.hover)};for(n.cloneToTop&&s.p.toppager&&(a=2),o=0;o<a;o++){var c,u,p,h=$("<table class='ui-pg-table navtable ui-common-table'><tbody><tr></tr></tbody></table>"),f="<td class='ui-pg-button "+D.disabled+"' style='width:4px;'><span class='ui-separator'></span></td>";0===o?(u=g,p=s.p.id,u===s.p.toppager&&(p+="_top",a=1)):(u=s.p.toppager,p=s.p.id+"_top"),"rtl"===s.p.direction&&$(h).attr("dir","rtl").css("float","right"),b=b||{},n.add&&(c=$("<td class='ui-pg-button "+D.cornerall+"'></td>"),$(c).append("<div class='ui-pg-div'><span class='"+D.icon_base+" "+n.addicon+"'></span>"+n.addtext+"</div>"),$("tr",h).append(c),$(c,h).attr({title:n.addtitle||"",id:b.id||"add_"+p}).click(function(){return $(this).hasClass(D.disabled)||(
$.isFunction(n.addfunc)?n.addfunc.call(s):$(s).jqGrid("editGridRow","new",b)),!1}).hover(l,d),c=null),v=v||{},n.edit&&(c=$("<td class='ui-pg-button "+D.cornerall+"'></td>"),$(c).append("<div class='ui-pg-div'><span class='"+D.icon_base+" "+n.editicon+"'></span>"+n.edittext+"</div>"),$("tr",h).append(c),$(c,h).attr({title:n.edittitle||"",id:v.id||"edit_"+p}).click(function(){if(!$(this).hasClass(D.disabled)){var e=s.p.selrow;e?$.isFunction(n.editfunc)?n.editfunc.call(s,e):$(s).jqGrid("editGridRow",e,v):($.jgrid.viewModal("#"+r.themodal,{gbox:"#gbox_"+$.jgrid.jqID(s.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1}).hover(l,d),c=null),w=w||{},n.view&&(c=$("<td class='ui-pg-button "+D.cornerall+"'></td>"),$(c).append("<div class='ui-pg-div'><span class='"+D.icon_base+" "+n.viewicon+"'></span>"+n.viewtext+"</div>"),$("tr",h).append(c),$(c,h).attr({title:n.viewtitle||"",id:w.id||"view_"+p}).click(function(){if(!$(this).hasClass(D.disabled)){var e=s.p.selrow;e?$.isFunction(n.viewfunc)?n.viewfunc.call(s,e):$(s).jqGrid("viewGridRow",e,w):($.jgrid.viewModal("#"+r.themodal,{gbox:"#gbox_"+$.jgrid.jqID(s.p.id),jqm:!0}),$("#jqg_alrt").focus())}return!1}).hover(l,d),c=null),_=_||{},n.del&&(c=$("<td class='ui-pg-button "+D.cornerall+"'></td>"),$(c).append("<div class='ui-pg-div'><span class='"+D.icon_base+" "+n.delicon+"'></span>"+n.deltext+"</div>"),$("tr",h).append(c),$(c,h).attr({title:n.deltitle||"",id:_.id||"del_"+p}).click(function(){var e;$(this).hasClass(D.disabled)||(s.p.multiselect?0===(e=s.p.selarrrow).length&&(e=null):e=s.p.selrow,e?$.isFunction(n.delfunc)?n.delfunc.call(s,e):$(s).jqGrid("delGridRow",e,_):($.jgrid.viewModal("#"+r.themodal,{gbox:"#gbox_"+$.jgrid.jqID(s.p.id),jqm:!0}),$("#jqg_alrt").focus()));return!1}).hover(l,d),c=null),(n.add||n.edit||n.del||n.view)&&$("tr",h).append(f),y=y||{},n.search&&(c=$("<td class='ui-pg-button "+D.cornerall+"'></td>"),$(c).append("<div class='ui-pg-div'><span class='"+D.icon_base+" "+n.searchicon+"'></span>"+n.searchtext+"</div>"),$("tr",h).append(c),$(c,h).attr({title:n.searchtitle||"",id:y.id||"search_"+p}).click(function(){return $(this).hasClass(D.disabled)||($.isFunction(n.searchfunc)?n.searchfunc.call(s,y):$(s).jqGrid("searchGrid",y)),!1}).hover(l,d),y.showOnLoad&&!0===y.showOnLoad&&$(c,h).click(),c=null),n.refresh&&(c=$("<td class='ui-pg-button "+D.cornerall+"'></td>"),$(c).append("<div class='ui-pg-div'><span class='"+D.icon_base+" "+n.refreshicon+"'></span>"+n.refreshtext+"</div>"),$("tr",h).append(c),$(c,h).attr({title:n.refreshtitle||"",id:"refresh_"+p}).click(function(){if(!$(this).hasClass(D.disabled)){$.isFunction(n.beforeRefresh)&&n.beforeRefresh.call(s),s.p.search=!1,s.p.resetsearch=!0;try{if("currentfilter"!==n.refreshstate){var t=s.p.id;s.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(t)).jqFilter("resetFilter")}catch(i){}$.isFunction(s.clearToolbar)&&s.clearToolbar.call(s,!1)}}catch(e){}switch(n.refreshstate){case"firstpage":$(s).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(s).trigger("reloadGrid",[{current:!0}])}$.isFunction(n.afterRefresh)&&n.afterRefresh.call(s)}return!1}).hover(l,d),c=null),i=$(".ui-jqgrid").css("font-size")||"11px",$("body").append("<div id='testpg2' class='ui-jqgrid "+$.jgrid.styleUI[j].base.entrieBox+"' style='font-size:"+i+";visibility:hidden;' ></div>"),t=$(h).clone().appendTo("#testpg2").width(),$("#testpg2").remove(),s.p._nvtd&&(n.dropmenu?(h=null,$(s).jqGrid("_buildNavMenu",u,p,m,v,b,_,y,w)):t>s.p._nvtd[0]?(s.p.responsive?(h=null,$(s).jqGrid("_buildNavMenu",u,p,m,v,b,_,y,w)):$(u+"_"+n.position,u).append(h).width(t),s.p._nvtd[0]=t):$(u+"_"+n.position,u).append(h),s.p._nvtd[1]=t),s.p.navGrid=!0}s.p.storeNavOptions&&(s.p.navOptions=n,s.p.editOptions=v,s.p.addOptions=b,s.p.delOptions=_,s.p.searchOptions=y,s.p.viewOptions=w,s.p.navButtons=[])}}})},navButtonAdd:function(c,u){var p=this[0].p.styleUI,e=$.jgrid.styleUI[p].navigator;return u=$.extend({caption:"newButton",title:"",buttonicon:e.icon_newbutton_nav,onClickButton:null,position:"last",cursor:"pointer",internal:!1},u||{}),this.each(function(){if(this.grid){"string"==typeof c&&0!==c.indexOf("#")&&(c="#"+$.jgrid.jqID(c));var e=$(".navtable",c)[0],t=this,i=$.jgrid.styleUI[p].common.disabled,n=$.jgrid.styleUI[p].common.hover,r=$.jgrid.styleUI[p].common.cornerall,s=$.jgrid.styleUI[p].common.icon_base;if(t.p.storeNavOptions&&!u.internal&&t.p.navButtons.push([c,u]),e){if(u.id&&$("#"+$.jgrid.jqID(u.id),e)[0]!==undefined)return;var o=$("<td></td>");"NONE"===u.buttonicon.toString().toUpperCase()?$(o).addClass("ui-pg-button "+r).append("<div class='ui-pg-div'>"+u.caption+"</div>"):$(o).addClass("ui-pg-button "+r).append("<div class='ui-pg-div'><span class='"+s+" "+u.buttonicon+"'></span>"+u.caption+"</div>"),u.id&&$(o).attr("id",u.id),"first"===u.position?0===e.rows[0].cells.length?$("tr",e).append(o):$("tr td:eq(0)",e).before(o):$("tr",e).append(o),$(o,e).attr("title",u.title||"").click(function(e){return $(this).hasClass(i)||$.isFunction(u.onClickButton)&&u.onClickButton.call(t,e),!1}).hover(function(){$(this).hasClass(i)||$(this).addClass(n)},function(){$(this).removeClass(n)})}else if(e=$(".dropdownmenu",c)[0]){var a=$(e).val(),l=u.id||$.jgrid.randId(),d=$('<li class="ui-menu-item" role="presentation"><a class="'+r+' g-menu-item" tabindex="0" role="menuitem" id="'+l+'">'+(u.caption||u.title)+"</a></li>");a&&("first"===u.position?$("#"+a).prepend(d):$("#"+a).append(d),$(d).on("click",function(e){return $(this).hasClass(i)||($("#"+a).hide(),$.isFunction(u.onClickButton)&&u.onClickButton.call(t,e)),!1}).find("a").hover(function(){$(this).hasClass(i)||$(this).addClass(n)},function(){$(this).removeClass(n)}))}}})},navSeparatorAdd:function(n,r){var e=this[0].p.styleUI,s=$.jgrid.styleUI[e].common;return r=$.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},r||{}),this.each(function(){if(this.grid){"string"==typeof n&&0!==n.indexOf("#")&&(n="#"+$.jgrid.jqID(n));var e,t,i=$(".navtable",n)[0];this.p.storeNavOptions&&this.p.navButtons.push([n,r]),i?(e="<td class='ui-pg-button "+s.disabled+"' style='width:4px;'><span class='"+r.sepclass+"'></span>"+r.sepcontent+"</td>","first"===r.position?0===i.rows[0].cells.length?$("tr",i).append(e):$("tr td:eq(0)",i).before(e):$("tr",i).append(e)):(i=$(".dropdownmenu",n)[0],e="<li class='ui-menu-item "+s.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>",i&&(t=$(i).val())&&("first"===r.position?$("#"+t).prepend(e):$("#"+t).append(e)))}})},_buildNavMenu:function(c,u,p,h,f,g,m,v){return this.each(function(){var s=this,t=$.jgrid.getRegional(s,"nav"),i=s.p.styleUI,o=($.jgrid.styleUI[i].navigator,$.jgrid.styleUI[i].filter),a=$.jgrid.styleUI[i].common,l="form_menu_"+$.jgrid.randId(),n=p.navButtonText?p.navButtonText:t.selectcaption||"Actions",r="<button class='dropdownmenu "+a.button+"' value='"+l+"'>"+n+"</button>";$(c+"_"+p.position,c).append(r);var d={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id};(function(){var t,i,n=$(".ui-jqgrid-view").css("font-size")||"11px",r=$('<ul id="'+l+'" class="ui-nav-menu modal-content" role="menu" tabindex="0" style="display:none;font-size:'+n+'"></ul>');p.add&&(t=(f=f||{}).id||"add_"+u,i=$('<li class="ui-menu-item" role="presentation"><a class="'+a.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(p.addtext||p.addtitle)+"</a></li>").click(function(){return $(this).hasClass(a.disabled)||($.isFunction(p.addfunc)?p.addfunc.call(s):$(s).jqGrid("editGridRow","new",f),$(r).hide()),!1}),$(r).append(i)),p.edit&&(t=(h=h||{}).id||"edit_"+u,i=$('<li class="ui-menu-item" role="presentation"><a class="'+a.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(p.edittext||p.edittitle)+"</a></li>").click(function(){if(!$(this).hasClass(a.disabled)){var e=s.p.selrow;e?$.isFunction(p.editfunc)?p.editfunc.call(s,e):$(s).jqGrid("editGridRow",e,h):($.jgrid.viewModal("#"+d.themodal,{gbox:"#gbox_"+$.jgrid.jqID(s.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(r).hide()}return!1}),$(r).append(i)),p.view&&(t=(v=v||{}).id||"view_"+u,i=$('<li class="ui-menu-item" role="presentation"><a class="'+a.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(p.viewtext||p.viewtitle)+"</a></li>").click(function(){if(!$(this).hasClass(a.disabled)){var e=s.p.selrow;e?$.isFunction(p.editfunc)?p.viewfunc.call(s,e):$(s).jqGrid("viewGridRow",e,v):($.jgrid.viewModal("#"+d.themodal,{gbox:"#gbox_"+$.jgrid.jqID(s.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(r).hide()}return!1}),$(r).append(i)),p.del&&(t=(g=g||{}).id||"del_"+u,i=$('<li class="ui-menu-item" role="presentation"><a class="'+a.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(p.deltext||p.deltitle)+"</a></li>").click(function(){var e;$(this).hasClass(a.disabled)||(s.p.multiselect?0===(e=s.p.selarrrow).length&&(e=null):e=s.p.selrow,e?$.isFunction(p.delfunc)?p.delfunc.call(s,e):$(s).jqGrid("delGridRow",e,g):($.jgrid.viewModal("#"+d.themodal,{gbox:"#gbox_"+$.jgrid.jqID(s.p.id),jqm:!0}),$("#jqg_alrt").focus()),$(r).hide());return!1}),$(r).append(i)),(p.add||p.edit||p.del||p.view)&&$(r).append("<li class='ui-menu-item "+a.disabled+"' style='width:100%' role='presentation'><hr class='ui-separator-li'></li>"),p.search&&(t=(m=m||{}).id||"search_"+u,i=$('<li class="ui-menu-item" role="presentation"><a class="'+a.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(p.searchtext||p.searchtitle)+"</a></li>").click(function(){return $(this).hasClass(a.disabled)||($.isFunction(p.searchfunc)?p.searchfunc.call(s,m):$(s).jqGrid("searchGrid",m),$(r).hide()),!1}),$(r).append(i),m.showOnLoad&&!0===m.showOnLoad&&$(i).click()),p.refresh&&(t=m.id||"search_"+u,i=$('<li class="ui-menu-item" role="presentation"><a class="'+a.cornerall+' g-menu-item" tabindex="0" role="menuitem" id="'+t+'">'+(p.refreshtext||p.refreshtitle)+"</a></li>").click(function(){if(!$(this).hasClass(a.disabled)){$.isFunction(p.beforeRefresh)&&p.beforeRefresh.call(s),s.p.search=!1,s.p.resetsearch=!0;try{if("currentfilter"!==p.refreshstate){var t=s.p.id;s.p.postData.filters="";try{$("#fbox_"+$.jgrid.jqID(t)).jqFilter("resetFilter")}catch(i){}$.isFunction(s.clearToolbar)&&s.clearToolbar.call(s,!1)}}catch(e){}switch(p.refreshstate){case"firstpage":$(s).trigger("reloadGrid",[{page:1}]);break;case"current":case"currentfilter":$(s).trigger("reloadGrid",[{current:!0}])}$.isFunction(p.afterRefresh)&&p.afterRefresh.call(s),$(r).hide()}return!1}),$(r).append(i)),$(r).hide(),$("body").append(r),$("#"+l).addClass("ui-menu "+o.menu_widget),$("#"+l+" > li > a").hover(function(){$(this).addClass(a.hover)},function(){$(this).removeClass(a.hover)})})(),$(".dropdownmenu",c+"_"+p.position).on("click",function(e){var t=$(this).offset(),i=t.left,n=parseInt(t.top),r=$(this).val();$("#"+r).show().css({top:n-($("#"+r).height()+10)+"px",left:i+"px"}),e.stopPropagation()}),$("body").on("click",function(e){$(e.target).hasClass("dropdownmenu")||$("#"+l).hide()})})},GridToForm:function(n,r){return this.each(function(){var e,t=this;if(t.grid){var i=$(t).jqGrid("getRowData",n);if(i)for(e in i)i.hasOwnProperty(e)&&($("[name="+$.jgrid.jqID(e)+"]",r).is("input:radio")||$("[name="+$.jgrid.jqID(e)+"]",r).is("input:checkbox")?$("[name="+$.jgrid.jqID(e)+"]",r).each(function(){$(this).val()==i[e]?$(this)[t.p.useProp?"prop":"attr"]("checked",!0):$(this)[t.p.useProp?"prop":"attr"]("checked",!1)}):$("[name="+$.jgrid.jqID(e)+"]",r).val(i[e]))}})},FormToGrid:function(n,r,s,o){return this.each(function(){var e=this;if(e.grid){s||(s="set"),o||(o="first");var t=$(r).serializeArray(),i={};$.each(t,function(e,t){i[t.name]=t.value}),"add"===s?$(e).jqGrid("addRowData",n,i,o):"set"===s&&$(e).jqGrid("setRowData",n,i)}})}}),$.jgrid.extend({groupingSetup:function(){return this.each(function(){var e,t,i,n=this,r=n.p.colModel,s=n.p.groupingView,o=$.jgrid.styleUI[n.p.styleUI||"jQueryUI"].grouping;if(null===s||"object"!=typeof s&&!$.isFunction(s))n.p.grouping=!1;else if(s.plusicon||(s.plusicon=o.icon_plus),s.minusicon||(s.minusicon=o.icon_minus),s.groupField.length){for(s.visibiltyOnNextGrouping===undefined&&(s.visibiltyOnNextGrouping=[]),s.lastvalues=[],s._locgr||(s.groups=[]),s.counters=[],e=0;e<s.groupField.length;e++)s.groupOrder[e]||(s.groupOrder[e]="asc"),s.groupText[e]||(s.groupText[e]="{0}"),"boolean"!=typeof s.groupColumnShow[e]&&(s.groupColumnShow[e]=!0),"boolean"!=typeof s.groupSummary[e]&&(s.groupSummary[e]=!1),s.groupSummaryPos[e]||(s.groupSummaryPos[e]="footer"),!0===s.groupColumnShow[e]?(s.visibiltyOnNextGrouping[e]=!0,$(n).jqGrid("showCol",s.groupField[e])):(s.visibiltyOnNextGrouping[e]=$("#"+$.jgrid.jqID(n.p.id+"_"+s.groupField[e])).is(":visible"),$(n).jqGrid("hideCol",s.groupField[e]));for(s.summary=[],s.hideFirstGroupCol&&$.isArray(s.formatDisplayField)&&!$.isFunction(s.formatDisplayField[0])&&(s.formatDisplayField[0]=function(e){return e}),t=0,i=r.length;t<i;t++)s.hideFirstGroupCol&&(r[t].hidden||s.groupField[0]!==r[t].name||(r[t].formatter=function(){return""})),r[t].summaryType&&(r[t].summaryDivider?s.summary.push({nm:r[t].name,st:r[t].summaryType,v:"",sd:r[t].summaryDivider,vd:"",sr:r[t].summaryRound,srt:r[t].summaryRoundType||"round"}):s.summary.push({nm:r[t].name,st:r[t].summaryType,v:"",sr:r[t].summaryRound,srt:r[t].summaryRoundType||"round"}))}else n.p.grouping=!1})},groupingPrepare:function(c,u){return this.each(function(){var e,t,i,n,r,s=this.p.groupingView,o=this,a=function(){$.isFunction(this.st)?this.v=this.st.call(o,this.v,this.nm,c):(this.v=$(o).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,c),"avg"===this.st.toLowerCase()&&this.sd&&(this.vd=$(o).jqGrid("groupingCalculations.handler",this.st,this.vd,this.sd,this.sr,this.srt,c)))},l=s.groupField.length,d=0;for(e=0;e<l;e++)t=s.groupField[e],n=s.displayField[e],i=c[t],null==(r=null==n?null:c[n])&&(r=i),i!==undefined&&(0===u?(s.groups.push({idx:e,dataIndex:t,value:i,displayValue:r,startRow:u,cnt:1,summary:[]}),s.lastvalues[e]=i,s.counters[e]={cnt:1,pos:s.groups.length-1,summary:$.extend(!0,[],s.summary)}):"object"==typeof i||($.isArray(s.isInTheSameGroup)&&$.isFunction(s.isInTheSameGroup[e])?s.isInTheSameGroup[e].call(o,s.lastvalues[e],i,e,s):s.lastvalues[e]===i)?1===d?(s.groups.push({idx:e,dataIndex:t,value:i,displayValue:r,startRow:u,cnt:1,summary:[]}),s.lastvalues[e]=i,s.counters[e]={cnt:1,pos:s.groups.length-1,summary:$.extend(!0,[],s.summary)}):(s.counters[e].cnt+=1,s.groups[s.counters[e].pos].cnt=s.counters[e].cnt):(s.groups.push({idx:e,dataIndex:t,value:i,displayValue:r,startRow:u,cnt:1,summary:[]}),s.lastvalues[e]=i,d=1,s.counters[e]={cnt:1,pos:s.groups.length-1,summary:$.extend(!0,[],s.summary)}),$.each(s.counters[e].summary,a),s.groups[s.counters[e].pos].summary=s.counters[e].summary)}),this},groupingToggle:function(b){return this.each(function(){var e=this,t=e.p.groupingView,i=b.split("_"),n=parseInt(i[i.length-2],10);i.splice(i.length-2,2);var r,s,o=i.join("_"),a=t.minusicon,l=t.plusicon,d=$("#"+$.jgrid.jqID(b)),c=d.length?d[0].nextSibling:null,u=$("#"+$.jgrid.jqID(b)+" span.tree-wrap-"+e.p.direction),p=function(e){var t=$.map(e.split(" "),function(e){if(e.substring(0,o.length+1)===o+"_")return parseInt(e.substring(o.length+1),10)});return 0<t.length?t[0]:undefined},h=!1,f=!1,g=!!e.p.frozenColumns&&e.p.id+"_frozen",m=!!g&&$("#"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(g)),v=m&&m.length?m[0].nextSibling:null;if(u.hasClass(a)){if(c)for(;c&&!((r=p(c.className))!==undefined&&r<=n);)$(c).hide(),c=c.nextSibling,g&&($(v).hide(),v=v.nextSibling);u.removeClass(a).addClass(l),h=!0}else{if(c)for(s=undefined;c;){if(r=p(c.className),s===undefined&&(s=r===undefined),f=$(c).hasClass("ui-subgrid")&&$(c).hasClass("ui-sg-collapsed"),r!==undefined){if(r<=n)break;r===n+1&&(f||($(c).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(a).addClass(l),g&&$(v).show().find(">td>span.tree-wrap-"+e.p.direction).removeClass(a).addClass(l)))}else s&&(f||($(c).show(),g&&$(v).show()));c=c.nextSibling,g&&(v=v.nextSibling)}u.removeClass(l).addClass(a)}$(e).triggerHandler("jqGridGroupingClickGroup",[b,h]),$.isFunction(e.p.onClickGroup)&&e.p.onClickGroup.call(e,b,h)}),!1},groupingRender:function(I,T,q,M){return this.each(function(){function p(e,t,i){var n,r=!1;if(0===t)r=i[e];else{var s=i[e].idx;if(0===s)r=i[e];else for(n=e;0<=n;n--)if(i[n].idx===s-t){r=i[n];break}}return r}function h(e,t,i,n){var r,s,o=p(e,t,i),a=v.p.colModel,l=o.cnt,d="";for(s=n;s<T;s++){var c="<td "+v.formatCol(s,1,"")+">&#160;</td>",u="{0}";$.each(o.summary,function(){if(this.nm===a[s].name){a[s].summaryTpl&&(u=a[s].summaryTpl),"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&(this.sd&&this.vd?this.v=this.v/this.vd:this.v&&0<l&&(this.v=this.v/l));try{this.groupCount=o.cnt,this.groupIndex=o.dataIndex,this.groupValue=o.value,r=v.formatter("",this.v,s,this)}catch(e){r=this.v}return c="<td "+v.formatCol(s,1,"")+">"+$.jgrid.template(u,r)+"</td>",!1}}),d+=c}return d}var f,g,m,v=this,b=v.p.groupingView,_="",y="",w=b.groupCollapse?b.plusicon:b.minusicon,x=[],j=b.groupField.length,D=$.jgrid.styleUI[v.p.styleUI||"jQueryUI"].common;w=w+" tree-wrap-"+v.p.direction,$.each(v.p.colModel,function(e,t){var i;for(i=0;i<j;i++)if(b.groupField[i]===t.name){x[i]=e;break}});var k,C=0,S=$.makeArray(b.groupSummary);S.reverse(),k=v.p.multiselect?' colspan="2"':"",$.each(b.groups,function(e,t){if(b._locgr&&!(t.startRow+t.cnt>(q-1)*M&&t.startRow<q*M))return!0;C++,g=v.p.id+"ghead_"+t.idx,f=g+"_"+e,y="<span style='cursor:pointer;margin-right:8px;margin-left:5px;' class='"+D.icon_base+" "+w+"' onclick=\"jQuery('#"+$.jgrid.jqID(v.p.id)+"').jqGrid('groupingToggle','"+f+"');return false;\"></span>";try{$.isArray(b.formatDisplayField)&&$.isFunction(b.formatDisplayField[t.idx])?(t.displayValue=b.formatDisplayField[t.idx].call(v,t.displayValue,t.value,v.p.colModel[x[t.idx]],t.idx,b),m=t.displayValue):m=v.formatter(f,t.displayValue,x[t.idx],t.value)}catch(u){m=t.displayValue}var i="";if("string"!=typeof(i=$.isFunction(b.groupText[t.idx])?b.groupText[t.idx].call(v,m,t.cnt,t.summary):$.jgrid.template(b.groupText[t.idx],m,t.cnt,t.summary))&&"number"!=typeof i&&(i=m),"header"===b.groupSummaryPos[t.idx]?(_+='<tr id="'+f+'"'+(b.groupCollapse&&0<t.idx?' style="display:none;" ':" ")+'role="row" class= "'+D.content+" jqgroup ui-row-"+v.p.direction+" "+g+'"><td style="padding-left:'+12*t.idx+'px;"'+k+">"+y+i+"</td>",_+=h(e,0,b.groups,!1===b.groupColumnShow[t.idx]?""===k?2:3:""===k?1:2),_+="</tr>"):_+='<tr id="'+f+'"'+(b.groupCollapse&&0<t.idx?' style="display:none;" ':" ")+'role="row" class= "'+D.content+" jqgroup ui-row-"+v.p.direction+" "+g+'"><td style="padding-left:'+12*t.idx+'px;" colspan="'+(!1===b.groupColumnShow[t.idx]?T-1:T)+'">'+y+i+"</td></tr>",j-1===t.idx){var n,r,s=b.groups[e+1],o=0,a=t.startRow,l=s!==undefined?s.startRow:b.groups[e].startRow+b.groups[e].cnt;for(b._locgr&&(o=(q-1)*M)>t.startRow&&(a=o),n=a;n<l&&I[n-o];n++)_+=I[n-o].join("");if("header"!==b.groupSummaryPos[t.idx]){var d;if(s!==undefined){for(d=0;d<b.groupField.length&&s.dataIndex!==b.groupField[d];d++);C=b.groupField.length-d}for(r=0;r<C;r++)if(S[r]){var c="";b.groupCollapse&&!b.showSummaryOnHide&&(c=' style="display:none;"'),_+="<tr"+c+' jqfootlevel="'+(t.idx-r)+'" role="row" class="'+D.content+" jqfoot ui-row-"+v.p.direction+'">',_+=h(e,r,b.groups,0),_+="</tr>"}C=d}}}),$("#"+$.jgrid.jqID(v.p.id)+" tbody:first").append(_),_=null})},groupingGroupBy:function(n,r){return this.each(function(){var e=this;"string"==typeof n&&(n=[n]);var t,i=e.p.groupingView;for(e.p.grouping=!0,i._locgr=!1,i.visibiltyOnNextGrouping===undefined&&(i.visibiltyOnNextGrouping=[]),t=0;t<i.groupField.length;t++)!i.groupColumnShow[t]&&i.visibiltyOnNextGrouping[t]&&$(e).jqGrid("showCol",i.groupField[t]);for(t=0;t<n.length;t++)i.visibiltyOnNextGrouping[t]=$("#"+$.jgrid.jqID(e.p.id)+"_"+$.jgrid.jqID(n[t])).is(":visible");e.p.groupingView=$.extend(e.p.groupingView,r||{}),i.groupField=n,$(e).trigger("reloadGrid")})},groupingRemove:function(n){return this.each(function(){var e=this;if(n===undefined&&(n=!0),!(e.p.grouping=!1)===n){var t,i=e.p.groupingView;for(t=0;t<i.groupField.length;t++)!i.groupColumnShow[t]&&i.visibiltyOnNextGrouping[t]&&$(e).jqGrid("showCol",i.groupField);$("tr.jqgroup, tr.jqfoot","#"+$.jgrid.jqID(e.p.id)+" tbody:first").remove(),$("tr.jqgrow:hidden","#"+$.jgrid.jqID(e.p.id)+" tbody:first").show()}else $(e).trigger("reloadGrid")})},groupingCalculations:{handler:function(e,t,i,n,r,s){var o={sum:function(){return parseFloat(t||0)+parseFloat(s[i]||0)},min:function(){return""===t?parseFloat(s[i]||0):Math.min(parseFloat(t),parseFloat(s[i]||0))},max:function(){return""===t?parseFloat(s[i]||0):Math.max(parseFloat(t),parseFloat(s[i]||0))},count:function(){return""===t&&(t=0),s.hasOwnProperty(i)?t+1:0},avg:function(){return o.sum()}};if(!o[e])throw"jqGrid Grouping No such method: "+e;var a=o[e]();if(null!=n)if("fixed"===r)a=a.toFixed(n);else{var l=Math.pow(10,n);a=Math.round(a*l)/l}return a}},setGroupHeaders:function(C){return C=$.extend({useColSpanStyle:!1,groupHeaders:[]},C||{}),this.each(function(){var e,t,i,n,r,s,o,a,l,d,c,u,p,h,f=this,g=0,m=f.p.colModel,v=m.length,b=f.grid.headers,_=$("table.ui-jqgrid-htable",f.grid.hDiv),y=_.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header"),w=_.children("thead"),x=_.find(".jqg-first-row-header"),j=$.jgrid.styleUI[f.p.styleUI||"jQueryUI"].base;f.p.groupHeader||(f.p.groupHeader=[]),f.p.groupHeader.push(C),x[0]===undefined?x=$("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):x.empty();var D,k=function(e,t){var i,n=t.length;for(i=0;i<n;i++)if(t[i].startColumnName===e)return i;return-1};for($(f).prepend(w),i=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels jqg-third-row-header"),e=0;e<v;e++)if(r=b[e].el,s=$(r),t=m[e],o={height:"0px",width:b[e].width+"px",display:t.hidden?"none":""},$("<th>",{role:"gridcell"}).css(o).addClass("ui-first-th-"+f.p.direction).appendTo(x),r.style.width="",0<=(a=k(t.name,C.groupHeaders))){for(d=(l=C.groupHeaders[a]).numberOfColumns,c=l.titleText,p=l.className||"",a=u=0;a<d&&e+a<v;a++)m[e+a].hidden||u++;n=$("<th>").attr({role:"columnheader"}).addClass(j.headerBox+" ui-th-column-header ui-th-"+f.p.direction+" "+p).html(c),0<u&&n.attr("colspan",String(u)),f.p.headertitles&&n.attr("title",n.text()),0===u&&n.hide(),s.before(n),i.append(r),g=d-1}else 0===g?C.useColSpanStyle?s.attr("rowspan","2"):($("<th>",{role:"columnheader"}).addClass(j.headerBox+" ui-th-column-header ui-th-"+f.p.direction).css({display:t.hidden?"none":""}).insertBefore(s),i.append(r)):(i.append(r),g--);(h=$(f).children("thead")).prepend(x),i.insertAfter(y),_.append(h),C.useColSpanStyle&&(_.find("span.ui-jqgrid-resize").each(function(){var e=$(this).parent();e.is(":visible")&&(this.style.cssText="height: "+e.height()+"px !important; cursor: col-resize;")}),_.find("div.ui-jqgrid-sortable").each(function(){var e=$(this),t=e.parent();t.is(":visible")&&t.is(":has(span.ui-jqgrid-resize)")&&e.css("top",(t.height()-e.outerHeight())/2-4+"px")})),D=h.find("tr.jqg-first-row-header"),$(f).bind("jqGridResizeStop.setGroupHeaders",function(e,t,i){D.find("th").eq(i)[0].style.width=t+"px"})})},destroyGroupHeader:function(p){return p===undefined&&(p=!0),this.each(function(){var e,t,i,n,r,s,o,a=this,l=a.grid,d=$("table.ui-jqgrid-htable thead",l.hDiv),c=a.p.colModel;if(l){for($(this).unbind(".setGroupHeaders"),e=$("<tr>",{role:"row"}).addClass("ui-jqgrid-labels"),t=0,i=(n=l.headers).length;t<i;t++){o=c[t].hidden?"none":"",r=$(n[t].el).width(n[t].width).css("display",o);try{r.removeAttr("rowSpan")}catch(u){r.attr("rowSpan",1)}e.append(r),0<(s=r.children("span.ui-jqgrid-resize")).length&&(s[0].style.height=""),r.children("div")[0].style.top=""}$(d).children("tr.ui-jqgrid-labels").remove(),$(d).prepend(e),!0===p&&$(a).jqGrid("setGridParam",{groupHeader:null})}})}}),$.jgrid=$.jgrid||{},$.extend($.jgrid,{saveState:function(t,i){if(i=$.extend({useStorage:!0,storageType:"localStorage",beforeSetItem:null,compression:!1,compressionModule:"LZString",compressionMethod:"compressToUTF16",debug:!1},i||{}),t){var n,r,s="",o="",a=$("#"+t)[0];if(a.grid){(r=$(a).data("inlineNav"))&&a.p.inlineNav&&$(a).jqGrid("setGridParam",{_iN:r}),(r=$(a).data("filterToolbar"))&&a.p.filterToolbar&&$(a).jqGrid("setGridParam",{_fT:r}),s=$(a).jqGrid("jqGridExport",{exptype:"jsonstring",ident:"",root:""});var l=(o=$(a.grid.bDiv).find(".ui-jqgrid-btable tbody:first").html()).indexOf("</tr>");if(o=o.slice(l+5),$.isFunction(i.beforeSetItem)&&null!=(n=i.beforeSetItem.call(a,s))&&(s=n),i.debug){$("#gbox_tree").prepend('<a id="link_save" target="_blank" download="jqGrid_dump.txt">Click to save Dump Data</a>');var d,c,u=[],p={};u.push("Grid Options\n"),u.push(s),u.push("\n"),u.push("GridData\n"),u.push(o),p.type="plain/text;charset=utf-8";try{d=new File(u,"jqGrid_dump.txt",p)}catch(e){d=new Blob(u,p)}c=URL.createObjectURL(d),$("#link_save").attr("href",c).bind("click",function(){$(this).remove()})}if(i.compression&&i.compressionModule)try{null!=(n=window[i.compressionModule][i.compressionMethod](s))&&(s=n,o=window[i.compressionModule][i.compressionMethod](o))}catch(e){}if(i.useStorage&&$.jgrid.isLocalStorage())try{window[i.storageType].setItem("jqGrid"+a.p.id,s),window[i.storageType].setItem("jqGrid"+a.p.id+"_data",o)}catch(e){22===e.code&&alert("Local storage limit is over!")}return s}}},loadState:function(t,i,n){if(n=$.extend({useStorage:!0,storageType:"localStorage",clearAfterLoad:!1,beforeSetGrid:null,afterSetGrid:null,decompression:!1,decompressionModule:"LZString",decompressionMethod:"decompressFromUTF16"},n||{}),t){var r,s,o,a,l,d=$("#"+t)[0];if(n.useStorage)try{i=window[n.storageType].getItem("jqGrid"+d.id),o=window[n.storageType].getItem("jqGrid"+d.id+"_data")}catch(e){}if(i){if(n.decompression&&n.decompressionModule)try{null!=(r=window[n.decompressionModule][n.decompressionMethod](i))&&(i=r,o=window[n.decompressionModule][n.decompressionMethod](o))}catch(e){}if((r=jqGridUtils.parse(i))&&"object"===$.type(r)){d.grid&&$.jgrid.gridUnload(t),$.isFunction(n.beforeSetGrid)&&(s=n.beforeSetGrid(r))&&"object"===$.type(s)&&(r=s);var c=function(e){return e},u={reccount:r.reccount,records:r.records,lastpage:r.lastpage,shrinkToFit:c(r.shrinkToFit),data:c(r.data),datatype:c(r.datatype),grouping:c(r.grouping)};r.shrinkToFit=!1,r.data=[],r.datatype="local",r.grouping=!1,r.inlineNav&&(a=c(r._iN),r._iN=null,delete r._iN),r.filterToolbar&&(l=c(r._fT),r._fT=null,delete r._fT);var p=$("#"+t).jqGrid(r);if(p.append(o),p.jqGrid("setGridParam",u),r.storeNavOptions&&r.navGrid&&(p[0].p.navGrid=!1,p.jqGrid("navGrid",r.pager,r.navOptions,r.editOptions,r.addOptions,r.delOptions,r.searchOptions,r.viewOptions),r.navButtons&&r.navButtons.length))for(var h=0;h<r.navButtons.length;h++)"sepclass"in r.navButtons[h][1]?p.jqGrid("navSeparatorAdd",r.navButtons[h][0],r.navButtons[h][1]):p.jqGrid("navButtonAdd",r.navButtons[h][0],r.navButtons[h][1]);if(p[0].refreshIndex(),r.subGrid){var f=1===r.multiselect?1:0,g=!0===r.rownumbers?1:0;p.jqGrid("addSubGrid",f+g)}if(r.treeGrid)for(var m=1,v=p[0].rows.length,b=r.expColInd,_=r.treeReader.leaf_field,y=r.treeReader.expanded_field;m<v;)$(p[0].rows[m].cells[b]).find("div.treeclick").bind("click",function(e){var t=e.target||e.srcElement,i=$.jgrid.stripPref(r.idPrefix,$(t,p[0].rows).closest("tr.jqgrow")[0].id),n=p[0].p._index[i];return p[0].p.data[n][_]||(p[0].p.data[n][y]?(p.jqGrid("collapseRow",p[0].p.data[n]),p.jqGrid("collapseNode",p[0].p.data[n])):(p.jqGrid("expandRow",p[0].p.data[n]),p.jqGrid("expandNode",p[0].p.data[n]))),!1}),!0===r.ExpandColClick&&$(p[0].rows[m].cells[b]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(e){var t=e.target||e.srcElement,i=$.jgrid.stripPref(r.idPrefix,$(t,p[0].rows).closest("tr.jqgrow")[0].id),n=p[0].p._index[i];return p[0].p.data[n][_]||(p[0].p.data[n][y]?(p.jqGrid("collapseRow",p[0].p.data[n]),p.jqGrid("collapseNode",p[0].p.data[n])):(p.jqGrid("expandRow",p[0].p.data[n]),p.jqGrid("expandNode",p[0].p.data[n]))),p.jqGrid("setSelection",i),!1}),m++;r.multiselect&&$.each(r.selarrrow,function(){$("#jqg_"+t+"_"+this)[r.useProp?"prop":"attr"]("checked","checked")}),r.inlineNav&&a&&(p.jqGrid("setGridParam",{inlineNav:!1}),p.jqGrid("inlineNav",r.pager,a)),r.filterToolbar&&l&&(p.jqGrid("setGridParam",{filterToolbar:!1}),l.restoreFromFilters=!0,p.jqGrid("filterToolbar",l)),r.frozenColumns&&p.jqGrid("setFrozenColumns"),p[0].updatepager(!0,!0),$.isFunction(n.afterSetGrid)&&n.afterSetGrid(p),n.clearAfterLoad&&(window[n.storageType].removeItem("jqGrid"+d.id),window[n.storageType].removeItem("jqGrid"+d.id+"_data"))}else alert("can not convert to object")}}},isGridInStorage:function(t,i){var n,r,s,o={storageType:"localStorage"};o=$.extend(o,i||{});try{r=window[o.storageType].getItem("jqGrid"+t),s=window[o.storageType].getItem("jqGrid"+t+"_data"),n=null!=r&&null!=s&&"string"==typeof r&&"string"==typeof s}catch(e){n=!1}return n},setRegional:function(t,i){var n={storageType:"sessionStorage"};if((n=$.extend(n,i||{})).regional){$.jgrid.saveState(t,n),n.beforeSetGrid=function(e){return e.regional=n.regional,e.force_regional=!0,e},$.jgrid.loadState(t,null,n);var r=$("#"+t)[0],s=$(r).jqGrid("getGridParam","colModel"),o=-1,a=$.jgrid.getRegional(r,"nav");$.each(s,function(e){if(this.formatter&&"actions"===this.formatter)return o=e,!1}),-1!==o&&a&&$("#"+t+" tbody tr").each(function(){var e=this.cells[o];$(e).find(".ui-inline-edit").attr("title",a.edittitle),$(e).find(".ui-inline-del").attr("title",a.deltitle),$(e).find(".ui-inline-save").attr("title",a.savetitle),$(e).find(".ui-inline-cancel").attr("title",a.canceltitle)});try{window[n.storageType].removeItem("jqGrid"+r.id),window[n.storageType].removeItem("jqGrid"+r.id+"_data")}catch(e){}}},jqGridImport:function(e,i){i=$.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"root>grid",data:"root>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},i||{});var l=(0===e.indexOf("#")?"":"#")+$.jgrid.jqID(e),n=function(e,t){var i,n,r,s=$(t.xmlGrid.config,e)[0],o=$(t.xmlGrid.data,e)[0];if(jqGridUtils.xmlToJSON){for(r in i=jqGridUtils.xmlToJSON(s))i.hasOwnProperty(r)&&(n=i[r]);if(o){var a=i.grid.datatype;i.grid.datatype="xmlstring",i.grid.datastr=e,$(l).jqGrid(n).jqGrid("setGridParam",{datatype:a})}else setTimeout(function(){$(l).jqGrid(n)},0)}else alert("xml2json or parse are not present")},r=function(e,t){if(e&&"string"==typeof e){var i=jqGridUtils.parse(e),n=i[t.jsonGrid.config],r=i[t.jsonGrid.data];if(r){var s=n.datatype;n.datatype="jsonstring",n.datastr=r,$(l).jqGrid(n).jqGrid("setGridParam",{datatype:s})}else $(l).jqGrid(n)}};switch(i.imptype){case"xml":$.ajax($.extend({url:i.impurl,type:i.mtype,data:i.impData,dataType:"xml",complete:function(e,t){"success"===t&&(n(e.responseXML,i),$(l).triggerHandler("jqGridImportComplete",[e,i]),$.isFunction(i.importComplete)&&i.importComplete(e)),e=null}},i.ajaxOptions));break;case"xmlstring":if(i.impstring&&"string"==typeof i.impstring){var t=$.parseXML(i.impstring);t&&(n(t,i),$(l).triggerHandler("jqGridImportComplete",[t,i]),$.isFunction(i.importComplete)&&i.importComplete(t))}break;case"json":$.ajax($.extend({url:i.impurl,type:i.mtype,data:i.impData,dataType:"json",complete:function(e){try{r(e.responseText,i),$(l).triggerHandler("jqGridImportComplete",[e,i]),$.isFunction(i.importComplete)&&i.importComplete(e)}catch(t){}e=null}},i.ajaxOptions));break;case"jsonstring":i.impstring&&"string"==typeof i.impstring&&(r(i.impstring,i),$(l).triggerHandler("jqGridImportComplete",[i.impstring,i]),$.isFunction(i.importComplete)&&i.importComplete(i.impstring))}}}),$.jgrid.extend({jqGridExport:function(t){t=$.extend({exptype:"xmlstring",root:"grid",ident:"\t",addOptions:{}},t||{});var i=null;return this.each(function(){if(this.grid){var e=$.extend(!0,{},$(this).jqGrid("getGridParam"),t.addOptions);switch(e.rownumbers&&(e.colNames.splice(0,1),e.colModel.splice(0,1)),e.multiselect&&(e.colNames.splice(0,1),e.colModel.splice(0,1)),e.subGrid&&(e.colNames.splice(0,1),e.colModel.splice(0,1)),e.knv=null,t.exptype){case"xmlstring":i="<"+t.root+">"+jqGridUtils.jsonToXML(e,{xmlDecl:""})+"</"+t.root+">";break;case"jsonstring":i=jqGridUtils.stringify(e),t.root&&(i="{"+t.root+":"+i+"}")}}}),i},excelExport:function(c){return c=$.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",beforeExport:null,exporthidden:!1,exportgrouping:!1,exportOptions:{}},c||{}),this.each(function(){var e;if(this.grid&&"remote"===c.exptype){var t,i=$.extend({},this.p.postData);if(i[c.oper]=c.tag,$.isFunction(c.beforeExport)){var n=c.beforeExport.call(this,i);$.isPlainObject(n)&&(i=n)}if(c.exporthidden){var r,s=this.p.colModel,o=s.length,a=[];for(r=0;r<o;r++)s[r].hidden===undefined&&(s[r].hidden=!1),a.push({
name:s[r].name,hidden:s[r].hidden});var l=JSON.stringify(a);"string"==typeof l&&(i.colModel=l)}c.exportgrouping&&"string"==typeof(t=JSON.stringify(this.p.groupingView))&&(i.groupingView=t);var d=jQuery.param(i);e=-1!==c.url.indexOf("?")?c.url+"&"+d:c.url+"?"+d,window.location=e}})}}),$.jgrid.inlineEdit=$.jgrid.inlineEdit||{},$.jgrid.extend({editRow:function(h,e,t,i,n,r,s,o,a){var f={},l=$.makeArray(arguments).slice(1);return"object"===$.type(l[0])?f=l[0]:(e!==undefined&&(f.keys=e),$.isFunction(t)&&(f.oneditfunc=t),$.isFunction(i)&&(f.successfunc=i),n!==undefined&&(f.url=n),r!==undefined&&(f.extraparam=r),$.isFunction(s)&&(f.aftersavefunc=s),$.isFunction(o)&&(f.errorfunc=o),$.isFunction(a)&&(f.afterrestorefunc=a)),f=$.extend(!0,{keys:!1,keyevent:"keydown",oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",focusField:!0},$.jgrid.inlineEdit,f),this.each(function(){var s,o,t,a,e,l=this,d=0,c=null,u={},p=$(this).jqGrid("getStyleUI",l.p.styleUI+".inlinedit","inputClass",!0);l.grid&&!1!==(t=$(l).jqGrid("getInd",h,!0))&&(l.p.beforeAction=!0,(e=$.isFunction(f.beforeEditRow)?f.beforeEditRow.call(l,f,h):undefined)===undefined&&(e=!0),e?"0"!==($(t).attr("editable")||"0")||$(t).hasClass("not-editable-row")||(a=l.p.colModel,$('td[role="gridcell"]',t).each(function(e){s=a[e].name;var t=!0===l.p.treeGrid&&s===l.p.ExpandColumn;if(t)o=$("span:first",this).html();else try{o=$.unformat.call(l,this,{rowId:h,colModel:a[e]},e)}catch(r){o=a[e].edittype&&"textarea"===a[e].edittype?$(this).text():$(this).html()}if("cb"!==s&&"subgrid"!==s&&"rn"!==s&&(l.p.autoencode&&(o=$.jgrid.htmlDecode(o)),u[s]=o,!0===a[e].editable)){null===c&&(c=e),t?$("span:first",this).html(""):$(this).html("");var i=$.extend({},a[e].editoptions||{},{id:h+"_"+s,name:s,rowId:h,oper:"edit"});a[e].edittype||(a[e].edittype="text"),("&nbsp;"===o||"&#160;"===o||1===o.length&&160===o.charCodeAt(0))&&(o="");var n=$.jgrid.createEl.call(l,a[e].edittype,i,o,!0,$.extend({},$.jgrid.ajaxOptions,l.p.ajaxSelectOptions||{}));$(n).addClass("editable inline-edit-cell"),-1<$.inArray(a[e].edittype,["text","textarea","password","select"])&&$(n).addClass(p),t?$("span:first",this).append(n):$(this).append(n),$.jgrid.bindEv.call(l,n,i),"select"===a[e].edittype&&a[e].editoptions!==undefined&&!0===a[e].editoptions.multiple&&a[e].editoptions.dataUrl===undefined&&$.jgrid.msie()&&$(n).width($(n).width()),d++}}),0<d&&(u.id=h,l.p.savedRow.push(u),$(t).attr("editable","1"),f.focusField&&("number"==typeof f.focusField&&parseInt(f.focusField,10)<=a.length&&(c=f.focusField),setTimeout(function(){var e=$("td:eq("+c+") :input:visible",t).not(":disabled");0<e.length&&e.focus()},0)),!0===f.keys&&$(t).bind(f.keyevent,function(e){if(27===e.keyCode){if($(l).jqGrid("restoreRow",h,f.afterrestorefunc),l.p.inlineNav)try{$(l).jqGrid("showAddEditButtons")}catch(t){}return!1}if(13===e.keyCode){if("TEXTAREA"===e.target.tagName)return!0;if($(l).jqGrid("saveRow",h,f)&&l.p.inlineNav)try{$(l).jqGrid("showAddEditButtons")}catch(i){}return!1}}),$(l).triggerHandler("jqGridInlineEditRow",[h,f]),$.isFunction(f.oneditfunc)&&f.oneditfunc.call(l,h))):l.p.beforeAction=!1)})},saveRow:function(s,t,i,n,r,o,a){var l=$.makeArray(arguments).slice(1),d={},c=this[0];"object"===$.type(l[0])?d=l[0]:($.isFunction(t)&&(d.successfunc=t),i!==undefined&&(d.url=i),n!==undefined&&(d.extraparam=n),$.isFunction(r)&&(d.aftersavefunc=r),$.isFunction(o)&&(d.errorfunc=o),$.isFunction(a)&&(d.afterrestorefunc=a)),d=$.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST",saveui:"enable",savetext:$.jgrid.getRegional(c,"defaults.savetext")},$.jgrid.inlineEdit,d);var u,p,h,f,g,m=!1,v={},b={},_={},y=!1,w=$.trim($(c).jqGrid("getStyleUI",c.p.styleUI+".common","error",!0));if(!c.grid)return m;if(!1===(g=$(c).jqGrid("getInd",s,!0)))return m;var x=$.jgrid.getRegional(c,"errors"),j=$.jgrid.getRegional(c,"edit"),D=$.isFunction(d.beforeSaveRow)?d.beforeSaveRow.call(c,d,s):undefined;if(D===undefined&&(D=!0),D){if(p=$(g).attr("editable"),d.url=d.url||c.p.editurl,"1"===p){var k;if($('td[role="gridcell"]',g).each(function(t){if(k=c.p.colModel[t],"cb"!==(u=k.name)&&"subgrid"!==u&&!0===k.editable&&"rn"!==u&&!$(this).hasClass("not-editable-cell")){switch(k.edittype){case"checkbox":var i=["Yes","No"];k.editoptions&&(i=k.editoptions.value.split(":")),v[u]=$("input",this).is(":checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":v[u]=$("input, textarea",this).val();break;case"select":if(k.editoptions.multiple){var n=$("select",this),r=[];v[u]=$(n).val(),v[u]?v[u]=v[u].join(","):v[u]="",$("select option:selected",this).each(function(e,t){r[e]=$(t).text()}),b[u]=r.join(",")}else v[u]=$("select option:selected",this).val(),b[u]=$("select option:selected",this).text();k.formatter&&"select"===k.formatter&&(b={});break;case"custom":try{if(!k.editoptions||!$.isFunction(k.editoptions.custom_value))throw"e1";if(v[u]=k.editoptions.custom_value.call(c,$(".customelement",this),"get"),v[u]===undefined)throw"e2"}catch(e){"e1"===e?$.jgrid.info_dialog(x.errcap,"function 'custom_value' "+j.msg.nodefined,j.bClose,{styleUI:c.p.styleUI}):$.jgrid.info_dialog(x.errcap,e.message,j.bClose,{styleUI:c.p.styleUI})}}if(!1===(f=$.jgrid.checkValues.call(c,v[u],t))[0])return!1;c.p.autoencode&&(v[u]=$.jgrid.htmlEncode(v[u])),"clientArray"!==d.url&&k.editoptions&&!0===k.editoptions.NullIfEmpty&&""===v[u]&&(_[u]="null",y=!0)}}),!1===f[0]){try{var C=$(c).jqGrid("getGridRowById",s),S=$.jgrid.findPos(C);$.jgrid.info_dialog(x.errcap,f[1],j.bClose,{left:S[0],top:S[1]+$(C).outerHeight(),styleUI:c.p.styleUI})}catch(e){alert(f[1])}return m}var I,T=c.p.prmNames,q=s;if(I=!1===c.p.keyName?T.id:c.p.keyName,v){if(v[T.oper]=T.editoper,v[I]===undefined||""===v[I])v[I]=s;else if(g.id!==c.p.idPrefix+v[I]){var M=$.jgrid.stripPref(c.p.idPrefix,s);if(c.p._index[M]!==undefined&&(c.p._index[v[I]]=c.p._index[M],delete c.p._index[M]),s=c.p.idPrefix+v[I],$(g).attr("id",s),c.p.selrow===q&&(c.p.selrow=s),$.isArray(c.p.selarrrow)){var A=$.inArray(q,c.p.selarrrow);0<=A&&(c.p.selarrrow[A]=s)}if(c.p.multiselect){var F="jqg_"+c.p.id+"_"+s;$("input.cbox",g).attr("id",F).attr("name",F)}}c.p.inlineData===undefined&&(c.p.inlineData={}),v=$.extend({},v,c.p.inlineData,d.extraparam)}if("clientArray"===d.url){v=$.extend({},v,b),c.p.autoencode&&$.each(v,function(e,t){v[e]=$.jgrid.htmlDecode(t)});var O,P=$(c).jqGrid("setRowData",s,v);for($(g).attr("editable","0"),O=0;O<c.p.savedRow.length;O++)if(String(c.p.savedRow[O].id)===String(q)){h=O;break}0<=h&&c.p.savedRow.splice(h,1),$(c).triggerHandler("jqGridInlineAfterSaveRow",[s,P,v,d]),$.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(c,s,P,v,d),m=!0,$(g).removeClass("jqgrid-new-row").unbind("keydown")}else $(c).jqGrid("progressBar",{method:"show",loadtype:d.saveui,htmlcontent:d.savetext}),(_=$.extend({},v,_))[I]=$.jgrid.stripPref(c.p.idPrefix,_[I]),$.ajax($.extend({url:d.url,data:$.isFunction(c.p.serializeRowData)?c.p.serializeRowData.call(c,_):_,type:d.mtype,async:!1,complete:function(e,t){if($(c).jqGrid("progressBar",{method:"hide",loadtype:d.saveui,htmlcontent:d.savetext}),"success"===t){var i,n,r=!0;if(i=$(c).triggerHandler("jqGridInlineSuccessSaveRow",[e,s,d]),$.isArray(i)||(i=[!0,_]),i[0]&&$.isFunction(d.successfunc)&&(i=d.successfunc.call(c,e)),$.isArray(i)?(r=i[0],v=i[1]||v):r=i,!0===r){for(c.p.autoencode&&$.each(v,function(e,t){v[e]=$.jgrid.htmlDecode(t)}),y&&$.each(v,function(e){"null"===v[e]&&(v[e]="")}),v=$.extend({},v,b),$(c).jqGrid("setRowData",s,v),$(g).attr("editable","0"),n=0;n<c.p.savedRow.length;n++)if(String(c.p.savedRow[n].id)===String(s)){h=n;break}0<=h&&c.p.savedRow.splice(h,1),$(c).triggerHandler("jqGridInlineAfterSaveRow",[s,e,v,d]),$.isFunction(d.aftersavefunc)&&d.aftersavefunc.call(c,s,e,v,d),m=!0,$(g).removeClass("jqgrid-new-row").unbind("keydown")}else $(c).triggerHandler("jqGridInlineErrorSaveRow",[s,e,t,null,d]),$.isFunction(d.errorfunc)&&d.errorfunc.call(c,s,e,t,null),!0===d.restoreAfterError&&$(c).jqGrid("restoreRow",s,d.afterrestorefunc)}},error:function(t,i,n){if($("#lui_"+$.jgrid.jqID(c.p.id)).hide(),$(c).triggerHandler("jqGridInlineErrorSaveRow",[s,t,i,n,d]),$.isFunction(d.errorfunc))d.errorfunc.call(c,s,t,i,n);else{var r=t.responseText||t.statusText;try{$.jgrid.info_dialog(x.errcap,'<div class="'+w+'">'+r+"</div>",j.bClose,{buttonalign:"right",styleUI:c.p.styleUI})}catch(e){alert(r)}}!0===d.restoreAfterError&&$(c).jqGrid("restoreRow",s,d.afterrestorefunc)}},$.jgrid.ajaxOptions,c.p.ajaxRowOptions||{}))}return m}},restoreRow:function(a,t){var i=$.makeArray(arguments).slice(1),l={};return"object"===$.type(i[0])?l=i[0]:$.isFunction(t)&&(l.afterrestorefunc=t),l=$.extend(!0,{},$.jgrid.inlineEdit,l),this.each(function(){var t,i,n=this,r=-1,s={};if(n.grid&&!1!==(t=$(n).jqGrid("getInd",a,!0))){var o=$.isFunction(l.beforeCancelRow)?l.beforeCancelRow.call(n,l,a):undefined;if(o===undefined&&(o=!0),o){for(i=0;i<n.p.savedRow.length;i++)if(String(n.p.savedRow[i].id)===String(a)){r=i;break}if(0<=r){if($.isFunction($.fn.datepicker))try{$("input.hasDatepicker","#"+$.jgrid.jqID(t.id)).datepicker("hide")}catch(e){}$.each(n.p.colModel,function(){!0===this.editable&&n.p.savedRow[r].hasOwnProperty(this.name)&&(s[this.name]=n.p.savedRow[r][this.name])}),$(n).jqGrid("setRowData",a,s),$(t).attr("editable","0").unbind("keydown"),n.p.savedRow.splice(r,1),$("#"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(n.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){$(n).jqGrid("delRowData",a),$(n).jqGrid("showAddEditButtons")},0)}$(n).triggerHandler("jqGridInlineAfterRestoreRow",[a]),$.isFunction(l.afterrestorefunc)&&l.afterrestorefunc.call(n,a)}}})},addRow:function(r){return r=$.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},r||{}),this.each(function(){if(this.grid){var i=this;i.p.beforeAction=!0;var e=$.isFunction(r.beforeAddRow)?r.beforeAddRow.call(i,r.addRowParams):undefined;if(e===undefined&&(e=!0),e)if(r.rowID=$.isFunction(r.rowID)?r.rowID.call(i,r):null!=r.rowID?r.rowID:$.jgrid.randId(),!0===r.useDefValues&&$(i.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var e=this.editoptions.defaultValue,t=$.isFunction(e)?e.call(i):e;r.initdata[this.name]=t}}),$(i).jqGrid("addRowData",r.rowID,r.initdata,r.position),r.rowID=i.p.idPrefix+r.rowID,$("#"+$.jgrid.jqID(r.rowID),"#"+$.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),r.useFormatter)$("#"+$.jgrid.jqID(r.rowID)+" .ui-inline-edit","#"+$.jgrid.jqID(i.p.id)).click();else{var t=i.p.prmNames,n=t.oper;r.addRowParams.extraparam[n]=t.addoper,$(i).jqGrid("editRow",r.rowID,r.addRowParams),$(i).jqGrid("setSelection",r.rowID)}else i.p.beforeAction=!1}})},inlineNav:function(o,a){var l=this[0],d=$.jgrid.getRegional(l,"nav"),e=$.jgrid.styleUI[l.p.styleUI].inlinedit;return a=$.extend(!0,{edit:!0,editicon:e.icon_edit_nav,add:!0,addicon:e.icon_add_nav,save:!0,saveicon:e.icon_save_nav,cancel:!0,cancelicon:e.icon_cancel_nav,addParams:{addRowParams:{extraparam:{}}},editParams:{},restoreAfterSelect:!0,saveAfterSelect:!1},d,a||{}),this.each(function(){if(this.grid&&!this.p.inlineNav){var r=$.jgrid.jqID(l.p.id),t=$.trim($(l).jqGrid("getStyleUI",l.p.styleUI+".common","disabled",!0));if(l.p.navGrid||$(l).jqGrid("navGrid",o,{refresh:!1,edit:!1,add:!1,del:!1,search:!1,view:!1}),$(l).data("inlineNav")||$(l).data("inlineNav",a),l.p.force_regional&&(a=$.extend(a,d)),(l.p.inlineNav=!0)===a.addParams.useFormatter){var e,i=l.p.colModel;for(e=0;e<i.length;e++)if(i[e].formatter&&"actions"===i[e].formatter){if(i[e].formatoptions){var n={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},s=$.extend(n,i[e].formatoptions);a.addParams.addRowParams={keys:s.keys,oneditfunc:s.onEdit,successfunc:s.onSuccess,url:s.url,extraparam:s.extraparam,aftersavefunc:s.afterSave,errorfunc:s.onError,afterrestorefunc:s.afterRestore}}break}}a.add&&$(l).jqGrid("navButtonAdd",o,{caption:a.addtext,title:a.addtitle,buttonicon:a.addicon,id:l.p.id+"_iladd",internal:!0,onClickButton:function(){l.p.beforeAction===undefined&&(l.p.beforeAction=!0),$(l).jqGrid("addRow",a.addParams),!a.addParams.useFormatter&&l.p.beforeAction&&($("#"+r+"_ilsave").removeClass(t),$("#"+r+"_ilcancel").removeClass(t),$("#"+r+"_iladd").addClass(t),$("#"+r+"_iledit").addClass(t))}}),a.edit&&$(l).jqGrid("navButtonAdd",o,{caption:a.edittext,title:a.edittitle,buttonicon:a.editicon,id:l.p.id+"_iledit",internal:!0,onClickButton:function(){var e=$(l).jqGrid("getGridParam","selrow");e?(l.p.beforeAction===undefined&&(l.p.beforeAction=!0),$(l).jqGrid("editRow",e,a.editParams),l.p.beforeAction&&($("#"+r+"_ilsave").removeClass(t),$("#"+r+"_ilcancel").removeClass(t),$("#"+r+"_iladd").addClass(t),$("#"+r+"_iledit").addClass(t))):($.jgrid.viewModal("#alertmod_"+r,{gbox:"#gbox_"+r,jqm:!0}),$("#jqg_alrt").focus())}}),a.save&&($(l).jqGrid("navButtonAdd",o,{caption:a.savetext||"",title:a.savetitle||"Save row",buttonicon:a.saveicon,id:l.p.id+"_ilsave",internal:!0,onClickButton:function(){var e=l.p.savedRow[0].id;if(e){var t=l.p.prmNames,i=t.oper,n=a.editParams;$("#"+$.jgrid.jqID(e),"#"+r).hasClass("jqgrid-new-row")?(a.addParams.addRowParams.extraparam[i]=t.addoper,n=a.addParams.addRowParams):(a.editParams.extraparam||(a.editParams.extraparam={}),a.editParams.extraparam[i]=t.editoper),$(l).jqGrid("saveRow",e,n)&&$(l).jqGrid("showAddEditButtons")}else $.jgrid.viewModal("#alertmod_"+r,{gbox:"#gbox_"+r,jqm:!0}),$("#jqg_alrt").focus()}}),$("#"+r+"_ilsave").addClass(t)),a.cancel&&($(l).jqGrid("navButtonAdd",o,{caption:a.canceltext||"",title:a.canceltitle||"Cancel row editing",buttonicon:a.cancelicon,id:l.p.id+"_ilcancel",internal:!0,onClickButton:function(){var e=l.p.savedRow[0].id,t=a.editParams;e?($("#"+$.jgrid.jqID(e),"#"+r).hasClass("jqgrid-new-row")&&(t=a.addParams.addRowParams),$(l).jqGrid("restoreRow",e,t),$(l).jqGrid("showAddEditButtons")):($.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+r,jqm:!0}),$("#jqg_alrt").focus())}}),$("#"+r+"_ilcancel").addClass(t)),!0!==a.restoreAfterSelect&&!0!==a.saveAfterSelect||$(l).bind("jqGridBeforeSelectRow.inlineNav",function(e,t){0<l.p.savedRow.length&&!0===l.p.inlineNav&&t!==l.p.selrow&&null!==l.p.selrow&&(l.p.selrow===a.addParams.rowID?$(l).jqGrid("delRowData",l.p.selrow):!0===a.restoreAfterSelect?$(l).jqGrid("restoreRow",l.p.selrow,a.editParams):$(l).jqGrid("saveRow",l.p.selrow,a.editParams),$(l).jqGrid("showAddEditButtons"))})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var e=$.jgrid.jqID(this.p.id),t=$.trim($(this).jqGrid("getStyleUI",this.p.styleUI+".common","disabled",!0));$("#"+e+"_ilsave").addClass(t),$("#"+e+"_ilcancel").addClass(t),$("#"+e+"_iladd").removeClass(t),$("#"+e+"_iledit").removeClass(t)}})}}),$.jgrid.msie()&&8===$.jgrid.msiever()&&($.expr[":"].hidden=function(e){return 0===e.offsetWidth||0===e.offsetHeight||"none"===e.style.display}),$.jgrid._multiselect=!1,$.ui&&$.ui.multiselect){if($.ui.multiselect.prototype._setSelected){var setSelected=$.ui.multiselect.prototype._setSelected;$.ui.multiselect.prototype._setSelected=function(e,t){var i=setSelected.call(this,e,t);if(t&&this.selectedList){var n=this.element;this.selectedList.find("li").each(function(){$(this).data("optionLink")&&$(this).data("optionLink").remove().appendTo(n)})}return i}}$.ui.multiselect.prototype.destroy&&($.ui.multiselect.prototype.destroy=function(){this.element.show(),this.container.remove(),$.Widget===undefined?$.widget.prototype.destroy.apply(this,arguments):$.Widget.prototype.destroy.apply(this,arguments)}),$.jgrid._multiselect=!0}$.jgrid.extend({sortableColumns:function(o){return this.each(function(){function i(){l.p.disableClick=!0}var l=this,e=$.jgrid.jqID(l.p.id),t={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+e+"_cb,#jqgh_"+e+"_rn,#jqgh_"+e+"_subgrid),:hidden)",placeholder:{element:function(e){return $(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,t){t.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),t.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,t){var i=$(t.item).parent(),n=$(">th",i),r=l.p.colModel,s={},o=l.p.id+"_";$.each(r,function(e){s[this.name]=e});var a=[];n.each(function(){var e=$(">div",this).get(0).id.replace(/^jqgh_/,"").replace(o,"");s.hasOwnProperty(e)&&a.push(s[e])}),$(l).jqGrid("remapColumns",a,!0,!0),$.isFunction(l.p.sortable.update)&&l.p.sortable.update(a),setTimeout(function(){l.p.disableClick=!1},50)}};if(l.p.sortable.options?$.extend(t,l.p.sortable.options):$.isFunction(l.p.sortable)&&(l.p.sortable={update:l.p.sortable}),t.start){var n=t.start;t.start=function(e,t){i(),n.call(this,e,t)}}else t.start=i;l.p.sortable.exclude&&(t.items+=":not("+l.p.sortable.exclude+")");var r=o.sortable(t),s=r.data("sortable")||r.data("uiSortable");null!=s&&(s.data("sortable").floating=!0)})},columnChooser:function(i){function n(e,t,i){var n,r;return 0<=t?(r=(n=e.slice()).splice(t,Math.max(e.length-t,t)),t>e.length&&(t=e.length),n[t]=i,n.concat(r)):e}function t(e,t){e&&("string"==typeof e?$.fn[e]&&$.fn[e].apply(t,$.makeArray(arguments).slice(2)):$.isFunction(e)&&e.apply(t,$.makeArray(arguments).slice(2)))}var r,s,e,o,a,l,d,c=this,u={},p=[],h=c.jqGrid("getGridParam","colModel"),f=c.jqGrid("getGridParam","colNames"),g=function(e){return $.ui.multiselect.prototype&&e.data($.ui.multiselect.prototype.widgetFullName||$.ui.multiselect.prototype.widgetName)||e.data("ui-multiselect")||e.data("multiselect")},m=$.jgrid.getRegional(this[0],"col");if(!$("#colchooser_"+$.jgrid.jqID(c[0].p.id)).length){if(r=$('<div id="colchooser_'+c[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),s=$("select",r),i=$.extend({width:400,height:240,classname:null,done:function(e){e&&c.jqGrid("remapColumns",e,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470,dialogClass:"ui-jqdialog"},dlog_opts:function(e){var t={};return t[e.bSubmit]=function(){e.apply_perm(),e.cleanup(!1)},t[e.bCancel]=function(){e.cleanup(!0)},$.extend(!0,{buttons:t,close:function(){e.cleanup(!0)},modal:e.modal||!1,resizable:e.resizable||!0,width:e.width+70,resize:function(){var e=g(s),t=e.container.closest(".ui-dialog-content");0<t.length&&"object"==typeof t[0].style?t[0].style.width="":t.css("width",""),e.selectedList.height(Math.max(e.selectedContainer.height()-e.selectedActions.outerHeight()-1,1)),e.availableList.height(Math.max(e.availableContainer.height()-e.availableActions.outerHeight()-1,1))}},e.dialog_opts||{})},apply_perm:function(){var t=[];$("option",s).each(function(){$(this).is(":selected")?c.jqGrid("showCol",h[this.value].name):c.jqGrid("hideCol",h[this.value].name)}),$("option[selected]",s).each(function(){t.push(parseInt(this.value,10))}),$.each(t,function(){delete u[h[parseInt(this,10)].name]}),$.each(u,function(){var e=parseInt(this,10);t=n(t,e,e)}),i.done&&i.done.call(c,t),c.jqGrid("setGridWidth",c[0].p.width,c[0].p.shrinkToFit)},cleanup:function(e){t(i.dlog,r,"destroy"),t(i.msel,s,"destroy"),r.remove(),e&&i.done&&i.done.call(c)},msel_opts:{}},m,i||{}),$.ui&&$.ui.multiselect&&$.ui.multiselect.defaults){if(!$.jgrid._multiselect)return void alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");i.msel_opts=$.extend($.ui.multiselect.defaults,i.msel_opts)}i.caption&&r.attr("title",i.caption),i.classname&&(r.addClass(i.classname),s.addClass(i.classname)),i.width&&($(">div",r).css({width:i.width,margin:"0 auto"}),s.css("width",i.width)),i.height&&($(">div",r).css("height",i.height),s.css("height",i.height-10)),s.empty(),$.each(h,function(e){u[this.name]=e,this.hidedlg?this.hidden||p.push(e):s.append("<option value='"+e+"' "+(this.hidden?"":"selected='selected'")+">"+$.jgrid.stripHtml(f[e])+"</option>")}),e=$.isFunction(i.dlog_opts)?i.dlog_opts.call(c,i):i.dlog_opts,t(i.dlog,r,e),o=$.isFunction(i.msel_opts)?i.msel_opts.call(c,i):i.msel_opts,t(i.msel,s,o),(a=$("#colchooser_"+$.jgrid.jqID(c[0].p.id))).css({margin:"auto"}),a.find(">div").css({width:"100%",height:"100%",margin:"auto"}),(l=g(s)).container.css({width:"100%",height:"100%",margin:"auto"}),l.selectedContainer.css({width:100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.availableContainer.css({width:100-100*l.options.dividerLocation+"%",height:"100%",margin:"auto",boxSizing:"border-box"}),l.selectedList.css("height","auto"),l.availableList.css("height","auto"),d=Math.max(l.selectedList.height(),l.availableList.height()),d=Math.min(d,$(window).height()),l.selectedList.css("height",d),l.availableList.css("height",d)}},sortableRows:function(s){return this.each(function(){var r=this;r.grid&&(r.p.treeGrid||$.fn.sortable&&((s=$.extend({cursor:"move",axis:"y",items:" > .jqgrow"},s||{})).start&&$.isFunction(s.start)?(s._start_=s.start,delete s.start):s._start_=!1,s.update&&$.isFunction(s.update)?(s._update_=s.update,delete s.update):s._update_=!1,s.start=function(t,i){if($(i.item).css("border-width","0"),$("td",i.item).each(function(e){this.style.width=r.grid.cols[e].style.width}),r.p.subGrid){var n=$(i.item).attr("id");try{$(r).jqGrid("collapseSubGridRow",n)}catch(e){}}s._start_&&s._start_.apply(this,[t,i])},s.update=function(e,t){$(t.item).css("border-width",""),!0===r.p.rownumbers&&$("td.jqgrid-rownum",r.rows).each(function(e){$(this).html(e+1+(parseInt(r.p.page,10)-1)*parseInt(r.p.rowNum,10))}),s._update_&&s._update_.apply(this,[e,t])},$("tbody:first",r).sortable(s),$("tbody:first > .jqgrow",r).disableSelection()))})},gridDnD:function(s){return this.each(function(){function t(){var e=$.data(h,"dnd");$("tr.jqgrow:not(.ui-draggable)",h).draggable($.isFunction(e.drag)?e.drag.call($(h),e):e.drag)}var i,n,h=this;if(h.grid&&!h.p.treeGrid&&$.fn.draggable&&$.fn.droppable){var r="<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>";if($("#jqgrid_dnd")[0]===undefined&&$("body").append(r),"string"!=typeof s||"updateDnD"!==s||!0!==h.p.jqgdnd){if((s=$.extend({drag:function(s){return $.extend({start:function(t,i){var n,r;if(h.p.subGrid){r=$(i.helper).attr("id");try{$(h).jqGrid("collapseSubGridRow",r)}catch(e){}}for(n=0;n<$.data(h,"dnd").connectWith.length;n++)0===$($.data(h,"dnd").connectWith[n]).jqGrid("getGridParam","reccount")&&$($.data(h,"dnd").connectWith[n]).jqGrid("addRowData","jqg_empty_row",{});i.helper.addClass("ui-state-highlight"),$("td",i.helper).each(function(e){this.style.width=h.grid.headers[e].width+"px"}),s.onstart&&$.isFunction(s.onstart)&&s.onstart.call($(h),t,i)},stop:function(e,t){var i,n;for(t.helper.dropped&&!s.dragcopy&&((n=$(t.helper).attr("id"))===undefined&&(n=$(this).attr("id")),$(h).jqGrid("delRowData",n)),i=0;i<$.data(h,"dnd").connectWith.length;i++)$($.data(h,"dnd").connectWith[i]).jqGrid("delRowData","jqg_empty_row");s.onstop&&$.isFunction(s.onstop)&&s.onstop.call($(h),e,t)}},s.drag_opts||{})},drop:function(p){return $.extend({accept:function(e){if(!$(e).hasClass("jqgrow"))return e;var t=$(e).closest("table.ui-jqgrid-btable");if(0<t.length&&$.data(t[0],"dnd")!==undefined){var i=$.data(t[0],"dnd").connectWith;return-1!==$.inArray("#"+$.jgrid.jqID(this.id),i)}return!1},drop:function(t,i){if($(i.draggable).hasClass("jqgrow")){var n,r=$(i.draggable).attr("id"),s=i.draggable.parent().parent().jqGrid("getRowData",r);if(!p.dropbyname){var o,a,l=0,d={},c=$("#"+$.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(a in s)s.hasOwnProperty(a)&&("cb"!==(o=c[l].name)&&"rn"!==o&&"subgrid"!==o&&s.hasOwnProperty(a)&&c[l]&&(d[o]=s[a]),l++);s=d}catch(e){}}if(i.helper.dropped=!0,p.beforedrop&&$.isFunction(p.beforedrop)){var u=p.beforedrop.call(this,t,i,s,$("#"+$.jgrid.jqID(h.p.id)),$(this));u!==undefined&&null!==u&&"object"==typeof u&&(s=u)}if(i.helper.dropped)p.autoid&&($.isFunction(p.autoid)?n=p.autoid.call(this,s):(n=Math.ceil(1e3*Math.random()),n=p.autoidprefix+n)),$("#"+$.jgrid.jqID(this.id)).jqGrid("addRowData",n,s,p.droppos);p.ondrop&&$.isFunction(p.ondrop)&&p.ondrop.call(this,t,i,s)}}},p.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},s||{})).connectWith)for(s.connectWith=s.connectWith.split(","),s.connectWith=$.map(s.connectWith,function(e){return $.trim(e)}),$.data(h,"dnd",s),0===h.p.reccount||h.p.jqgdnd||t(),h.p.jqgdnd=!0,i=0;i<s.connectWith.length;i++)n=s.connectWith[i],$(n).droppable($.isFunction(s.drop)?s.drop.call($(h),s):s.drop)}else t()}})},gridResize:function(opts){return this.each(function(){var $t=this,gID=$.jgrid.jqID($t.p.id),req;if($t.grid&&$.fn.resizable){if(opts=$.extend({},opts||{}),opts.alsoResize?(opts._alsoResize_=opts.alsoResize,delete opts.alsoResize):opts._alsoResize_=!1,opts.stop&&$.isFunction(opts.stop)?(opts._stop_=opts.stop,delete opts.stop):opts._stop_=!1,opts.stop=function(e,t){$($t).jqGrid("setGridParam",{height:$("#gview_"+gID+" .ui-jqgrid-bdiv").height()}),$($t).jqGrid("setGridWidth",t.size.width,opts.shrinkToFit),opts._stop_&&opts._stop_.call($t,e,t),$t.p.caption&&$("#gbox_"+gID).css({height:"auto"}),$t.p.frozenColumns&&(req&&clearTimeout(req),req=setTimeout(function(){req&&clearTimeout(req),$("#"+gID).jqGrid("destroyFrozenColumns"),$("#"+gID).jqGrid("setFrozenColumns")}))},opts._alsoResize_){var optstest="{'#gview_"+gID+" .ui-jqgrid-bdiv':true,'"+opts._alsoResize_+"':true}";opts.alsoResize=eval("("+optstest+")")}else opts.alsoResize=$(".ui-jqgrid-bdiv","#gview_"+gID);delete opts._alsoResize_,$("#gbox_"+gID).resizable(opts)}})}}),$.assocArraySize=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},$.jgrid.extend({pivotSetup:function(A,t){var F=[],O=[],P=[],N=[],E=[],R={grouping:!0,groupingView:{groupField:[],groupSummary:[],groupSummaryPos:[]}},G=[],z=$.extend({rowTotals:!1,rowTotalsText:"Total",colTotals:!1,groupSummary:!0,groupSummaryPos:"header",frozenStaticCols:!1},t||{});return this.each(function(){function t(e,t,i){var n;return 0<(n=_pivotfilter.call(e,t,i)).length?n[0]:null}function i(e,t){var i,n=0,r=!0;for(i in e)if(e.hasOwnProperty(i)){if(e[i]!=this[n]){r=!1;break}if(++n>=this.length)break}return r&&(s=t),r}function f(e,t,i,n,r){var s;switch(e){case"sum":s=parseFloat(t||0)+parseFloat(n[i]||0);break;case"count":""!==t&&null!=t||(t=0),s=n.hasOwnProperty(i)?t+1:0;break;case"min":s=""===t||null==t?parseFloat(n[i]||0):Math.min(parseFloat(t),parseFloat(n[i]||0));break;case"max":s=""===t||null==t?parseFloat(n[i]||0):Math.max(parseFloat(t),parseFloat(n[i]||0));break;case"avg":s=(parseFloat(t||0)*(r-1)+parseFloat(n[i]||0))/r}return s}function n(t,i,n,r){var s,o,a,l,d=i.length,c="",u=[];for($.isArray(n)?(l=n.length,u=n):(l=1,u[0]=n),E=[],(N=[]).root=0,r._count?r._count++:r._count=1,a=0;a<l;a++){var p,h=[];for(s=0;s<d;s++){if(null==n)p=o=$.trim(i[s].member)+"_"+i[s].aggregator,u[0]=i[s].label||i[s].aggregator+" "+$.trim(i[s].member);else{p=n[a].replace(/\s+/g,"");try{o=1===d?c+p:c+p+"_"+i[s].aggregator+"_"+String(s)}catch(e){}u[a]=n[a]}r[o=isNaN(parseInt(o,10))?o:o+" "]=h[o]=f(i[s].aggregator,r[o],i[s].member,t,r._count)}c+=n[a].replace(/\s+/g,""),N[o]=h,E[o]=u[a]}return r}function u(e){var t,i,n,r,s;for(n in e)if(e.hasOwnProperty(n)){if("object"!=typeof e[n]){if("level"===n){if(I[e.level]===undefined&&(I[e.level]="",0<e.level&&-1===e.text.indexOf("_r_Totals")&&(G[e.level-1]={useColSpanStyle:!1,groupHeaders:[]})),I[e.level]!==e.text&&e.children.length&&-1===e.text.indexOf("_r_Totals")&&0<e.level){G[e.level-1].groupHeaders.push({titleText:e.label,numberOfColumns:0});var o=G[e.level-1].groupHeaders.length-1,a=0===o?q:T;if(e.level-1==(z.rowTotals?1:0)&&0<o){for(var l=0,d=0;d<o;d++)l+=G[e.level-1].groupHeaders[d].numberOfColumns;l&&(a=l+p)}F[a]&&(G[e.level-1].groupHeaders[o].startColumnName=F[a].name,G[e.level-1].groupHeaders[o].numberOfColumns=F.length-a),T=F.length}I[e.level]=e.text}if(e.level===h&&"level"===n&&0<h)if(1<g){var c=1;for(t in e.fields)e.fields.hasOwnProperty(t)&&(1===c&&G[h-1].groupHeaders.push({startColumnName:t,numberOfColumns:1,titleText:e.label||e.text}),c++);G[h-1].groupHeaders[G[h-1].groupHeaders.length-1].numberOfColumns=c-1}else G.splice(h-1,1)}if(null!=e[n]&&"object"==typeof e[n]&&u(e[n]),"level"===n&&0<e.level&&(e.level===(0===h?e.level:h)||-1!==I[e.level].indexOf("_r_Totals")))for(t in i=0,e.fields)if(e.fields.hasOwnProperty(t)){for(r in s={},z.aggregates[i])if(z.aggregates[i].hasOwnProperty(r))switch(r){case"member":case"label":case"aggregator":break;default:s[r]=z.aggregates[i][r]}1<g?(s.name=t,s.label=z.aggregates[i].label||e.label):(s.name=e.text,s.label="_r_Totals"===e.text?z.rowTotalsText:e.label),F.push(s),i++}}}var r,s,o,p,h,g,a,l,d,c=A.length,m=0;if(z.rowTotals&&0<z.yDimension.length){var v=z.yDimension[0].dataName;z.yDimension.splice(0,0,{dataName:v}),z.yDimension[0].converter=function(){return"_r_Totals"}}if(p=$.isArray(z.xDimension)?z.xDimension.length:0,h=z.yDimension.length,g=$.isArray(z.aggregates)?z.aggregates.length:0,0===p||0===g)throw"xDimension or aggregates optiona are not set!";for(o=0;o<p;o++)d={name:z.xDimension[o].dataName,frozen:z.frozenStaticCols},null==z.xDimension[o].isGroupField&&(z.xDimension[o].isGroupField=!0),d=$.extend(!0,d,z.xDimension[o]),F.push(d);for(var b=p-1,_={};m<c;){r=A[m];var y=[],w=[];for(a={},o=0;y[o]=$.trim(r[z.xDimension[o].dataName]),a[z.xDimension[o].dataName]=y[o],++o<p;);var x=0;if(s=-1,l=t(O,i,y)){if(0<=s){if(x=0,1<=h){for(x=0;x<h;x++)w[x]=$.trim(r[z.yDimension[x].dataName]),z.yDimension[x].converter&&$.isFunction(z.yDimension[x].converter)&&(w[x]=z.yDimension[x].converter.call(this,w[x],y,w));l=n(r,z.aggregates,w,l)}else 0===h&&(l=n(r,z.aggregates,null,l));O[s]=l}}else{if(x=0,1<=h){for(x=0;x<h;x++)w[x]=$.trim(r[z.yDimension[x].dataName]),z.yDimension[x].converter&&$.isFunction(z.yDimension[x].converter)&&(w[x]=z.yDimension[x].converter.call(this,w[x],y,w));a=n(r,z.aggregates,w,a)}else 0===h&&(a=n(r,z.aggregates,null,a));O.push(a)}var j,D=0,k=null,C=null;for(j in N)if(N.hasOwnProperty(j)){if(0===D)_.children&&_.children!==undefined||(_={text:j,level:0,children:[],label:j}),k=_.children;else{for(C=null,o=0;o<k.length;o++)if(k[o].text===j){C=k[o];break}C?k=C.children:(k.push({children:[],text:j,level:D,fields:N[j],label:E[j]}),k=k[k.length-1].children)}D++}m++}var S,I=[],T=F.length,q=T;if(0<h&&(G[h-1]={useColSpanStyle:!1,groupHeaders:[]}),u(_),z.colTotals)for(var M=O.length;M--;)for(o=p;o<F.length;o++)S=F[o].name,P[S]?P[S]+=parseFloat(O[M][S]||0):P[S]=parseFloat(O[M][S]||0);if(0<b)for(o=0;o<b;o++)F[o].isGroupField&&(R.groupingView.groupField.push(F[o].name),R.groupingView.groupSummary.push(z.groupSummary),R.groupingView.groupSummaryPos.push(z.groupSummaryPos));else R.grouping=!1;R.sortname=F[b].name,R.groupingView.hideFirstGroupCol=!0}),{colModel:F,rows:O,groupOptions:R,groupHeaders:G,summary:P}},jqPivot:function(e,c,u,i){return this.each(function(){function t(e){var t,i,n,r,s=jQuery(d).jqGrid("pivotSetup",e,c),o=0<$.assocArraySize(s.summary),a=$.jgrid.from.call(d,s.rows);for(c.ignoreCase&&(a=a.ignoreCase()),t=0;t<s.groupOptions.groupingView.groupField.length;t++)i=c.xDimension[t].sortorder?c.xDimension[t].sortorder:"asc",n=c.xDimension[t].sorttype?c.xDimension[t].sorttype:"text",a.orderBy(s.groupOptions.groupingView.groupField[t],i,n,"",n);r=c.xDimension.length,s.groupOptions.sortname&&r&&(i=c.xDimension[r-1].sortorder?c.xDimension[r-1].sortorder:"asc",n=c.xDimension[r-1].sorttype?c.xDimension[r-1].sorttype:"text",a.orderBy(s.groupOptions.sortname,i,n,"",n)),jQuery(d).jqGrid($.extend(!0,{datastr:$.extend(a.select(),o?{userdata:s.summary}:{}),datatype:"jsonstring",footerrow:o,userDataOnFooter:o,colModel:s.colModel,viewrecords:!0,sortname:c.xDimension[0].dataName},s.groupOptions,u||{}));var l=s.groupHeaders;if(l.length)for(t=0;t<l.length;t++)l[t]&&l[t].groupHeaders.length&&jQuery(d).jqGrid("setGroupHeaders",l[t]);c.frozenStaticCols&&jQuery(d).jqGrid("setFrozenColumns")}var d=this;"string"==typeof e?$.ajax($.extend({url:e,dataType:"json",success:function(e){t($.jgrid.getAccessor(e,i&&i.reader?i.reader:"rows"))}},i||{})):t(e)})}}),$.jgrid.extend({setSubGrid:function(){return this.each(function(){var e,t,i=this,n=$.jgrid.styleUI[i.p.styleUI||"jQueryUI"].subgrid,r={plusicon:n.icon_plus,minusicon:n.icon_minus,openicon:n.icon_open,expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,
selectOnCollapse:!1,reloadOnExpand:!0};if(i.p.subGridOptions=$.extend(r,i.p.subGridOptions||{}),i.p.colNames.unshift(""),i.p.colModel.unshift({name:"subgrid",width:$.jgrid.cell_width?i.p.subGridWidth+i.p.cellLayout:i.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),(e=i.p.subGridModel)[0])for(e[0].align=$.extend([],e[0].align||[]),t=0;t<e[0].name.length;t++)e[0].align[t]=e[0].align[t]||"left"})},addSubGridCell:function(e,t){var i,n,r,s="";return this.each(function(){s=this.formatCol(e,t),n=this.p.id,i=this.p.subGridOptions.plusicon,r=$.jgrid.styleUI[this.p.styleUI||"jQueryUI"].common}),'<td role="gridcell" aria-describedby="'+n+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+s+"><a style='cursor:pointer;' class='ui-sghref'><span class='"+r.icon_base+" "+i+"'></span></a></td>"},addSubGrid:function(v,b){return this.each(function(){var p=this;if(p.grid){var t,i,n,r,s,h=$.jgrid.styleUI[p.p.styleUI||"jQueryUI"].base,f=$.jgrid.styleUI[p.p.styleUI||"jQueryUI"].common,g=function(e,t,i){var n=$("<td align='"+p.p.subGridModel[0].align[i]+"'></td>").html(t);$(e).append(n)},o=function(e,t){var i,n,r,s=$("<table class='"+h.rowTable+" ui-common-table'><tbody></tbody></table>"),o=$("<tr></tr>");for(n=0;n<p.p.subGridModel[0].name.length;n++)i=$("<th class='"+h.headerBox+" ui-th-subgrid ui-th-column ui-th-"+p.p.direction+"'></th>"),$(i).html(p.p.subGridModel[0].name[n]),$(i).width(p.p.subGridModel[0].width[n]),$(o).append(i);$(s).append(o),e&&(r=p.p.xmlReader.subgrid,$(r.root+" "+r.row,e).each(function(){if(o=$("<tr class='"+f.content+" ui-subtblcell'></tr>"),!0===r.repeatitems)$(r.cell,this).each(function(e){g(o,$(this).text()||"&#160;",e)});else{var e=p.p.subGridModel[0].mapping||p.p.subGridModel[0].name;if(e)for(n=0;n<e.length;n++)g(o,$(e[n],this).text()||"&#160;",n)}$(s).append(o)}));var a=$("table:first",p.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(a+t)).append(s),p.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(p.p.id)).hide(),!1},a=function(e,t){var i,n,r,s,o,a,l=$("<table class='"+h.rowTable+" ui-common-table'><tbody></tbody></table>"),d=$("<tr></tr>");for(r=0;r<p.p.subGridModel[0].name.length;r++)i=$("<th class='"+h.headerBox+" ui-th-subgrid ui-th-column ui-th-"+p.p.direction+"'></th>"),$(i).html(p.p.subGridModel[0].name[r]),$(i).width(p.p.subGridModel[0].width[r]),$(d).append(i);if($(l).append(d),e&&(o=p.p.jsonReader.subgrid,(n=$.jgrid.getAccessor(e,o.root))!==undefined))for(r=0;r<n.length;r++){if(s=n[r],d=$("<tr class='"+f.content+" ui-subtblcell'></tr>"),!0===o.repeatitems)for(o.cell&&(s=s[o.cell]),a=0;a<s.length;a++)g(d,s[a]||"&#160;",a);else{var c=p.p.subGridModel[0].mapping||p.p.subGridModel[0].name;if(c.length)for(a=0;a<c.length;a++)g(d,s[c[a]]||"&#160;",a)}$(l).append(d)}var u=$("table:first",p.grid.bDiv).attr("id")+"_";return $("#"+$.jgrid.jqID(u+t)).append(l),p.grid.hDiv.loading=!1,$("#load_"+$.jgrid.jqID(p.p.id)).hide(),!1},l=function(e){var t,i,n,r;if(t=$(e).attr("id"),(i={nd_:(new Date).getTime()})[p.p.prmNames.subgridid]=t,!p.p.subGridModel[0])return!1;if(p.p.subGridModel[0].params)for(r=0;r<p.p.subGridModel[0].params.length;r++)for(n=0;n<p.p.colModel.length;n++)p.p.colModel[n].name===p.p.subGridModel[0].params[r]&&(i[p.p.colModel[n].name]=$("td:eq("+n+")",e).text().replace(/\&#160\;/gi,""));if(!p.grid.hDiv.loading)switch(p.grid.hDiv.loading=!0,$("#load_"+$.jgrid.jqID(p.p.id)).show(),p.p.subgridtype||(p.p.subgridtype=p.p.datatype),$.isFunction(p.p.subgridtype)?p.p.subgridtype.call(p,i):p.p.subgridtype=p.p.subgridtype.toLowerCase(),p.p.subgridtype){case"xml":case"json":$.ajax($.extend({type:p.p.mtype,url:$.isFunction(p.p.subGridUrl)?p.p.subGridUrl.call(p,i):p.p.subGridUrl,dataType:p.p.subgridtype,data:$.isFunction(p.p.serializeSubGridData)?p.p.serializeSubGridData.call(p,i):i,complete:function(e){"xml"===p.p.subgridtype?o(e.responseXML,t):a($.jgrid.parse(e.responseText),t),e=null}},$.jgrid.ajaxOptions,p.p.ajaxSubgridOptions||{}))}return!1},d=0;$.each(p.p.colModel,function(){!0!==this.hidden&&"rn"!==this.name&&"cb"!==this.name||d++});var e=p.rows.length,c=1,u=$.isFunction(p.p.isHasSubGrid);for(b!==undefined&&0<b&&(e=(c=b)+1);c<e;){if($(p.rows[c]).hasClass("jqgrow")){if(p.p.scroll&&$(p.rows[c].cells[v]).unbind("click"),m=null,u)var m=p.p.isHasSubGrid.call(p,p.rows[c].id);!1===m?p.rows[c].cells[v].innerHTML="":$(p.rows[c].cells[v]).bind("click",function(){var e=$(this).parent("tr")[0];if(i=p.p.id,t=e.id,s=$("#"+i+"_"+t+"_expandedContent"),$(this).hasClass("sgcollapsed")){if((r=!1!==(r=$(p).triggerHandler("jqGridSubGridBeforeExpand",[i+"_"+t,t]))&&"stop"!==r)&&$.isFunction(p.p.subGridBeforeExpand)&&(r=p.p.subGridBeforeExpand.call(p,i+"_"+t,t)),!1===r)return!1;!0===p.p.subGridOptions.reloadOnExpand||!1===p.p.subGridOptions.reloadOnExpand&&!s.hasClass("ui-subgrid")?(n=1<=v?"<td colspan='"+v+"'>&#160;</td>":"",$(e).after("<tr role='row' id='"+i+"_"+t+"_expandedContent' class='ui-subgrid ui-sg-expanded'>"+n+"<td class='"+f.content+" subgrid-cell'><span class='"+f.icon_base+" "+p.p.subGridOptions.openicon+"'></span></td><td colspan='"+parseInt(p.p.colNames.length-1-d,10)+"' class='"+f.content+" subgrid-data'><div id="+i+"_"+t+" class='tablediv'></div></td></tr>"),$(p).triggerHandler("jqGridSubGridRowExpanded",[i+"_"+t,t]),$.isFunction(p.p.subGridRowExpanded)?p.p.subGridRowExpanded.call(p,i+"_"+t,t):l(e)):s.show().removeClass("ui-sg-collapsed").addClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+f.icon_base+" "+p.p.subGridOptions.minusicon+"'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded"),p.p.subGridOptions.selectOnExpand&&$(p).jqGrid("setSelection",t)}else if($(this).hasClass("sgexpanded")){if((r=!1!==(r=$(p).triggerHandler("jqGridSubGridRowColapsed",[i+"_"+t,t]))&&"stop"!==r)&&$.isFunction(p.p.subGridRowColapsed)&&(r=p.p.subGridRowColapsed.call(p,i+"_"+t,t)),!1===r)return!1;!0===p.p.subGridOptions.reloadOnExpand?s.remove(".ui-subgrid"):s.hasClass("ui-subgrid")&&s.hide().addClass("ui-sg-collapsed").removeClass("ui-sg-expanded"),$(this).html("<a style='cursor:pointer;' class='ui-sghref'><span class='"+f.icon_base+" "+p.p.subGridOptions.plusicon+"'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed"),p.p.subGridOptions.selectOnCollapse&&$(p).jqGrid("setSelection",t)}return!1})}c++}!0===p.p.subGridOptions.expandOnLoad&&$(p.rows).filter(".jqgrow").each(function(e,t){$(t.cells[0]).click()}),p.subGridXml=function(e,t){o(e,t)},p.subGridJson=function(e,t){a(e,t)}}})},expandSubGridRow:function(n){return this.each(function(){var e=this;if((e.grid||n)&&!0===e.p.subGrid){var t=$(this).jqGrid("getInd",n,!0);if(t){var i=$("td.sgcollapsed",t)[0];i&&$(i).trigger("click")}}})},collapseSubGridRow:function(n){return this.each(function(){var e=this;if((e.grid||n)&&!0===e.p.subGrid){var t=$(this).jqGrid("getInd",n,!0);if(t){var i=$("td.sgexpanded",t)[0];i&&$(i).trigger("click")}}})},toggleSubGridRow:function(n){return this.each(function(){var e=this;if((e.grid||n)&&!0===e.p.subGrid){var t=$(this).jqGrid("getInd",n,!0);if(t){var i=$("td.sgcollapsed",t)[0];i?$(i).trigger("click"):(i=$("td.sgexpanded",t)[0])&&$(i).trigger("click")}}})}}),$.jgrid.extend({setTreeNode:function(_,y){return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid){var e,t,i,n,s,o,a,l,d=r.p.expColInd,c=r.p.treeReader.expanded_field,u=r.p.treeReader.leaf_field,p=r.p.treeReader.level_field,h=r.p.treeReader.icon_field,f=r.p.treeReader.loaded,g=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].common,m=_;for($(r).triggerHandler("jqGridBeforeSetTreeNode",[m,y]),$.isFunction(r.p.beforeSetTreeNode)&&r.p.beforeSetTreeNode.call(r,m,y);_<y;){var v=$.jgrid.stripPref(r.p.idPrefix,r.rows[_].id),b=r.p._index[v];a=r.p.data[b],"nested"===r.p.treeGridModel&&(a[u]||(e=parseInt(a[r.p.treeReader.left_field],10),t=parseInt(a[r.p.treeReader.right_field],10),a[u]=t===e+1?"true":"false",r.rows[_].cells[r.p._treeleafpos].innerHTML=a[u])),i=parseInt(a[p],10),0===r.p.tree_root_level?(n=i+1,s=i):s=(n=i)-1,o="<div class='tree-wrap tree-wrap-"+r.p.direction+"' style='width:"+18*n+"px;'>",o+="<div style='"+("rtl"===r.p.direction?"right:":"left:")+18*s+"px;' class='"+g.icon_base+" ",a[f]!==undefined&&("true"===a[f]||!0===a[f]?a[f]=!0:a[f]=!1),"true"===a[u]||!0===a[u]?(o+=(a[h]!==undefined&&""!==a[h]?a[h]:r.p.treeIcons.leaf)+" tree-leaf treeclick",a[u]=!0,l="leaf"):(a[u]=!1,l=""),a[c]=("true"===a[c]||!0===a[c])&&(a[f]||a[f]===undefined),!1===a[c]?o+=!0===a[u]?"'":r.p.treeIcons.plus+" tree-plus treeclick'":o+=!0===a[u]?"'":r.p.treeIcons.minus+" tree-minus treeclick'",o+="></div></div>",$(r.rows[_].cells[d]).wrapInner("<span class='cell-wrapper"+l+"'></span>").prepend(o),i!==parseInt(r.p.tree_root_level,10)&&($(r).jqGrid("isVisibleNode",a)||$(r.rows[_]).css("display","none")),$(r.rows[_].cells[d]).find("div.treeclick").bind("click",function(e){var t=e.target||e.srcElement,i=$.jgrid.stripPref(r.p.idPrefix,$(t,r.rows).closest("tr.jqgrow")[0].id),n=r.p._index[i];return r.p.data[n][u]||(r.p.data[n][c]?($(r).jqGrid("collapseRow",r.p.data[n]),$(r).jqGrid("collapseNode",r.p.data[n])):($(r).jqGrid("expandRow",r.p.data[n]),$(r).jqGrid("expandNode",r.p.data[n]))),!1}),!0===r.p.ExpandColClick&&$(r.rows[_].cells[d]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(e){var t=e.target||e.srcElement,i=$.jgrid.stripPref(r.p.idPrefix,$(t,r.rows).closest("tr.jqgrow")[0].id),n=r.p._index[i];return r.p.data[n][u]||(r.p.data[n][c]?($(r).jqGrid("collapseRow",r.p.data[n]),$(r).jqGrid("collapseNode",r.p.data[n])):($(r).jqGrid("expandRow",r.p.data[n]),$(r).jqGrid("expandNode",r.p.data[n]))),$(r).jqGrid("setSelection",i),!1}),_++}$(r).triggerHandler("jqGridAfterSetTreeNode",[m,y]),$.isFunction(r.p.afterSetTreeNode)&&r.p.afterSetTreeNode.call(r,m,y)}})},setTreeGrid:function(){return this.each(function(){var e,t,i,n,r=this,s=0,o=!1,a=[],l=$.jgrid.styleUI[r.p.styleUI||"jQueryUI"].treegrid;if(r.p.treeGrid){for(i in r.p.treedatatype||$.extend(r.p,{treedatatype:r.p.datatype}),r.p.loadonce&&(r.p.treedatatype="local"),r.p.subGrid=!1,r.p.altRows=!1,r.p.pgbuttons=!1,r.p.pginput=!1,r.p.gridview=!0,null===r.p.rowTotal&&(r.p.rowNum=1e4),r.p.multiselect=!1,r.p.rowList=[],r.p.expColInd=0,e=l.icon_plus,"jQueryUI"===r.p.styleUI&&(e+="rtl"===r.p.direction?"w":"e"),r.p.treeIcons=$.extend({plus:e,minus:l.icon_minus,leaf:l.icon_leaf},r.p.treeIcons||{}),"nested"===r.p.treeGridModel?r.p.treeReader=$.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.p.treeReader):"adjacency"===r.p.treeGridModel&&(r.p.treeReader=$.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},r.p.treeReader)),r.p.colModel)if(r.p.colModel.hasOwnProperty(i))for(n in(t=r.p.colModel[i].name)!==r.p.ExpandColumn||o||(o=!0,r.p.expColInd=s),s++,r.p.treeReader)r.p.treeReader.hasOwnProperty(n)&&r.p.treeReader[n]===t&&a.push(t);$.each(r.p.treeReader,function(e,t){t&&-1===$.inArray(t,a)&&("leaf_field"===e&&(r.p._treeleafpos=s),s++,r.p.colNames.push(t),r.p.colModel.push({name:t,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(r){this.each(function(){var t=this;if(t.grid&&t.p.treeGrid){var e=$(t).jqGrid("getNodeChildren",r),i=t.p.treeReader.expanded_field,n=r[t.p.localReader.id];!1!==(!$.isFunction(t.p.beforeExpandTreeGridRow)||t.p.beforeExpandTreeGridRow.call(t,n,r,e))&&($(e).each(function(){var e=t.p.idPrefix+$.jgrid.getAccessor(this,t.p.localReader.id);$($(t).jqGrid("getGridRowById",e)).css("display",""),this[i]&&$(t).jqGrid("expandRow",this)}),$.isFunction(t.p.afterExpandTreeGridRow)&&t.p.afterExpandTreeGridRow.call(t,n,r,e))}})},collapseRow:function(r){this.each(function(){var t=this;if(t.grid&&t.p.treeGrid){var e=$(t).jqGrid("getNodeChildren",r),i=t.p.treeReader.expanded_field,n=r[t.p.localReader.id];!1!==(!$.isFunction(t.p.beforeCollapseTreeGridRow)||t.p.beforeCollapseTreeGridRow.call(t,n,r,e))&&($(e).each(function(){var e=t.p.idPrefix+$.jgrid.getAccessor(this,t.p.localReader.id);$($(t).jqGrid("getGridRowById",e)).css("display","none"),this[i]&&$(t).jqGrid("collapseRow",this)}),$.isFunction(t.p.afterCollapseTreeGridRow)&&t.p.afterCollapseTreeGridRow.call(t,n,r,e))}})},getRootNodes:function(r){var s=[];return this.each(function(){var e,t,i,n=this;if(n.grid&&n.p.treeGrid)switch("boolean"!=typeof r&&(r=!1),i=r?$(n).jqGrid("getRowData",null,!0):n.p.data,n.p.treeGridModel){case"nested":e=n.p.treeReader.level_field,$(i).each(function(){parseInt(this[e],10)===parseInt(n.p.tree_root_level,10)&&(r?s.push(n.p.data[n.p._index[this[n.p.keyName]]]):s.push(this))});break;case"adjacency":t=n.p.treeReader.parent_id_field,$(i).each(function(){null!==this[t]&&"null"!==String(this[t]).toLowerCase()||(r?s.push(n.p.data[n.p._index[this[n.p.keyName]]]):s.push(this))})}}),s},getNodeDepth:function(i){var n=null;return this.each(function(){if(this.grid&&this.p.treeGrid){var e=this;switch(e.p.treeGridModel){case"nested":var t=e.p.treeReader.level_field;n=parseInt(i[t],10)-parseInt(e.p.tree_root_level,10);break;case"adjacency":n=$(e).jqGrid("getNodeAncestors",i).length}}}),n},getNodeParent:function(u){var p=null;return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid)switch(e.p.treeGridModel){case"nested":var t=e.p.treeReader.left_field,i=e.p.treeReader.right_field,n=e.p.treeReader.level_field,r=parseInt(u[t],10),s=parseInt(u[i],10),o=parseInt(u[n],10);$(this.p.data).each(function(){if(parseInt(this[n],10)===o-1&&parseInt(this[t],10)<r&&parseInt(this[i],10)>s)return p=this,!1});break;case"adjacency":for(var a=e.p.treeReader.parent_id_field,l=e.p.localReader.id,d=u[l],c=e.p._index[d];c--;)if(e.p.data[c][l]===$.jgrid.stripPref(e.p.idPrefix,u[a])){p=e.p.data[c];break}}}),p},getNodeChildren:function(p,h){var f=[];return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid){var t,i,n=h?this.rows.length:this.p.data.length;switch(e.p.treeGridModel){case"nested":var r=e.p.treeReader.left_field,s=e.p.treeReader.right_field,o=e.p.treeReader.level_field,a=parseInt(p[r],10),l=parseInt(p[s],10),d=parseInt(p[o],10);for(t=0;t<n;t++)(i=h?e.p.data[e.p._index[this.rows[t].id]]:e.p.data[t])&&parseInt(i[o],10)===d+1&&parseInt(i[r],10)>a&&parseInt(i[s],10)<l&&f.push(i);break;case"adjacency":var c=e.p.treeReader.parent_id_field,u=e.p.localReader.id;for(t=0;t<n;t++)(i=h?e.p.data[e.p._index[this.rows[t].id]]:e.p.data[t])&&String(i[c])===$.jgrid.stripPref(e.p.idPrefix,p[u])&&f.push(i)}}}),f},getFullTreeNode:function(u,p){var h=[];return this.each(function(){var t,i=this,n=i.p.treeReader.expanded_field;if(i.grid&&i.p.treeGrid)switch(null!=p&&"boolean"==typeof p||(p=!1),i.p.treeGridModel){case"nested":var e=i.p.treeReader.left_field,r=i.p.treeReader.right_field,s=i.p.treeReader.level_field,o=parseInt(u[e],10),a=parseInt(u[r],10),l=parseInt(u[s],10);$(this.p.data).each(function(){parseInt(this[s],10)>=l&&parseInt(this[e],10)>=o&&parseInt(this[e],10)<=a&&(p&&(this[n]=!0),h.push(this))});break;case"adjacency":if(u){h.push(u);var d=i.p.treeReader.parent_id_field,c=i.p.localReader.id;$(this.p.data).each(function(e){for(t=h.length,e=0;e<t;e++)if($.jgrid.stripPref(i.p.idPrefix,h[e][c])===this[d]){p&&(this[n]=!0),h.push(this);break}})}}}),h},getNodeAncestors:function(i,n,r){var s=[];return n===undefined&&(n=!1),this.each(function(){if(this.grid&&this.p.treeGrid){r=r!==undefined&&this.p.treeReader.expanded_field;for(var e=$(this).jqGrid("getNodeParent",i);e;){if(r)try{e[r]=!0}catch(t){}n?s.unshift(e):s.push(e),e=$(this).jqGrid("getNodeParent",e)}}}),s},isVisibleNode:function(n){var r=!0;return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid){var t=$(e).jqGrid("getNodeAncestors",n),i=e.p.treeReader.expanded_field;$(t).each(function(){if(!(r=r&&this[i]))return!1})}}),r},isNodeLoaded:function(n){var r;return this.each(function(){var e=this;if(e.grid&&e.p.treeGrid){var t=e.p.treeReader.leaf_field,i=e.p.treeReader.loaded;r=n!==undefined&&(n[i]!==undefined?n[i]:!!(n[t]||0<$(e).jqGrid("getNodeChildren",n).length))}}),r},setLeaf:function(s,o,a){return this.each(function(){var e=$.jgrid.getAccessor(s,this.p.localReader.id),t=$("#"+e,this.grid.bDiv)[0],i=this.p.treeReader.leaf_field;try{var n=this.p._index[e];null!=n&&(this.p.data[n][i]=o)}catch(E){}if(!0===o)$("div.treeclick",t).removeClass(this.p.treeIcons.minus+" tree-minus "+this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.leaf+" tree-leaf");else if(!1===o){var r=this.p.treeIcons.minus+" tree-minus";a&&(r=this.p.treeIcons.plus+" tree-plus"),$("div.treeclick",t).removeClass(this.p.treeIcons.leaf+" tree-leaf").addClass(r)}})},reloadNode:function(u,p){return this.each(function(){if(this.grid&&this.p.treeGrid){var e=this.p.localReader.id,t=this.p.selrow;$(this).jqGrid("delChildren",u[e]),p===undefined&&(p=!1),p||jQuery._data(this,"events").jqGridAfterSetTreeNode||$(this).bind("jqGridAfterSetTreeNode.reloadNode",function(){var e=this.p.treeReader.leaf_field;if(this.p.reloadnode){var t=this.p.reloadnode,i=$(this).jqGrid("getNodeChildren",t);t[e]&&i.length?$(this).jqGrid("setLeaf",t,!1):t[e]||0!==i.length||$(this).jqGrid("setLeaf",t,!0)}this.p.reloadnode=!1});var i=this.p.treeReader.expanded_field,n=this.p.treeReader.parent_id_field,r=this.p.treeReader.loaded,s=this.p.treeReader.level_field,o=this.p.treeReader.leaf_field,a=this.p.treeReader.left_field,l=this.p.treeReader.right_field,d=$.jgrid.getAccessor(u,this.p.localReader.id),c=$("#"+d,this.grid.bDiv)[0];u[i]=!0,u[o]||$("div.treeclick",c).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=c.rowIndex,this.p.datatype=this.p.treedatatype,this.p.reloadnode=u,p&&(this.p.treeANode=0<c.rowIndex?c.rowIndex-1:1,$(this).jqGrid("delRowData",d)),"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:d,n_left:u[a],n_right:u[l],n_level:u[s]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:d,parentid:u[n],n_level:u[s]}}),$(this).trigger("reloadGrid"),u[r]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{selrow:t,postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{selrow:t,postData:{nodeid:"",parentid:"",n_level:""}})}})},expandNode:function(d){return this.each(function(){if(this.grid&&this.p.treeGrid){var e=this.p.treeReader.expanded_field,t=this.p.treeReader.parent_id_field,i=this.p.treeReader.loaded,n=this.p.treeReader.level_field,r=this.p.treeReader.left_field,s=this.p.treeReader.right_field;if(!d[e]){var o=$.jgrid.getAccessor(d,this.p.localReader.id),a=$("#"+this.p.idPrefix+$.jgrid.jqID(o),this.grid.bDiv)[0],l=this.p._index[o];if(!1===(!$.isFunction(this.p.beforeExpandTreeGridNode)||this.p.beforeExpandTreeGridNode.call(this,o,d)))return;$(this).jqGrid("isNodeLoaded",this.p.data[l])?(d[e]=!0,$("div.treeclick",a).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(d[e]=!0,$("div.treeclick",a).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=a.rowIndex,this.p.datatype=this.p.treedatatype,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:o,n_left:d[r],n_right:d[s],n_level:d[n]}}):$(this).jqGrid("setGridParam",{postData:{nodeid:o,parentid:d[t],n_level:d[n]}}),$(this).trigger("reloadGrid"),d[i]=!0,"nested"===this.p.treeGridModel?$(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):$(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}})),$.isFunction(this.p.afterExpandTreeGridNode)&&this.p.afterExpandTreeGridNode.call(this,o,d)}}})},collapseNode:function(r){return this.each(function(){if(this.grid&&this.p.treeGrid){var e=this.p.treeReader.expanded_field;if(r[e]){var t=$.jgrid.getAccessor(r,this.p.localReader.id),i=!$.isFunction(this.p.beforeCollapseTreeGridNode)||this.p.beforeCollapseTreeGridNode.call(this,t,r),n=$("#"+this.p.idPrefix+$.jgrid.jqID(t),this.grid.bDiv)[0];if((r[e]=!1)===i)return;$("div.treeclick",n).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"),$.isFunction(this.p.afterCollapseTreeGridNode)&&this.p.afterCollapseTreeGridNode.call(this,t,r)}}})},SortTree:function(l,d,c,u){return this.each(function(){if(this.grid&&this.p.treeGrid){var e,t,i,n,r,s=[],o=this,a=$(this).jqGrid("getRootNodes",o.p.search);for((n=$.jgrid.from.call(this,a)).orderBy(l,d,c,u),e=0,t=(r=n.select()).length;e<t;e++)i=r[e],s.push(i),$(this).jqGrid("collectChildrenSortTree",s,i,l,d,c,u);$.each(s,function(e){var t=$.jgrid.getAccessor(this,o.p.localReader.id);$("#"+$.jgrid.jqID(o.p.id)+" tbody tr:eq("+e+")").after($("tr#"+$.jgrid.jqID(t),o.grid.bDiv))}),s=r=n=null}})},searchTree:function(t){var i,n,r,s,o,a,l=t.length||0,d=[],c=[],u=[];return this.each(function(){if(this.grid&&this.p.treeGrid&&l)for(i=this.p.localReader.id;l--;)if((d=$(this).jqGrid("getNodeAncestors",t[l],!0,!0)).push(t[l]),n=d[0][i],-1===$.inArray(n,c))c.push(n),u=u.concat(d);else for(o=0,r=d.length;o<r;o++){var e=!1;for(a=0,s=u.length;a<s;a++)if(d[o][i]===u[a][i]){e=!0;break}e||u.push(d[o])}}),u},collectChildrenSortTree:function(o,a,l,d,c,u){return this.each(function(){var e,t,i,n,r,s;if(this.grid&&this.p.treeGrid)for(n=$(this).jqGrid("getNodeChildren",a,this.p.search),(r=$.jgrid.from.call(this,n)).orderBy(l,d,c,u),e=0,t=(s=r.select()).length;e<t;e++)i=s[e],o.push(i),$(this).jqGrid("collectChildrenSortTree",o,i,l,d,c,u)})},setTreeRow:function(t,i){var n=!1;return this.each(function(){var e=this;e.grid&&e.p.treeGrid&&(n=$(e).jqGrid("setRowData",t,i))}),n},delTreeNode:function(u){return this.each(function(){var e,t,i,n,r,s=this,o=s.p.localReader.id,a=s.p.treeReader.left_field,l=s.p.treeReader.right_field;if(s.grid&&s.p.treeGrid){var d=s.p._index[u];if(d!==undefined){i=(t=parseInt(s.p.data[d][l],10))-parseInt(s.p.data[d][a],10)+1;var c=$(s).jqGrid("getFullTreeNode",s.p.data[d]);if(0<c.length)for(e=0;e<c.length;e++)$(s).jqGrid("delRowData",c[e][o]);if("nested"===s.p.treeGridModel){if((n=$.jgrid.from.call(s,s.p.data).greater(a,t,{stype:"integer"}).select()).length)for(r in n)n.hasOwnProperty(r)&&(n[r][a]=parseInt(n[r][a],10)-i);if((n=$.jgrid.from.call(s,s.p.data).greater(l,t,{stype:"integer"}).select()).length)for(r in n)n.hasOwnProperty(r)&&(n[r][l]=parseInt(n[r][l],10)-i)}}}})},delChildren:function(u){return this.each(function(){var e,t,i,n,r=this,s=r.p.localReader.id,o=r.p.treeReader.left_field,a=r.p.treeReader.right_field;if(r.grid&&r.p.treeGrid){var l=r.p._index[u];if(l!==undefined){t=(e=parseInt(r.p.data[l][a],10))-parseInt(r.p.data[l][o],10)+1;var d=$(r).jqGrid("getFullTreeNode",r.p.data[l]);if(0<d.length)for(var c=0;c<d.length;c++)d[c][s]!==u&&$(r).jqGrid("delRowData",d[c][s]);if("nested"===r.p.treeGridModel){if((i=$.jgrid.from(r.p.data).greater(o,e,{stype:"integer"}).select()).length)for(n in i)i.hasOwnProperty(n)&&(i[n][o]=parseInt(i[n][o],10)-t);if((i=$.jgrid.from(r.p.data).greater(a,e,{stype:"integer"}).select()).length)for(n in i)i.hasOwnProperty(n)&&(i[n][a]=parseInt(i[n][a],10)-t)}}}})},addChildNode:function(e,t,i,n){var r=this[0];if(i){var s,o,a,l,d,c,u,p,h=r.p.treeReader.expanded_field,f=r.p.treeReader.leaf_field,g=r.p.treeReader.level_field,m=r.p.treeReader.parent_id_field,v=r.p.treeReader.left_field,b=r.p.treeReader.right_field,_=r.p.treeReader.loaded,y=0,w=t;if(n===undefined&&(n=!1),null==e){if(0<=(d=r.p.data.length-1))for(;0<=d;)y=Math.max(y,parseInt(r.p.data[d][r.p.localReader.id],10)),d--;e=y+1}var x,j,D=$(r).jqGrid("getInd",t);if(u=!1,t===undefined||null===t||""===t)w=t=null,s="last",l=r.p.tree_root_level,d=r.p.data.length+1;else{s="after",o=r.p._index[t],t=(a=r.p.data[o])[r.p.localReader.id],l=parseInt(a[g],10)+1;var k=$(r).jqGrid("getFullTreeNode",a);k.length?(w=d=k[k.length-1][r.p.localReader.id],d=$(r).jqGrid("getInd",w)+1):d=$(r).jqGrid("getInd",t)+1,a[f]&&(u=!0,a[h]=!0,$(r.rows[D]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(r.p.treeIcons.leaf+" tree-leaf").addClass(r.p.treeIcons.minus+" tree-minus"),r.p.data[o][f]=!1,a[_]=!0)}if(c=d+1,i[h]===undefined&&(i[h]=!1),i[_]===undefined&&(i[_]=!1),i[g]=l,i[f]===undefined&&(i[f]=!0),"adjacency"===r.p.treeGridModel&&(i[m]=t),"nested"===r.p.treeGridModel)if(null!==t){if(p=parseInt(a[b],10),(x=$.jgrid.from.call(r,r.p.data).greaterOrEquals(b,p,{stype:"integer"}).select()).length)for(j in x)x.hasOwnProperty(j)&&(x[j][v]=x[j][v]>p?parseInt(x[j][v],10)+2:x[j][v],x[j][b]=x[j][b]>=p?parseInt(x[j][b],10)+2:x[j][b]);i[v]=p,i[b]=p+1}else{if(p=parseInt($(r).jqGrid("getCol",b,!1,"max"),10),(x=$.jgrid.from.call(r,r.p.data).greater(v,p,{stype:"integer"}).select()).length)for(j in x)x.hasOwnProperty(j)&&(x[j][v]=parseInt(x[j][v],10)+2);if((x=$.jgrid.from.call(r,r.p.data).greater(b,p,{stype:"integer"}).select()).length)for(j in x)x.hasOwnProperty(j)&&(x[j][b]=parseInt(x[j][b],10)+2);i[v]=p+1,i[b]=p+2}(null===t||$(r).jqGrid("isNodeLoaded",a)||u)&&($(r).jqGrid("addRowData",e,i,s,w),$(r).jqGrid("setTreeNode",d,c)),a&&!a[h]&&n&&$(r.rows[D]).find("div.treeclick").click()}}}),$.fn.jqDrag=function(e){return i(this,e,"d")},$.fn.jqResize=function(e,t){return i(this,e,"r",t)},$.jqDnR={dnr:{},e:0,drag:function(e){return"d"==M.k?E.css({left:M.X+e.pageX-M.pX,top:M.Y+e.pageY-M.pY}):(E.css({width:Math.max(e.pageX-M.pX+M.W,0),height:Math.max(e.pageY-M.pY+M.H,0)}),M1&&E1.css({width:Math.max(e.pageX-M1.pX+M1.W,0),height:Math.max(e.pageY-M1.pY+M1.H,0)})),!1},stop:function(){$(document).unbind("mousemove",J.drag).unbind("mouseup",J.stop)}};var J=$.jqDnR,M=J.dnr,E=J.e,E1,M1,i=function(r,e,t,s){return r.each(function(){(e=e?$(e,r):r).bind("mousedown",{e:r,k:t},function(e){var t=e.data,i={};if(E=t.e,E1=!!s&&$(s),"relative"!=E.css("position"))try{E.position(i)}catch(r){}if(M={X:i.left||f("left")||0,Y:i.top||f("top")||0,W:f("width")||E[0].scrollWidth||0,H:f("height")||E[0].scrollHeight||0,pX:e.pageX,pY:e.pageY,k:t.k},M1=!(!E1||"d"==t.k)&&{X:i.left||f1("left")||0,Y:i.top||f1("top")||0,W:E1[0].offsetWidth||f1("width")||0,H:E1[0].offsetHeight||f1("height")||0,pX:e.pageX,pY:e.pageY,k:t.k},$("input.hasDatepicker",E[0])[0])try{$("input.hasDatepicker",E[0]).datepicker("hide")}catch(n){}return $(document).mousemove($.jqDnR.drag).mouseup($.jqDnR.stop),!1})})},f=function(e){return parseInt(E.css(e),10)||!1},f1=function(e){return parseInt(E1.css(e),10)||!1};$.fn.tinyDraggable=function(e){var s=$.extend({handle:0,exclude:0},e);return this.each(function(){var i,n,r=$(this);(s.handle?$(s.handle,r):r).on({mousedown:function(e){if(!s.exclude||!~$.inArray(e.target,$(s.exclude,r))){e.preventDefault();var t=r.offset();i=e.pageX-t.left,n=e.pageY-t.top,$(document).on("mousemove.drag",function(e){r.offset({top:e.pageY-n,left:e.pageX-i})})}},mouseup:function(){$(document).off("mousemove.drag")}})})},$.fn.jqm=function(e){var t={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:F,ajaxText:"",target:F,modal:F,toTop:F,onShow:F,onHide:F,onLoad:F};return this.each(function(){if(this._jqm)return H[this._jqm].c=$.extend({},H[this._jqm].c,e);s++,this._jqm=s,H[s]={c:$.extend(t,$.jqm.params,e),a:F,w:$(this).addClass("jqmID"+s),s:s},t.trigger&&$(this).jqmAddTrigger(t.trigger)})},$.fn.jqmAddClose=function(e){return hs(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return hs(this,e,"jqmShow")},$.fn.jqmShow=function(e){return this.each(function(){$.jqm.open(this._jqm,e)})},$.fn.jqmHide=function(e){return this.each(function(){$.jqm.close(this._jqm,e)})},$.jqm={hash:{},open:function(t,i){var n=H[t],r=n.c,s="."+r.closeClass,o=parseInt(n.w.css("z-index"));o=0<o?o:3e3;var a=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":o-1,opacity:r.overlay/100});if(n.a)return F;if(n.t=i,n.a=!0,n.w.css("z-index",o),r.modal?(A[0]||setTimeout(function(){new L("bind")},1),A.push(t)):0<r.overlay?r.closeoverlay&&n.w.jqmAddClose(a):a=F,n.o=a?a.addClass(r.overlayClass).prependTo("body"):F,r.ajax){var l=r.target||n.w,d=r.ajax;l="string"==typeof l?$(l,n.w):$(l),d="@"===d.substr(0,1)?$(i).attr(d.substring(1)):d,l.html(r.ajaxText).load(d,function(){r.onLoad&&r.onLoad.call(this,n),s&&n.w.jqmAddClose($(s,n.w)),e(n)})}else s&&n.w.jqmAddClose($(s,n.w));return r.toTop&&n.o&&n.w.before('<span id="jqmP'+n.w[0]._jqm+'"></span>').insertAfter(n.o),r.onShow?r.onShow(n):n.w.show(),e(n),F},close:function(e){var t=H[e];return t.a&&(t.a=F,A[0]&&(A.pop(),A[0]||new L("unbind")),t.c.toTop&&t.o&&$("#jqmP"+t.w[0]._jqm).after(t.w).remove(),t.c.onHide?t.c.onHide(t):(t.w.hide(),t.o&&t.o.remove())),F},params:{}};var s=0,H=$.jqm.hash,A=[],F=!1,e=function(e){e.c.focusField===undefined&&(e.c.focusField=0),0<=e.c.focusField&&f(e)},f=function(e){try{$(":input:visible",e.w)[parseInt(e.c.focusField,10)].focus()}catch(t){}},L=function(e){$(document)[e]("keypress",m)[e]("keydown",m)[e]("mousedown",m)},m=function(i){var e=H[A[A.length-1]],n=!$(i.target).parents(".jqmID"+e.s)[0];return n&&($(".jqmID"+e.s).each(function(){var e=$(this),t=e.offset();if(t.top<=i.pageY&&i.pageY<=t.top+e.height()&&t.left<=i.pageX&&i.pageX<=t.left+e.width())return n=!1}),f(e)),!n},hs=function(e,t,i){return e.each(function(){var e=this._jqm;$(t).each(function(){this[i]||(this[i]=[],$(this).click(function(){for(var e in{jqmShow:1,jqmHide:1})for(var t in this[e])H[this[e][t]]&&H[this[e][t]].w[e](this);return F})),this[i].push(e)})})};$.fmatter={},$.extend($.fmatter,{isBoolean:function(e){return"boolean"==typeof e},isObject:function(e){return e&&("object"==typeof e||$.isFunction(e))||!1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(e){return!(!this.isString(e)&&this.isValue(e))&&(!this.isValue(e)||""===(e=$.trim(e).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))}}),$.fn.fmatter=function(e,t,i,n,r){var s=t;i=$.extend({},$.jgrid.getRegional(this,"formatter"),i);try{s=$.fn.fmatter[e].call(this,t,i,n,r)}catch(o){}return s},$.fmatter.util={NumberFormat:function(e,t){if($.fmatter.isNumber(e)||(e*=1),$.fmatter.isNumber(e)){var i,n=e<0,r=String(e),s=t.decimalSeparator||".";if($.fmatter.isNumber(t.decimalPlaces)){var o=t.decimalPlaces,a=Math.pow(10,o);if(i=(r=String(Math.round(e*a)/a)).lastIndexOf("."),0<o)for(i<0?i=(r+=s).length-1:"."!==s&&(r=r.replace(".",s));r.length-1-i<o;)r+="0"}if(t.thousandsSeparator){var l=t.thousandsSeparator;i=-1<(i=r.lastIndexOf(s))?i:r.length;var d,c=r.substring(i),u=-1;for(d=i;0<d;d--)++u%3==0&&d!==i&&(!n||1<d)&&(c=l+c),c=r.charAt(d-1)+c;r=c}return r=t.prefix?t.prefix+r:r,r=t.suffix?r+t.suffix:r}return e}},$.fn.fmatter.defaultFormat=function(e,t){return $.fmatter.isValue(e)&&""!==e?e:t.defaultValue||"&#160;"},$.fn.fmatter.email=function(e,t){return $.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):'<a href="mailto:'+e+'">'+e+"</a>"},$.fn.fmatter.checkbox=function(e,t){var i,n=$.extend({},t.checkbox);return t.colModel!==undefined&&t.colModel.formatoptions!==undefined&&(n=$.extend({},n,t.colModel.formatoptions)),i=!0===n.disabled?'disabled="disabled"':"",($.fmatter.isEmpty(e)||e===undefined)&&(e=$.fn.fmatter.defaultFormat(e,n)),'<input type="checkbox" '+((e=((e=String(e))+"").toLowerCase()).search(/(false|f|0|no|n|off|undefined)/i)<0?" checked='checked' ":"")+' value="'+e+'" offval="no" '+i+"/>"},$.fn.fmatter.link=function(e,t){var i={target:t.target},n="";return t.colModel!==undefined&&t.colModel.formatoptions!==undefined&&(i=$.extend({},i,t.colModel.formatoptions)),i.target&&(n="target="+i.target),$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):"<a "+n+' href="'+e+'">'+e+"</a>"},$.fn.fmatter.showlink=function(e,t){var i,n={baseLinkUrl:t.baseLinkUrl,showAction:t.showAction,addParam:t.addParam||"",target:t.target,idName:t.idName},r="";return t.colModel!==undefined&&t.colModel.formatoptions!==undefined&&(n=$.extend({},n,t.colModel.formatoptions)),n.target&&(r="target="+n.target),i=n.baseLinkUrl+n.showAction+"?"+n.idName+"="+t.rowId+n.addParam,$.fmatter.isString(e)||$.fmatter.isNumber(e)?"<a "+r+' href="'+i+'">'+e+"</a>":$.fn.fmatter.defaultFormat(e,t)},$.fn.fmatter.integer=function(e,t){var i=$.extend({},t.integer);return t.colModel!==undefined&&t.colModel.formatoptions!==undefined&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.number=function(e,t){var i=$.extend({},t.number);return t.colModel!==undefined&&t.colModel.formatoptions!==undefined&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.currency=function(e,t){var i=$.extend({},t.currency)
;return t.colModel!==undefined&&t.colModel.formatoptions!==undefined&&(i=$.extend({},i,t.colModel.formatoptions)),$.fmatter.isEmpty(e)?i.defaultValue:$.fmatter.util.NumberFormat(e,i)},$.fn.fmatter.date=function(e,t,i,n){var r=$.extend({},t.date);return t.colModel!==undefined&&t.colModel.formatoptions!==undefined&&(r=$.extend({},r,t.colModel.formatoptions)),r.reformatAfterEdit||"edit"!==n?$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):$.jgrid.parseDate.call(this,r.srcformat,e,r.newformat,r):$.fn.fmatter.defaultFormat(e,t)},$.fn.fmatter.select=function(e,t){e=String(e);var i,n,r=!1,s=[];if(t.colModel.formatoptions!==undefined?(r=t.colModel.formatoptions.value,i=t.colModel.formatoptions.separator===undefined?":":t.colModel.formatoptions.separator,n=t.colModel.formatoptions.delimiter===undefined?";":t.colModel.formatoptions.delimiter):t.colModel.editoptions!==undefined&&(r=t.colModel.editoptions.value,i=t.colModel.editoptions.separator===undefined?":":t.colModel.editoptions.separator,n=t.colModel.editoptions.delimiter===undefined?";":t.colModel.editoptions.delimiter),r){var o,a=!0==(null!=t.colModel.editoptions&&!0===t.colModel.editoptions.multiple),l=[];if(a&&(l=e.split(","),l=$.map(l,function(e){return $.trim(e)})),$.fmatter.isString(r)){var d,c=r.split(n),u=0;for(d=0;d<c.length;d++)if(2<(o=c[d].split(i)).length&&(o[1]=$.map(o,function(e,t){if(0<t)return e}).join(i)),a)-1<$.inArray(o[0],l)&&(s[u]=o[1],u++);else if($.trim(o[0])===$.trim(e)){s[0]=o[1];break}}else $.fmatter.isObject(r)&&(a?s=$.map(l,function(e){return r[e]}):s[0]=r[e]||"")}return""===(e=s.join(", "))?$.fn.fmatter.defaultFormat(e,t):e},$.fn.fmatter.rowactions=function(e){var t=$(this).closest("tr.jqgrow"),i=t.attr("id"),n=$(this).closest("table.ui-jqgrid-btable").attr("id").replace(/_frozen([^_]*)$/,"$1"),r=$("#"+n),s=r[0],o=s.p,a=o.colModel[$.jgrid.getCellIndex(this)],l=a.frozen?$("tr#"+i+" td:eq("+$.jgrid.getCellIndex(this)+") > div",r):$(this).parent(),d={extraparam:{}},c=function(e,t){$.isFunction(d.afterSave)&&d.afterSave.call(s,e,t),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()},u=function(e){$.isFunction(d.afterRestore)&&d.afterRestore.call(s,e),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide()};a.formatoptions!==undefined&&(d=$.extend(d,a.formatoptions)),o.editOptions!==undefined&&(d.editOptions=o.editOptions),o.delOptions!==undefined&&(d.delOptions=o.delOptions),t.hasClass("jqgrid-new-row")&&(d.extraparam[o.prmNames.oper]=o.prmNames.addoper);var p={keys:d.keys,oneditfunc:d.onEdit,successfunc:d.onSuccess,url:d.url,extraparam:d.extraparam,aftersavefunc:c,errorfunc:d.onError,afterrestorefunc:u,restoreAfterError:d.restoreAfterError,mtype:d.mtype};switch(e){case"edit":r.jqGrid("editRow",i,p),l.find("div.ui-inline-edit,div.ui-inline-del").hide(),l.find("div.ui-inline-save,div.ui-inline-cancel").show(),r.triggerHandler("jqGridAfterGridComplete");break;case"save":r.jqGrid("saveRow",i,p)&&(l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),r.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":r.jqGrid("restoreRow",i,u),l.find("div.ui-inline-edit,div.ui-inline-del").show(),l.find("div.ui-inline-save,div.ui-inline-cancel").hide(),r.triggerHandler("jqGridAfterGridComplete");break;case"del":r.jqGrid("delGridRow",i,d.delOptions);break;case"formedit":r.jqGrid("setSelection",i),r.jqGrid("editGridRow",i,d.editOptions)}},$.fn.fmatter.actions=function(e,t){var i,n={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},r=t.rowId,s="",o=$.jgrid.getRegional(this,"nav"),a=$.jgrid.styleUI[t.styleUI||"jQueryUI"].fmatter,l=$.jgrid.styleUI[t.styleUI||"jQueryUI"].common;if(t.colModel.formatoptions!==undefined&&(n=$.extend(n,t.colModel.formatoptions)),r===undefined||$.fmatter.isEmpty(r))return"";var d="onmouseover=jQuery(this).addClass('"+l.hover+"'); onmouseout=jQuery(this).removeClass('"+l.hover+"');  ";return n.editformbutton?(i="id='jEditButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); "+d,s+="<div title='"+o.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+a.icon_edit+"'></span></div>"):n.editbutton&&(i="id='jEditButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); "+d,s+="<div title='"+o.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+i+"><span class='"+l.icon_base+" "+a.icon_edit+"'></span></div>"),n.delbutton&&(i="id='jDeleteButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); "+d,s+="<div title='"+o.deltitle+"' style='float:left;' class='ui-pg-div ui-inline-del' "+i+"><span class='"+l.icon_base+" "+a.icon_del+"'></span></div>"),i="id='jSaveButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); "+d,s+="<div title='"+o.savetitle+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' "+i+"><span class='"+l.icon_base+" "+a.icon_save+"'></span></div>",i="id='jCancelButton_"+r+"' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); "+d,"<div style='margin-left:8px;'>"+(s+="<div title='"+o.canceltitle+"' style='float:left;display:none;' class='ui-pg-div ui-inline-cancel' "+i+"><span class='"+l.icon_base+" "+a.icon_cancel+"'></span></div>")+"</div>"},$.unformat=function(e,t,i,n){var r,s,o=t.colModel.formatter,a=t.colModel.formatoptions||{},l=/([\.\*\_\'\(\)\{\}\+\?\\])/g,d=t.colModel.unformat||$.fn.fmatter[o]&&$.fn.fmatter[o].unformat;if(d!==undefined&&$.isFunction(d))r=d.call(this,$(e).text(),t,e);else if(o!==undefined&&$.fmatter.isString(o)){var c,u=$.jgrid.getRegional(this,"formatter")||{};switch(o){case"integer":s=(a=$.extend({},u.integer,a)).thousandsSeparator.replace(l,"\\$1"),c=new RegExp(s,"g"),r=$(e).text().replace(c,"");break;case"number":s=(a=$.extend({},u.number,a)).thousandsSeparator.replace(l,"\\$1"),c=new RegExp(s,"g"),r=$(e).text().replace(c,"").replace(a.decimalSeparator,".");break;case"currency":s=(a=$.extend({},u.currency,a)).thousandsSeparator.replace(l,"\\$1"),c=new RegExp(s,"g"),r=$(e).text(),a.prefix&&a.prefix.length&&(r=r.substr(a.prefix.length)),a.suffix&&a.suffix.length&&(r=r.substr(0,r.length-a.suffix.length)),r=r.replace(c,"").replace(a.decimalSeparator,".");break;case"checkbox":var p=t.colModel.editoptions?t.colModel.editoptions.value.split(":"):["Yes","No"];r=$("input",e).is(":checked")?p[0]:p[1];break;case"select":r=$.unformat.select(e,t,i,n);break;case"actions":return"";default:r=$(e).text()}}return r!==undefined?r:!0===n?$(e).text():$.jgrid.htmlDecode($(e).html())},$.unformat.select=function(e,t,i,n){var r=[],s=$(e).text();if(!0===n)return s;var o=$.extend({},t.colModel.formatoptions!==undefined?t.colModel.formatoptions:t.colModel.editoptions),a=o.separator===undefined?":":o.separator,l=o.delimiter===undefined?";":o.delimiter;if(o.value){var d,c=o.value,u=!0===o.multiple,p=[];if(u&&(p=s.split(","),p=$.map(p,function(e){return $.trim(e)})),$.fmatter.isString(c)){var h,f=c.split(l),g=0;for(h=0;h<f.length;h++)if(2<(d=f[h].split(a)).length&&(d[1]=$.map(d,function(e,t){if(0<t)return e}).join(a)),u)-1<$.inArray($.trim(d[1]),p)&&(r[g]=d[0],g++);else if($.trim(d[1])===$.trim(s)){r[0]=d[0];break}}else($.fmatter.isObject(c)||$.isArray(c))&&(u||(p[0]=s),r=$.map(p,function(i){var n;if($.each(c,function(e,t){if(t===i)return n=e,!1}),n!==undefined)return n}));return r.join(", ")}return s||""},$.unformat.date=function(e,t){var i=$.jgrid.getRegional(this,"formatter.date")||{};return t.formatoptions!==undefined&&(i=$.extend({},i,t.formatoptions)),$.fmatter.isEmpty(e)?$.fn.fmatter.defaultFormat(e,t):$.jgrid.parseDate.call(this,i.newformat,e,i.srcformat,i)};var dragging,placeholders=$();$.fn.html5sortable=function(s){var e=String(s);return s=$.extend({connectWith:!1},s),this.each(function(){if(/^enable|disable|destroy$/.test(e)){var t=$(this).children($(this).data("items")).attr("draggable","enable"===e);"destroy"===e&&t.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s")}else{t=$(this).children(s.items);var i,n,r=$("<"+(/^ul|ol$/i.test(this.tagName)?"li":/^tbody$/i.test(this.tagName)?"tr":"div")+' class="sortable-placeholder '+s.placeholderClass+'">').html("&nbsp;");t.find(s.handle).mousedown(function(){i=!0}).mouseup(function(){i=!1}),$(this).data("items",s.items),placeholders=placeholders.add(r),s.connectWith&&$(s.connectWith).add(this).data("connectWith",s.connectWith),t.attr("draggable","true").on("dragstart.h5s",function(e){if(s.handle&&!i)return!1;i=!1;var t=e.originalEvent.dataTransfer;t.effectAllowed="move",t.setData("Text","dummy"),n=(dragging=$(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){dragging&&(dragging.removeClass("sortable-dragging").show(),placeholders.detach(),n!==dragging.index()&&dragging.parent().trigger("sortupdate",{item:dragging,startindex:n,endindex:dragging.index()}),dragging=null)}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,r]).on("dragover.h5s dragenter.h5s drop.h5s",function(e){return!t.is(dragging)&&s.connectWith!==$(dragging).parent().data("connectWith")||("drop"===e.type?(e.stopPropagation(),placeholders.filter(":visible").after(dragging),dragging.trigger("dragend.h5s")):(e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="move",t.is(this)?(s.forcePlaceholderSize&&r.height(dragging.outerHeight()),dragging.hide(),$(this)[r.index()<$(this).index()?"after":"before"](r),placeholders.not(r).detach()):placeholders.is(this)||$(this).children(s.items).length||(placeholders.detach(),$(this).append(r))),!1)})}})},window.jqGridUtils={stringify:function(e){return JSON.stringify(e,function(e,t){return"function"==typeof t?t.toString():t})},parse:function(str){return JSON.parse(str,function(key,value){if("string"!=typeof value||-1===value.indexOf("function"))return value;var sv=value.split(" ");return"function"===sv[0].trim()&&"}"===value.trim().slice(-1)?eval("("+value+")"):value})},encode:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},jsonToXML:function(e,t){var l=$.extend({xmlDecl:'<?xml version="1.0" encoding="UTF-8" ?>\n',attr_prefix:"-",encode:!0},t||{}),d=this,c=function(e,t){return"#text"===e?l.encode?d.encode(t):t:"function"==typeof t?"<"+e+"><![CDATA["+t+"]]></"+e+">\n":""===t?"<"+e+">__EMPTY_STRING_</"+e+">\n":"<"+e+">"+(l.encode?d.encode(t):t)+"</"+e+">\n"},u=function(e,t){for(var i=[],n=0;n<t.length;n++){var r=t[n];void 0===r||null==r?i[i.length]="<"+e+" />":"object"==typeof r&&r.constructor==Array?i[i.length]=u(e,r):i[i.length]="object"==typeof r?p(e,r):c(e,r)}return i.length||(i[0]="<"+e+">__EMPTY_ARRAY_</"+e+">\n"),i.join("")},p=function(e,t){var i=[],n=[];for(var r in t)if(t.hasOwnProperty(r)){var s=t[r];r.charAt(0)!==l.attr_prefix?null==s?i[i.length]="<"+r+" />":"object"==typeof s&&s.constructor===Array?i[i.length]=u(r,s):i[i.length]="object"==typeof s?p(r,s):c(r,s):n[n.length]=" "+r.substring(1)+'="'+(l.encode?d.encode(s):s)+'"'}var o=n.join(""),a=i.join("");return null==e||(a=0<i.length?a.match(/\n/)?"<"+e+o+">\n"+a+"</"+e+">\n":"<"+e+o+">"+a+"</"+e+">\n":"<"+e+o+" />\n"),a},i=p(null,e);return l.xmlDecl+i},xmlToJSON:function(root,options){var o=$.extend({force_array:[],attr_prefix:"-"},options||{});if(root){var __force_array={};if(o.force_array)for(var i=0;i<o.force_array.length;i++)__force_array[o.force_array[i]]=1;"string"==typeof root&&(root=$.parseXML(root)),root.documentElement&&(root=root.documentElement);var addNode=function(hash,key,cnts,val){if("string"==typeof val)if(-1!==val.indexOf("function"))val=eval("("+val+")");else switch(val){case"__EMPTY_ARRAY_":val=[];break;case"__EMPTY_STRING_":val="";break;case"false":val=!1;break;case"true":val=!0}__force_array[key]?(1===cnts&&(hash[key]=[]),hash[key][hash[key].length]=val):1===cnts?hash[key]=val:2===cnts?hash[key]=[hash[key],val]:hash[key][hash[key].length]=val},parseElement=function(e){if(7!==e.nodeType){if(3===e.nodeType||4===e.nodeType){if(null==e.nodeValue.match(/[^\x00-\x20]/))return;return e.nodeValue}var t,i,n,r,s={};if(e.attributes&&e.attributes.length)for(t={},i=0;i<e.attributes.length;i++)"string"==typeof(n=e.attributes[i].nodeName)&&(r=e.attributes[i].nodeValue)&&("undefined"==typeof s[n=o.attr_prefix+n]&&(s[n]=0),s[n]++,addNode(t,n,s[n],r));if(e.childNodes&&e.childNodes.length){var a=!0;for(t&&(a=!1),i=0;i<e.childNodes.length&&a;i++){var l=e.childNodes[i].nodeType;3!==l&&4!==l&&(a=!1)}if(a)for(t||(t=""),i=0;i<e.childNodes.length;i++)t+=e.childNodes[i].nodeValue;else for(t||(t={}),i=0;i<e.childNodes.length;i++)"string"==typeof(n=e.childNodes[i].nodeName)&&(r=parseElement(e.childNodes[i]))&&("undefined"==typeof s[n]&&(s[n]=0),s[n]++,addNode(t,n,s[n],r))}return t}},json=parseElement(root);if(__force_array[root.nodeName]&&(json=[json]),11!==root.nodeType){var tmp={};tmp[root.nodeName]=json,json=tmp}return json}}}}),function(){"use strict";var v,a,r,n,l,d;l=864e5,d=3600,v=function(e,t){return"string"==typeof e&&"string"==typeof t&&e.toLowerCase()===t.toLowerCase()},a=function(e,t,i){var n=i||"0",r=e.toString();return r.length<t?a(n+r,t):r},r=function(e){var t,i;for(e=e||{},t=1;t<arguments.length;t++)if(i=arguments[t])for(var n in i)i.hasOwnProperty(n)&&("object"==typeof i[n]?r(e[n],i[n]):e[n]=i[n]);return e},n={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,i={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&i[t]?i[t]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},(DateFormatter=function(e){var t=this,i=r(n,e);t.dateSettings=i.dateSettings,t.separators=i.separators,t.validParts=i.validParts,t.intParts=i.intParts,t.tzParts=i.tzParts,t.tzClip=i.tzClip}).prototype={constructor:DateFormatter,parseDate:function(e,t){var i,n,r,s,o,a,l,d,c,u,p=this,h=!1,f=!1,g=p.dateSettings,m={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(e){if(e instanceof Date)return e;if("number"==typeof e)return new Date(e);if("U"===t)return(r=parseInt(e))?new Date(1e3*r):e;if("string"!=typeof e)return"";if(!(i=t.match(p.validParts))||0===i.length)throw new Error("Invalid date format definition.");for(n=e.replace(p.separators,"\0").split("\0"),r=0;r<n.length;r++)switch(s=n[r],o=parseInt(s),i[r]){case"y":case"Y":2===(c=s.length)?m.year=parseInt((o<70?"20":"19")+s):4===c&&(m.year=o),h=!0;break;case"m":case"n":case"M":case"F":isNaN(s)?(-1<(a=g.monthsShort.indexOf(s))&&(m.month=a+1),-1<(a=g.months.indexOf(s))&&(m.month=a+1)):1<=o&&o<=12&&(m.month=o),h=!0;break;case"d":case"j":1<=o&&o<=31&&(m.day=o),h=!0;break;case"g":case"h":u=n[l=-1<i.indexOf("a")?i.indexOf("a"):-1<i.indexOf("A")?i.indexOf("A"):-1],-1<l?(d=v(u,g.meridiem[0])?0:v(u,g.meridiem[1])?12:-1,1<=o&&o<=12&&-1<d?m.hour=o+d-1:0<=o&&o<=23&&(m.hour=o)):0<=o&&o<=23&&(m.hour=o),f=!0;break;case"G":case"H":0<=o&&o<=23&&(m.hour=o),f=!0;break;case"i":0<=o&&o<=59&&(m.min=o),f=!0;break;case"s":0<=o&&o<=59&&(m.sec=o),f=!0}if(!0===h&&m.year&&m.month&&m.day)m.date=new Date(m.year,m.month-1,m.day,m.hour,m.min,m.sec,0);else{if(!0!==f)return!1;m.date=new Date(0,0,0,m.hour,m.min,m.sec,0)}return m.date}},guessDate:function(e,t){if("string"!=typeof e)return e;var i,n,r,s,o=this,a=e.replace(o.separators,"\0").split("\0"),l=/^[djmn]/g,d=t.match(o.validParts),c=new Date,u=0;if(!l.test(d[0]))return e;for(n=0;n<a.length;n++){switch(u=2,r=a[n],s=parseInt(r.substr(0,2)),n){case 0:"m"===d[0]||"n"===d[0]?c.setMonth(s-1):c.setDate(s);break;case 1:"m"===d[0]||"n"===d[0]?c.setDate(s):c.setMonth(s-1);break;case 2:i=c.getFullYear(),r.length<4?(c.setFullYear(parseInt(i.toString().substr(0,4-r.length)+r)),u=r.length):(c.setFullYear=parseInt(r.substr(0,4)),u=4);break;case 3:c.setHours(s);break;case 4:c.setMinutes(s);break;case 5:c.setSeconds(s)}0<r.substr(u).length&&a.splice(n+1,0,r.substr(u))}return c},parseFormat:function(e,n){var i,t=this,r=t.dateSettings,s=/\\?(.?)/gi,o=function(e,t){return i[e]?i[e]():t};return i={d:function(){return a(i.j(),2)},D:function(){return r.daysShort[i.w()]},j:function(){return n.getDate()},l:function(){return r.days[i.w()]},N:function(){return i.w()||7},w:function(){return n.getDay()},z:function(){var e=new Date(i.Y(),i.n()-1,i.j()),t=new Date(i.Y(),0,1);return Math.round((e-t)/l)},W:function(){var e=new Date(i.Y(),i.n()-1,i.j()-i.N()+3),t=new Date(e.getFullYear(),0,4);return a(1+Math.round((e-t)/l/7),2)},F:function(){return r.months[n.getMonth()]},m:function(){return a(i.n(),2)},M:function(){return r.monthsShort[n.getMonth()]},n:function(){return n.getMonth()+1},t:function(){return new Date(i.Y(),i.n(),0).getDate()},L:function(){var e=i.Y();return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=i.n(),t=i.W();return i.Y()+(12===e&&t<9?1:1===e&&9<t?-1:0)},Y:function(){return n.getFullYear()},y:function(){return i.Y().toString().slice(-2)},a:function(){return i.A().toLowerCase()},A:function(){var e=i.G()<12?0:1;return r.meridiem[e]},B:function(){var e=n.getUTCHours()*d,t=60*n.getUTCMinutes(),i=n.getUTCSeconds();return a(Math.floor((e+t+i+d)/86.4)%1e3,3)},g:function(){return i.G()%12||12},G:function(){return n.getHours()},h:function(){return a(i.g(),2)},H:function(){return a(i.G(),2)},i:function(){return a(n.getMinutes(),2)},s:function(){return a(n.getSeconds(),2)},u:function(){return a(1e3*n.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(n))[1]||"Coordinated Universal Time"},T:function(){return(String(n).match(t.tzParts)||[""]).pop().replace(t.tzClip,"")||"UTC"},I:function(){return new Date(i.Y(),0)-Date.UTC(i.Y(),0)!=new Date(i.Y(),6)-Date.UTC(i.Y(),6)?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(0<e?"-":"+")+a(100*Math.floor(t/60)+t%60,4)},P:function(){var e=i.O();return e.substr(0,3)+":"+e.substr(3,2)},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(s,o)},r:function(){return"D, d M Y H:i:s O".replace(s,o)},U:function(){return n.getTime()/1e3||0}},o(e,e)},formatDate:function(e,t){var i,n,r,s,o,a=this,l="";if("string"==typeof e&&!1===(e=a.parseDate(e,t)))return!1;if(e instanceof Date){for(r=t.length,i=0;i<r;i++)"S"!==(o=t.charAt(i))&&(s=a.parseFormat(o,e),i!==r-1&&a.intParts.test(o)&&"S"===t.charAt(i+1)&&(n=parseInt(s),s+=a.dateSettings.ordinal(n)),l+=s);return l}return""}}}(),function(e){"function"==typeof define&&define.amd?define(["jquery","jquery-mousewheel"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(B){"use strict";function U(e,t,i){this.date=e,this.desc=t,this.style=i}var a={i18n:{ar:{months:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0645\u0627\u064a\u0648","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],dayOfWeekShort:["\u0646","\u062b","\u0639","\u062e","\u062c","\u0633","\u062d"],dayOfWeek:["\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062a","\u0627\u0644\u0623\u062d\u062f"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","S\xe2"],dayOfWeek:["Duminic\u0103","Luni","Mar\u0163i","Miercuri","Joi","Vineri","S\xe2mb\u0103t\u0103"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["Jan\xfaar","Febr\xfaar","Mars","Apr\xedl","Ma\xed","J\xfan\xed","J\xfal\xed","\xc1g\xfast","September","Okt\xf3ber","N\xf3vember","Desember"],dayOfWeekShort:["Sun","M\xe1n","\xderi\xf0","Mi\xf0","Fim","F\xf6s","Lau"],dayOfWeek:["Sunnudagur","M\xe1nudagur","\xderi\xf0judagur","Mi\xf0vikudagur","Fimmtudagur","F\xf6studagur","Laugardagur"]},bg:{months:["\u042f\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u041d\u043e\u0435\u043c\u0432\u0440\u0438","\u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeekShort:["\u041d\u0434","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],dayOfWeek:["\u041d\u0435\u0434\u0435\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u044f\u0434\u0430","\u0427\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a","\u041f\u0435\u0442\u044a\u043a","\u0421\u044a\u0431\u043e\u0442\u0430"]},fa:{months:["\u0641\u0631\u0648\u0631\u062f\u06cc\u0646","\u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u062e\u0631\u062f\u0627\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f\u0627\u062f","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627\u0646","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645\u0646","\u0627\u0633\u0641\u0646\u062f"],dayOfWeekShort:["\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647 \u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647"],dayOfWeek:["\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647\u200c\u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647","\u0634\u0646\u0628\u0647","\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647"]},ru:{months:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],dayOfWeekShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],dayOfWeek:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"]},uk:{months:["\u0421\u0456\u0447\u0435\u043d\u044c","\u041b\u044e\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","\u041a\u0432\u0456\u0442\u0435\u043d\u044c","\u0422\u0440\u0430\u0432\u0435\u043d\u044c","\u0427\u0435\u0440\u0432\u0435\u043d\u044c","\u041b\u0438\u043f\u0435\u043d\u044c","\u0421\u0435\u0440\u043f\u0435\u043d\u044c","\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","\u0416\u043e\u0432\u0442\u0435\u043d\u044c","\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043d\u044c"],dayOfWeekShort:["\u041d\u0434\u043b","\u041f\u043d\u0434","\u0412\u0442\u0440","\u0421\u0440\u0434","\u0427\u0442\u0432","\u041f\u0442\u043d","\u0421\u0431\u0442"],dayOfWeek:["\u041d\u0435\u0434\u0456\u043b\u044f","\u041f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a","\u0412\u0456\u0432\u0442\u043e\u0440\u043e\u043a","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041f'\u044f\u0442\u043d\u0438\u0446\u044f","\u0421\u0443\u0431\u043e\u0442\u0430"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2","\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","\u039c\u03ac\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2"],dayOfWeekShort:["\u039a\u03c5\u03c1","\u0394\u03b5\u03c5","\u03a4\u03c1\u03b9","\u03a4\u03b5\u03c4","\u03a0\u03b5\u03bc","\u03a0\u03b1\u03c1","\u03a3\u03b1\u03b2"],dayOfWeek:["\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae","\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1","\u03a4\u03c1\u03af\u03c4\u03b7","\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7","\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7","\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae","\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf"]},de:{months:["Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","\u015eubat","Mart","Nisan","May\u0131s","Haziran","Temmuz","A\u011fustos","Eyl\xfcl","Ekim","Kas\u0131m","Aral\u0131k"],dayOfWeekShort:["Paz","Pts","Sal","\xc7ar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","Sal\u0131","\xc7ar\u015famba","Per\u015fembe","Cuma","Cumartesi"]},fr:{months:["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],dayOfWeek:["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"]},th:{months:["\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21","\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c","\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21","\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19","\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21","\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19","\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21","\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21","\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19","\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21","\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19","\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"],dayOfWeekShort:["\u0e2d\u0e32.","\u0e08.","\u0e2d.","\u0e1e.","\u0e1e\u0e24.","\u0e28.","\u0e2a."],dayOfWeek:["\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c","\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c","\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23","\u0e1e\u0e38\u0e18","\u0e1e\u0e24\u0e2b\u0e31\u0e2a","\u0e28\u0e38\u0e01\u0e23\u0e4c","\u0e40\u0e2a\u0e32\u0e23\u0e4c","\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c"]},pl:{months:["stycze\u0144","luty","marzec","kwiecie\u0144","maj","czerwiec","lipiec","sierpie\u0144","wrzesie\u0144","pa\u017adziernik","listopad","grudzie\u0144"],dayOfWeekShort:["nd","pn","wt","\u015br","cz","pt","sb"],dayOfWeek:["niedziela","poniedzia\u0142ek","wtorek","\u015broda","czwartek","pi\u0105tek","sobota"]},pt:{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"]},ch:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeekShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"]},kr:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeekShort:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],dayOfWeek:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeekShort:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"],dayOfWeek:["s\xf8ndag","mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["S\xf8n","Man","Tir","Ons","Tor","Fre","L\xf8r"],dayOfWeek:["S\xf8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xf8rdag"]},ja:{months:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeekShort:["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],dayOfWeek:["\u65e5\u66dc","\u6708\u66dc","\u706b\u66dc","\u6c34\u66dc","\u6728\u66dc","\u91d1\u66dc","\u571f\u66dc"]},vi:{months:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Ch\u1ee7 nh\u1eadt","Th\u1ee9 hai","Th\u1ee9 ba","Th\u1ee9 t\u01b0","Th\u1ee9 n\u0103m","Th\u1ee9 s\xe1u","Th\u1ee9 b\u1ea3y"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","\u010cet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","\u010cetrtek","Petek","Sobota"]},cs:{months:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","\xdat","St","\u010ct","P\xe1","So"]},hu:{months:["Janu\xe1r","Febru\xe1r","M\xe1rcius","\xc1prilis","M\xe1jus","J\xfanius","J\xfalius","Augusztus","Szeptember","Okt\xf3ber","November","December"],dayOfWeekShort:["Va","H\xe9","Ke","Sze","Cs","P\xe9","Szo"],dayOfWeek:["vas\xe1rnap","h\xe9tf\u0151","kedd","szerda","cs\xfct\xf6rt\xf6k","p\xe9ntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","\xc7a","\xc7","Ca","C","\u015e"],dayOfWeek:["Bazar","Bazar ert\u0259si","\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131","\xc7\u0259r\u015f\u0259nb\u0259","C\xfcm\u0259 ax\u015fam\u0131",
"C\xfcm\u0259","\u015e\u0259nb\u0259"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","Mar\xe7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","M\xe4rts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["P\xfchap\xe4ev","Esmasp\xe4ev","Teisip\xe4ev","Kolmap\xe4ev","Neljap\xe4ev","Reede","Laup\xe4ev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes\xe4kuu","Hein\xe4kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","M\xe9rcores","Xoves","Venres","S\xe1bado"]},hr:{months:["Sije\u010danj","Velja\u010da","O\u017eujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","\u010cet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","\u010cetvrtak","Petak","Subota"]},ko:{months:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],dayOfWeekShort:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],dayOfWeek:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"]},lt:{months:["Sausio","Vasario","Kovo","Baland\u017eio","Gegu\u017e\u0117s","Bir\u017eelio","Liepos","Rugpj\u016b\u010dio","Rugs\u0117jo","Spalio","Lapkri\u010dio","Gruod\u017eio"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","\u0160e\u0161"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","Tre\u010diadienis","Ketvirtadienis","Penktadienis","\u0160e\u0161tadienis"]},lv:{months:["Janv\u0101ris","Febru\u0101ris","Marts","Apr\u012blis ","Maijs","J\u016bnijs","J\u016blijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["Sv\u0113tdiena","Pirmdiena","Otrdiena","Tre\u0161diena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["\u0458\u0430\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d\u0438","\u0458\u0443\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"],dayOfWeekShort:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0432\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0430\u0431"],dayOfWeek:["\u041d\u0435\u0434\u0435\u043b\u0430","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0440\u0442\u043e\u043a","\u041f\u0435\u0442\u043e\u043a","\u0421\u0430\u0431\u043e\u0442\u0430"]},mn:{months:["1-\u0440 \u0441\u0430\u0440","2-\u0440 \u0441\u0430\u0440","3-\u0440 \u0441\u0430\u0440","4-\u0440 \u0441\u0430\u0440","5-\u0440 \u0441\u0430\u0440","6-\u0440 \u0441\u0430\u0440","7-\u0440 \u0441\u0430\u0440","8-\u0440 \u0441\u0430\u0440","9-\u0440 \u0441\u0430\u0440","10-\u0440 \u0441\u0430\u0440","11-\u0440 \u0441\u0430\u0440","12-\u0440 \u0441\u0430\u0440"],dayOfWeekShort:["\u0414\u0430\u0432","\u041c\u044f\u0433","\u041b\u0445\u0430","\u041f\u04af\u0440","\u0411\u0441\u043d","\u0411\u044f\u043c","\u041d\u044f\u043c"],dayOfWeek:["\u0414\u0430\u0432\u0430\u0430","\u041c\u044f\u0433\u043c\u0430\u0440","\u041b\u0445\u0430\u0433\u0432\u0430","\u041f\u04af\u0440\u044d\u0432","\u0411\u0430\u0430\u0441\u0430\u043d","\u0411\u044f\u043c\u0431\u0430","\u041d\u044f\u043c"]},"pt-BR":{months:["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],dayOfWeek:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"]},sk:{months:["Janu\xe1r","Febru\xe1r","Marec","Apr\xedl","M\xe1j","J\xfan","J\xfal","August","September","Okt\xf3ber","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","\u0160t","Pi","So"],dayOfWeek:["Nede\u013ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","N\xebntor","Dhjetor"],dayOfWeekShort:["Die","H\xebn","Mar","M\xebr","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E H\xebn\xeb","E Mart\u0113","E M\xebrkur\xeb","E Enjte","E Premte","E Shtun\xeb"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","\u010det","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","\u010cetvrtak","Petak","Subota"]},sr:{months:["\u0458\u0430\u043d\u0443\u0430\u0440","\u0444\u0435\u0431\u0440\u0443\u0430\u0440","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0458","\u0458\u0443\u043d","\u0458\u0443\u043b","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440","\u043e\u043a\u0442\u043e\u0431\u0430\u0440","\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440","\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440"],dayOfWeekShort:["\u043d\u0435\u0434","\u043f\u043e\u043d","\u0443\u0442\u043e","\u0441\u0440\u0435","\u0447\u0435\u0442","\u043f\u0435\u0442","\u0441\u0443\u0431"],dayOfWeek:["\u041d\u0435\u0434\u0435\u0459\u0430","\u041f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a","\u0423\u0442\u043e\u0440\u0430\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0440\u0442\u0430\u043a","\u041f\u0435\u0442\u0430\u043a","\u0421\u0443\u0431\u043e\u0442\u0430"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["S\xf6n","M\xe5n","Tis","Ons","Tor","Fre","L\xf6r"],dayOfWeek:["S\xf6ndag","M\xe5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xf6rdag"]},"zh-TW":{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeekShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]},zh:{months:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],dayOfWeekShort:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]},he:{months:["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"],dayOfWeekShort:["\u05d0'","\u05d1'","\u05d2'","\u05d3'","\u05d4'","\u05d5'","\u05e9\u05d1\u05ea"],dayOfWeek:["\u05e8\u05d0\u05e9\u05d5\u05df","\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea","\u05e8\u05d0\u05e9\u05d5\u05df"]},hy:{months:["\u0540\u0578\u0582\u0576\u057e\u0561\u0580","\u0553\u0565\u057f\u0580\u057e\u0561\u0580","\u0544\u0561\u0580\u057f","\u0531\u057a\u0580\u056b\u056c","\u0544\u0561\u0575\u056b\u057d","\u0540\u0578\u0582\u0576\u056b\u057d","\u0540\u0578\u0582\u056c\u056b\u057d","\u0555\u0563\u0578\u057d\u057f\u0578\u057d","\u054d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580","\u0540\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580","\u0546\u0578\u0575\u0565\u0574\u0562\u0565\u0580","\u0534\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580"],dayOfWeekShort:["\u053f\u056b","\u0535\u0580\u056f","\u0535\u0580\u0584","\u0549\u0578\u0580","\u0540\u0576\u0563","\u0548\u0582\u0580\u0562","\u0547\u0562\u0569"],dayOfWeek:["\u053f\u056b\u0580\u0561\u056f\u056b","\u0535\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b","\u0535\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b","\u0549\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b","\u0540\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b","\u0548\u0582\u0580\u0562\u0561\u0569","\u0547\u0561\u0562\u0561\u0569"]},kg:{months:["\u04ae\u0447\u0442\u04af\u043d \u0430\u0439\u044b","\u0411\u0438\u0440\u0434\u0438\u043d \u0430\u0439\u044b","\u0416\u0430\u043b\u0433\u0430\u043d \u041a\u0443\u0440\u0430\u043d","\u0427\u044b\u043d \u041a\u0443\u0440\u0430\u043d","\u0411\u0443\u0433\u0443","\u041a\u0443\u043b\u0436\u0430","\u0422\u0435\u043a\u0435","\u0411\u0430\u0448 \u041e\u043e\u043d\u0430","\u0410\u044f\u043a \u041e\u043e\u043d\u0430","\u0422\u043e\u0433\u0443\u0437\u0434\u0443\u043d \u0430\u0439\u044b","\u0416\u0435\u0442\u0438\u043d\u0438\u043d \u0430\u0439\u044b","\u0411\u0435\u0448\u0442\u0438\u043d \u0430\u0439\u044b"],dayOfWeekShort:["\u0416\u0435\u043a","\u0414\u04af\u0439","\u0428\u0435\u0439","\u0428\u0430\u0440","\u0411\u0435\u0439","\u0416\u0443\u043c","\u0418\u0448\u0435"],dayOfWeek:["\u0416\u0435\u043a\u0448\u0435\u043c\u0431","\u0414\u04af\u0439\u0448\u04e9\u043c\u0431","\u0428\u0435\u0439\u0448\u0435\u043c\u0431","\u0428\u0430\u0440\u0448\u0435\u043c\u0431","\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438","\u0416\u0443\u043c\u0430","\u0418\u0448\u0435\u043d\u0431"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8","\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8","\u10db\u10d0\u10e0\u10e2\u10d8","\u10d0\u10de\u10e0\u10d8\u10da\u10d8","\u10db\u10d0\u10d8\u10e1\u10d8","\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8","\u10d8\u10d5\u10da\u10d8\u10e1\u10d8","\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd","\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8","\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8","\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8","\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8"],dayOfWeekShort:["\u10d9\u10d5","\u10dd\u10e0\u10e8","\u10e1\u10d0\u10db\u10e8","\u10dd\u10d7\u10ee","\u10ee\u10e3\u10d7","\u10de\u10d0\u10e0","\u10e8\u10d0\u10d1"],dayOfWeek:["\u10d9\u10d5\u10d8\u10e0\u10d0","\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8","\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8","\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8"]}},value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},V=null,i="en",Y="en",n={meridiem:["AM","PM"]},r=function(){var e=a.i18n[Y],t={days:e.dayOfWeek,daysShort:e.dayOfWeekShort,months:e.months,monthsShort:B.map(e.months,function(e){return e.substring(0,3)})};V=new DateFormatter({dateSettings:B.extend({},n,t)})};B.datetimepicker={setLocale:function(e){var t=a.i18n[e]?e:i;Y!=t&&(Y=t,r())},setDateFormatter:function(e){V=e},RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},r(),window.getComputedStyle||(window.getComputedStyle=function(i){return this.el=i,this.getPropertyValue=function(e){var t=/(\-([a-z]){1})/g;return"float"===e&&(e="styleFloat"),t.test(e)&&(e=e.replace(t,function(e,t,i){return i.toUpperCase()})),i.currentStyle[e]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i,n;for(i=t||0,n=this.length;i<n;i+=1)if(this[i]===e)return i;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},B.fn.xdsoftScroller=function(v){return this.each(function(){var s,o,a,l,d,c=B(this),i=function(e){var t,i={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],i.x=t.clientX,i.y=t.clientY):("mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type||"mouseover"===e.type||"mouseout"===e.type||"mouseenter"===e.type||"mouseleave"===e.type)&&(i.x=e.clientX,i.y=e.clientY),i},u=100,n=!1,r=0,p=0,h=0,f=!1,g=0,m=function(){};return"hide"===v?void c.find(".xdsoft_scrollbar").hide():(B(this).hasClass("xdsoft_scroller_box")||(s=c.children().eq(0),o=c[0].clientHeight,a=s[0].offsetHeight,l=B('<div class="xdsoft_scrollbar"></div>'),d=B('<div class="xdsoft_scroller"></div>'),l.append(d),c.addClass("xdsoft_scroller_box").append(l),m=function(e){var t=i(e).y-r+g;t<0&&(t=0),t+d[0].offsetHeight>h&&(t=h-d[0].offsetHeight),c.trigger("scroll_element.xdsoft_scroller",[u?t/u:0])},d.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(e){o||c.trigger("resize_scroll.xdsoft_scroller",[v]),r=i(e).y,g=parseInt(d.css("margin-top"),10),h=l[0].offsetHeight,"mousedown"===e.type||"touchstart"===e.type?(document&&B(document.body).addClass("xdsoft_noselect"),B([document.body,window]).on("touchend mouseup.xdsoft_scroller",function t(){B([document.body,window]).off("touchend mouseup.xdsoft_scroller",t).off("mousemove.xdsoft_scroller",m).removeClass("xdsoft_noselect")}),B(document.body).on("mousemove.xdsoft_scroller",m)):(f=!0,e.stopPropagation(),e.preventDefault())}).on("touchmove",function(e){f&&(e.preventDefault(),m(e))}).on("touchend touchcancel",function(){f=!1,g=0}),c.on("scroll_element.xdsoft_scroller",function(e,t){o||c.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=1<t?1:t<0||isNaN(t)?0:t,d.css("margin-top",u*t),setTimeout(function(){s.css("marginTop",-parseInt((s[0].offsetHeight-o)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,i){var n,r;o=c[0].clientHeight,a=s[0].offsetHeight,r=(n=o/a)*l[0].offsetHeight,1<n?d.hide():(d.show(),d.css("height",parseInt(10<r?r:10,10)),u=l[0].offsetHeight-d[0].offsetHeight,!0!==i&&c.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(s.css("marginTop"),10))/(a-o)]))}),c.on("mousewheel",function(e){var t=Math.abs(parseInt(s.css("marginTop"),10));return(t-=20*e.deltaY)<0&&(t=0),c.trigger("scroll_element.xdsoft_scroller",[t/(a-o)]),e.stopPropagation(),!1}),c.on("touchstart",function(e){n=i(e),p=Math.abs(parseInt(s.css("marginTop"),10))}),c.on("touchmove",function(e){if(n){e.preventDefault();var t=i(e);c.trigger("scroll_element.xdsoft_scroller",[(p-(t.y-n.y))/(a-o)])}}),c.on("touchend touchcancel",function(){n=!1,p=0})),void c.trigger("resize_scroll.xdsoft_scroller",[v]))})},B.fn.datetimepicker=function(C,t){var i,n,r=this,p=48,h=57,m=96,v=105,b=17,S=46,I=13,T=27,q=8,M=37,A=38,F=39,O=40,P=9,N=116,E=65,R=67,G=86,z=90,H=89,W=!1,L=B.isPlainObject(C)||!C?B.extend(!0,{},a,C):B.extend(!0,{},a),s=0,o=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function t(){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(s),s=setTimeout(function(){e.data("xdsoft_datetimepicker")||i(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")},100))})};return i=function(_){function t(){var e,t=!1;return L.startDate?t=y.strToDate(L.startDate):(t=L.value||(_&&_.val&&_.val()?_.val():""))?t=y.strToDateTime(t):L.defaultDate&&(t=y.strToDateTime(L.defaultDate),L.defaultTime&&(e=y.strtotime(L.defaultTime),t.setHours(e.getHours()),t.setMinutes(e.getMinutes()))),t&&y.isValidDate(t)?$.data("changed",!0):t="",t||0}function i(s){var o=function(e,t){var i=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(i).test(t)},a=function(e){try{if(document.selection&&document.selection.createRange)return document.selection.createRange().getBookmark().charCodeAt(2)-2;if(e.setSelectionRange)return e.selectionStart}catch(_){return 0}},l=function(e,t){if(!(e="string"==typeof e||e instanceof String?document.getElementById(e):e))return!1;if(e.createTextRange){var i=e.createTextRange();return i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)};s.mask&&_.off("keydown.xdsoft"),!0===s.mask&&(s.mask="undefined"!=typeof moment?s.format.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59"):s.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===B.type(s.mask)&&(o(s.mask,_.val())||(_.val(s.mask.replace(/[0-9]/g,"_")),l(_[0],0)),_.on("keydown.xdsoft",function(e){var t,i,n=this.value,r=e.which;if(p<=r&&r<=h||m<=r&&r<=v||r===q||r===S){for(t=a(this),i=r!==q&&r!==S?String.fromCharCode(m<=r&&r<=v?r-p:r):"_",r!==q&&r!==S||!t||(t-=1,i="_");/[^0-9_]/.test(s.mask.substr(t,1))&&t<s.mask.length&&0<t;)t+=r===q||r===S?-1:1;if(n=n.substr(0,t)+i+n.substr(t+1),""===B.trim(n))n=s.mask.replace(/[0-9]/g,"_");else if(t===s.mask.length)return e.preventDefault(),!1;for(t+=r===q||r===S?0:1;/[^0-9_]/.test(s.mask.substr(t,1))&&t<s.mask.length&&0<t;)t+=r===q||r===S?-1:1;o(s.mask,n)?(this.value=n,l(this,t)):""===B.trim(n)?this.value=s.mask.replace(/[0-9]/g,"_"):_.trigger("error_input.xdsoft")}else if(-1!==[E,R,G,z,H].indexOf(r)&&W||-1!==[T,A,O,M,F,N,b,P,I].indexOf(r))return!0;return e.preventDefault(),!1}))}var n,r,s,o,y,f,$=B('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),e=B('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),g=B('<div class="xdsoft_datepicker active"></div>'),w=B('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),x=B('<div class="xdsoft_calendar"></div>'),a=B('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),d=a.find(".xdsoft_time_box").eq(0),j=B('<div class="xdsoft_time_variant"></div>'),l=B('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),D=B('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),k=B('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),u=!1,c=0;L.id&&$.attr("id",L.id),L.style&&$.attr("style",L.style),L.weeks&&$.addClass("xdsoft_showweeks"),L.rtl&&$.addClass("xdsoft_rtl"),$.addClass("xdsoft_"+L.theme),$.addClass(L.className),w.find(".xdsoft_month span").after(D),w.find(".xdsoft_year span").after(k),w.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",function(e){var t,i,n=B(this).find(".xdsoft_select").eq(0),r=0,s=0,o=n.is(":visible");for(w.find(".xdsoft_select").hide(),y.currentTime&&(r=y.currentTime[B(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n[o?"hide":"show"](),t=n.find("div.xdsoft_option"),i=0;i<t.length&&t.eq(i).data("value")!==r;i+=1)s+=t[0].offsetHeight;return n.xdsoftScroller(s/(n.children()[0].offsetHeight-n[0].clientHeight)),e.stopPropagation(),!1}),w.find(".xdsoft_select").xdsoftScroller().on("touchstart mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("touchstart mousedown.xdsoft",".xdsoft_option",function(){(void 0===y.currentTime||null===y.currentTime)&&(y.currentTime=y.now());var e=y.currentTime.getFullYear();y&&y.currentTime&&y.currentTime[B(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](B(this).data("value")),B(this).parent().parent().hide(),$.trigger("xchange.xdsoft"),L.onChangeMonth&&B.isFunction(L.onChangeMonth)&&L.onChangeMonth.call($,y.currentTime,$.data("input")),e!==y.currentTime.getFullYear()&&B.isFunction(L.onChangeYear)&&L.onChangeYear.call($,y.currentTime,$.data("input"))}),$.getValue=function(){return y.getCurrentTime()},$.setOptions=function(e){var c={};L=B.extend(!0,{},L,e),e.allowTimes&&B.isArray(e.allowTimes)&&e.allowTimes.length&&(L.allowTimes=B.extend(!0,[],e.allowTimes)),e.weekends&&B.isArray(e.weekends)&&e.weekends.length&&(L.weekends=B.extend(!0,[],e.weekends)),e.allowDates&&B.isArray(e.allowDates)&&e.allowDates.length&&(L.allowDates=B.extend(!0,[],e.allowDates)),e.allowDateRe&&"[object String]"===Object.prototype.toString.call(e.allowDateRe)&&(L.allowDateRe=new RegExp(e.allowDateRe)),e.highlightedDates&&B.isArray(e.highlightedDates)&&e.highlightedDates.length&&(B.each(e.highlightedDates,function(e,t){var i,n=B.map(t.split(","),B.trim),r=new U(V.parseDate(n[0],L.formatDate),n[1],n[2]),s=V.formatDate(r.date,L.formatDate);void 0!==c[s]?(i=c[s].desc)&&i.length&&r.desc&&r.desc.length&&(c[s].desc=i+"\n"+r.desc):c[s]=r}),L.highlightedDates=B.extend(!0,[],c)),e.highlightedPeriods&&B.isArray(e.highlightedPeriods)&&e.highlightedPeriods.length&&(c=B.extend(!0,[],L.highlightedDates),B.each(e.highlightedPeriods,function(e,t){var i,n,r,s,o,a,l;if(B.isArray(t))i=t[0],n=t[1],r=t[2],l=t[3];else{var d=B.map(t.split(","),B.trim);i=V.parseDate(d[0],L.formatDate),n=V.parseDate(d[1],L.formatDate),r=d[2],l=d[3]}for(;i<=n;)s=new U(i,r,l),o=V.formatDate(i,L.formatDate),i.setDate(i.getDate()+1),void 0!==c[o]?(a=c[o].desc)&&a.length&&s.desc&&s.desc.length&&(c[o].desc=a+"\n"+s.desc):c[o]=s}),L.highlightedDates=B.extend(!0,[],c)),e.disabledDates&&B.isArray(e.disabledDates)&&e.disabledDates.length&&(L.disabledDates=B.extend(!0,[],e.disabledDates)),e.disabledWeekDays&&B.isArray(e.disabledWeekDays)&&e.disabledWeekDays.length&&(L.disabledWeekDays=B.extend(!0,[],e.disabledWeekDays)),!L.open&&!L.opened||L.inline||_.trigger("open.xdsoft"),L.inline&&(u=!0,$.addClass("xdsoft_inline"),_.after($).hide()),L.inverseButton&&(L.next="xdsoft_prev",L.prev="xdsoft_next"),L.datepicker?g.addClass("active"):g.removeClass("active"),L.timepicker?a.addClass("active"):a.removeClass("active"),L.value&&(y.setCurrentTime(L.value),_&&_.val&&_.val(y.str)),L.dayOfWeekStart=isNaN(L.dayOfWeekStart)?0:parseInt(L.dayOfWeekStart,10)%7,L.timepickerScrollbar||d.xdsoftScroller("hide"),L.minDate&&/^[\+\-](.*)$/.test(L.minDate)&&(L.minDate=V.formatDate(y.strToDateTime(L.minDate),L.formatDate)),L.maxDate&&/^[\+\-](.*)$/.test(L.maxDate)&&(L.maxDate=V.formatDate(y.strToDateTime(L.maxDate),L.formatDate)),l.toggle(L.showApplyButton),w.find(".xdsoft_today_button").css("visibility",L.todayButton?"visible":"hidden"),w.find("."+L.prev).css("visibility",L.prevButton?"visible":"hidden"),w.find("."+L.next).css("visibility",L.nextButton?"visible":"hidden"),i(L),L.validateOnBlur&&_.off("blur.xdsoft").on("blur.xdsoft",function(){if(L.allowBlank&&(!B.trim(B(this).val()).length||"string"==typeof L.mask&&B.trim(B(this).val())===L.mask.replace(/[0-9]/g,"_")))B(this).val(null),$.data("xdsoft_datetime").empty();else{var e=V.parseDate(B(this).val(),L.format);if(e)B(this).val(V.formatDate(e,L.format));else{var t=+[B(this).val()[0],B(this).val()[1]].join(""),i=+[B(this).val()[2],B(this).val()[3]].join("");B(this).val(!L.datepicker&&L.timepicker&&0<=t&&t<24&&0<=i&&i<60?[t,i].map(function(e){return 9<e?e:"0"+e}).join(":"):V.formatDate(y.now(),L.format))}$.data("xdsoft_datetime").setCurrentTime(B(this).val())}$.trigger("changedatetime.xdsoft"),$.trigger("close.xdsoft")}),L.dayOfWeekStartPrev=0===L.dayOfWeekStart?6:L.dayOfWeekStart-1,$.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},$.data("options",L).on("touchstart mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),k.hide(),D.hide(),!1}),d.append(j),d.xdsoftScroller(),$.on("afterOpen.xdsoft",function(){d.xdsoftScroller()}),$.append(g).append(a),!0!==L.withoutCopyright&&$.append(e),g.append(w).append(x).append(l),B(L.parentID).append($),y=new function(){var r=this;r.now=function(e){var t,i,n=new Date;return!e&&L.defaultDate&&(t=r.strToDateTime(L.defaultDate),n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate())),L.yearOffset&&n.setFullYear(n.getFullYear()+L.yearOffset),!e&&L.defaultTime&&(i=r.strtotime(L.defaultTime),n.setHours(i.getHours()),n.setMinutes(i.getMinutes())),n},r.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},r.setCurrentTime=function(e,t){r.currentTime="string"==typeof e?r.strToDateTime(e):r.isValidDate(e)?e:e||t||!L.allowBlank?r.now():null,$.trigger("xchange.xdsoft")},r.empty=function(){r.currentTime=null},r.getCurrentTime=function(){return r.currentTime},r.nextMonth=function(){(void 0===r.currentTime||null===r.currentTime)&&(r.currentTime=r.now());var e,t=r.currentTime.getMonth()+1;return 12===t&&(r.currentTime.setFullYear(r.currentTime.getFullYear()+1),t=0),e=r.currentTime.getFullYear(),r.currentTime.setDate(Math.min(new Date(r.currentTime.getFullYear(),t+1,0).getDate(),r.currentTime.getDate())),r.currentTime.setMonth(t),L.onChangeMonth&&B.isFunction(L.onChangeMonth)&&L.onChangeMonth.call($,y.currentTime,$.data("input")),e!==r.currentTime.getFullYear()&&B.isFunction(L.onChangeYear)&&L.onChangeYear.call($,y.currentTime,$.data("input")),$.trigger("xchange.xdsoft"),t},r.prevMonth=function(){(void 0===r.currentTime||null===r.currentTime)&&(r.currentTime=r.now());var e=r.currentTime.getMonth()-1;return-1===e&&(r.currentTime.setFullYear(r.currentTime.getFullYear()-1),e=11),r.currentTime.setDate(Math.min(new Date(r.currentTime.getFullYear(),e+1,0).getDate(),r.currentTime.getDate())),r.currentTime.setMonth(e),L.onChangeMonth&&B.isFunction(L.onChangeMonth)&&L.onChangeMonth.call($,y.currentTime,$.data("input")),$.trigger("xchange.xdsoft"),e},r.getWeekOfYear=function(e){if(L.onGetWeekOfYear&&B.isFunction(L.onGetWeekOfYear)){var t=L.onGetWeekOfYear.call($,e);if(void 0!==t)return t}var i=new Date(e.getFullYear(),0,1);return 4!=i.getDay()&&i.setMonth(0,1+(4-i.getDay()+7)%7),Math.ceil(((e-i)/864e5+i.getDay()+1)/7)},r.strToDateTime=function(e){var t,i,n=[];return e&&e instanceof Date&&r.isValidDate(e)?e:((n=/^(\+|\-)(.*)$/.exec(e))&&(n[2]=V.parseDate(n[2],L.formatDate)),n&&n[2]?(t=n[2].getTime()-6e4*n[2].getTimezoneOffset(),i=new Date(r.now(!0).getTime()+parseInt(n[1]+"1",10)*t)):i=e?V.parseDate(e,L.format):r.now(),r.isValidDate(i)||(i=r.now()),i)},r.strToDate=function(e){if(e&&e instanceof Date&&r.isValidDate(e))return e;var t=e?V.parseDate(e,L.formatDate):r.now(!0);return r.isValidDate(t)||(t=r.now(!0)),t},r.strtotime=function(e){if(e&&e instanceof Date&&r.isValidDate(e))return e;var t=e?V.parseDate(e,L.formatTime):r.now(!0);return r.isValidDate(t)||(t=r.now(!0)),t},r.str=function(){return V.formatDate(r.currentTime,L.format)},r.currentTime=this.now()},l.on("touchend click",function(e){e.preventDefault(),$.data("changed",!0),y.setCurrentTime(t()),_.val(y.str()),$.trigger("close.xdsoft")}),w.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",function(){$.data("changed",!0),y.setCurrentTime(0,!0),$.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,t,i=y.getCurrentTime();i=new Date(i.getFullYear(),i.getMonth(),i.getDate()),e=y.strToDate(L.minDate),i<(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()))||(t=y.strToDate(L.maxDate),(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()))<i||(_.val(y.str()),_.trigger("change"),$.trigger("close.xdsoft")))}),w.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var t=B(this),i=0,n=!1;!function r(e){t.hasClass(L.next)?y.nextMonth():t.hasClass(L.prev)&&y.prevMonth(),L.monthChangeSpinner&&(n||(i=setTimeout(r,e||100)))}(500),B([document.body,window]).on("touchend mouseup.xdsoft",function e(){clearTimeout(i),n=!0,B([document.body,window]).off("touchend mouseup.xdsoft",e)})}),a.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",function(){var r=B(this),s=0,o=!1,a=110;!function l(e){var t=d[0].clientHeight,i=j[0].offsetHeight,n=Math.abs(parseInt(j.css("marginTop"),10));r.hasClass(L.next)&&i-t-L.timeHeightInTimePicker>=n?j.css("marginTop","-"+(n+L.timeHeightInTimePicker)+"px"):r.hasClass(L.prev)&&0<=n-L.timeHeightInTimePicker&&j.css("marginTop","-"+(n-L.timeHeightInTimePicker)+"px"),d.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(j[0].style.marginTop,10)/(i-t))]),a=10<a?10:a-10,o||(s=setTimeout(l,e||a))}(500),B([document.body,window]).on("touchend mouseup.xdsoft",function e(){clearTimeout(s),o=!0,B([document.body,window]).off("touchend mouseup.xdsoft",e)})}),n=0,$.on("xchange.xdsoft",function(e){clearTimeout(n),n=setTimeout(function(){if(void 0===y.currentTime||null===y.currentTime){if(L.allowBlank)return;y.currentTime=y.now()}for(var e,t,i,n,r,s,o,a,l,d,c="",u=new Date(y.currentTime.getFullYear(),y.currentTime.getMonth(),1,12,0,0),p=0,h=y.now(),f=!1,g=!1,m=[],v=!0,b="";u.getDay()!==L.dayOfWeekStart;)u.setDate(u.getDate()-1);for(c+="<table><thead><tr>",L.weeks&&(c+="<th></th>"),e=0;e<7;e+=1)c+="<th>"+L.i18n[Y].dayOfWeekShort[(e+L.dayOfWeekStart)%7]+"</th>";for(c+="</tr></thead>",c+="<tbody>",!1!==L.maxDate&&(f=y.strToDate(L.maxDate),f=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59,999)),!1!==L.minDate&&(g=y.strToDate(L.minDate),g=new Date(g.getFullYear(),g.getMonth(),g.getDate()));p<y.currentTime.countDaysInMonth()||u.getDay()!==L.dayOfWeekStart||y.currentTime.getMonth()===u.getMonth();)m=[],p+=1,i=u.getDay(),n=u.getDate(),r=u.getFullYear(),s=u.getMonth(),o=y.getWeekOfYear(u),d="",m.push("xdsoft_date"),a=L.beforeShowDay&&B.isFunction(L.beforeShowDay.call
)?L.beforeShowDay.call($,u):null,L.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(L.allowDateRe)?L.allowDateRe.test(V.formatDate(u,L.formatDate))||m.push("xdsoft_disabled"):L.allowDates&&0<L.allowDates.length?-1===L.allowDates.indexOf(V.formatDate(u,L.formatDate))&&m.push("xdsoft_disabled"):!1!==f&&f<u||!1!==g&&u<g||a&&!1===a[0]?m.push("xdsoft_disabled"):-1!==L.disabledDates.indexOf(V.formatDate(u,L.formatDate))?m.push("xdsoft_disabled"):-1!==L.disabledWeekDays.indexOf(i)?m.push("xdsoft_disabled"):_.is("[readonly]")&&m.push("xdsoft_disabled"),a&&""!==a[1]&&m.push(a[1]),y.currentTime.getMonth()!==s&&m.push("xdsoft_other_month"),(L.defaultSelect||$.data("changed"))&&V.formatDate(y.currentTime,L.formatDate)===V.formatDate(u,L.formatDate)&&m.push("xdsoft_current"),V.formatDate(h,L.formatDate)===V.formatDate(u,L.formatDate)&&m.push("xdsoft_today"),(0===u.getDay()||6===u.getDay()||-1!==L.weekends.indexOf(V.formatDate(u,L.formatDate)))&&m.push("xdsoft_weekend"),void 0!==L.highlightedDates[V.formatDate(u,L.formatDate)]&&(t=L.highlightedDates[V.formatDate(u,L.formatDate)],m.push(void 0===t.style?"xdsoft_highlighted_default":t.style),d=void 0===t.desc?"":t.desc),L.beforeShowDay&&B.isFunction(L.beforeShowDay)&&m.push(L.beforeShowDay(u)),v&&(c+="<tr>",v=!1,L.weeks&&(c+="<th>"+o+"</th>")),c+='<td data-date="'+n+'" data-month="'+s+'" data-year="'+r+'" class="xdsoft_date xdsoft_day_of_week'+u.getDay()+" "+m.join(" ")+'" title="'+d+'"><div>'+n+"</div></td>",u.getDay()===L.dayOfWeekStartPrev&&(c+="</tr>",v=!0),u.setDate(n+1);if(c+="</tbody></table>",x.html(c),w.find(".xdsoft_label span").eq(0).text(L.i18n[Y].months[y.currentTime.getMonth()]),w.find(".xdsoft_label span").eq(1).text(y.currentTime.getFullYear()),s=b="",l=function(e,t){var i,n,r=y.now(),s=L.allowTimes&&B.isArray(L.allowTimes)&&L.allowTimes.length;r.setHours(e),e=parseInt(r.getHours(),10),r.setMinutes(t),t=parseInt(r.getMinutes(),10),(i=new Date(y.currentTime)).setHours(e),i.setMinutes(t),!(m=[])!==L.minDateTime&&L.minDateTime>i||!1!==L.maxTime&&y.strtotime(L.maxTime).getTime()<r.getTime()||!1!==L.minTime&&y.strtotime(L.minTime).getTime()>r.getTime()?m.push("xdsoft_disabled"):!1!==L.minDateTime&&L.minDateTime>i||!1!==L.disabledMinTime&&r.getTime()>y.strtotime(L.disabledMinTime).getTime()&&!1!==L.disabledMaxTime&&r.getTime()<y.strtotime(L.disabledMaxTime).getTime()?m.push("xdsoft_disabled"):_.is("[readonly]")&&m.push("xdsoft_disabled"),(n=new Date(y.currentTime)).setHours(parseInt(y.currentTime.getHours(),10)),s||n.setMinutes(Math[L.roundTime](y.currentTime.getMinutes()/L.step)*L.step),(L.initTime||L.defaultSelect||$.data("changed"))&&n.getHours()===parseInt(e,10)&&(!s&&59<L.step||n.getMinutes()===parseInt(t,10))&&(L.defaultSelect||$.data("changed")?m.push("xdsoft_current"):L.initTime&&m.push("xdsoft_init_time")),parseInt(h.getHours(),10)===parseInt(e,10)&&parseInt(h.getMinutes(),10)===parseInt(t,10)&&m.push("xdsoft_today"),b+='<div class="xdsoft_time '+m.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+V.formatDate(r,L.formatTime)+"</div>"},L.allowTimes&&B.isArray(L.allowTimes)&&L.allowTimes.length)for(p=0;p<L.allowTimes.length;p+=1)l(y.strtotime(L.allowTimes[p]).getHours(),s=y.strtotime(L.allowTimes[p]).getMinutes());else for(e=p=0;p<(L.hours12?12:24);p+=1)for(e=0;e<60;e+=L.step)l((p<10?"0":"")+p,s=(e<10?"0":"")+e);for(j.html(b),C="",p=0,p=parseInt(L.yearStart,10)+L.yearOffset;p<=parseInt(L.yearEnd,10)+L.yearOffset;p+=1)C+='<div class="xdsoft_option '+(y.currentTime.getFullYear()===p?"xdsoft_current":"")+'" data-value="'+p+'">'+p+"</div>";for(k.children().eq(0).html(C),p=parseInt(L.monthStart,10),C="";p<=parseInt(L.monthEnd,10);p+=1)C+='<div class="xdsoft_option '+(y.currentTime.getMonth()===p?"xdsoft_current":"")+'" data-value="'+p+'">'+L.i18n[Y].months[p]+"</div>";D.children().eq(0).html(C),B($).trigger("generate.xdsoft")},10),e.stopPropagation()}).on("afterOpen.xdsoft",function(){var e,t,i,n;L.timepicker&&(j.find(".xdsoft_current").length?e=".xdsoft_current":j.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=d[0].clientHeight,(i=j[0].offsetHeight)-t<(n=j.find(e).index()*L.timeHeightInTimePicker+1)&&(n=i-t),d.trigger("scroll_element.xdsoft_scroller",[parseInt(n,10)/(i-t)])):d.trigger("scroll_element.xdsoft_scroller",[0]))}),r=0,x.on("touchend click.xdsoft","td",function(e){e.stopPropagation(),r+=1;var t=B(this),i=y.currentTime;return null==i&&(y.currentTime=y.now(),i=y.currentTime),!t.hasClass("xdsoft_disabled")&&(i.setDate(1),i.setFullYear(t.data("year")),i.setMonth(t.data("month")),i.setDate(t.data("date")),$.trigger("select.xdsoft",[i]),_.val(y.str()),L.onSelectDate&&B.isFunction(L.onSelectDate)&&L.onSelectDate.call($,y.currentTime,$.data("input"),e),$.data("changed",!0),$.trigger("xchange.xdsoft"),$.trigger("changedatetime.xdsoft"),(1<r||!0===L.closeOnDateSelect||!1===L.closeOnDateSelect&&!L.timepicker)&&!L.inline&&$.trigger("close.xdsoft"),void setTimeout(function(){r=0},200))}),j.on("touchend click.xdsoft","div",function(e){e.stopPropagation();var t=B(this),i=y.currentTime;return null==i&&(y.currentTime=y.now(),i=y.currentTime),!t.hasClass("xdsoft_disabled")&&(i.setHours(t.data("hour")),i.setMinutes(t.data("minute")),$.trigger("select.xdsoft",[i]),$.data("input").val(y.str()),L.onSelectTime&&B.isFunction(L.onSelectTime)&&L.onSelectTime.call($,y.currentTime,$.data("input"),e),$.data("changed",!0),$.trigger("xchange.xdsoft"),$.trigger("changedatetime.xdsoft"),void(!0!==L.inline&&!0===L.closeOnTimeSelect&&$.trigger("close.xdsoft")))}),g.on("mousewheel.xdsoft",function(e){return!L.scrollMonth||(e.deltaY<0?y.nextMonth():y.prevMonth(),!1)}),_.on("mousewheel.xdsoft",function(e){return!L.scrollInput||(!L.datepicker&&L.timepicker?(0<=(s=j.find(".xdsoft_current").length?j.find(".xdsoft_current").eq(0).index():0)+e.deltaY&&s+e.deltaY<j.children().length&&(s+=e.deltaY),j.children().eq(s).length&&j.children().eq(s).trigger("mousedown"),!1):L.datepicker&&!L.timepicker?(g.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),_.val&&_.val(y.str()),$.trigger("changedatetime.xdsoft"),!1):void 0)}),$.on("changedatetime.xdsoft",function(e){if(L.onChangeDateTime&&B.isFunction(L.onChangeDateTime)){var t=$.data("input");L.onChangeDateTime.call($,y.currentTime,t,e),delete L.value,t.trigger("change")}}).on("generate.xdsoft",function(){L.onGenerate&&B.isFunction(L.onGenerate)&&L.onGenerate.call($,y.currentTime,$.data("input")),u&&($.trigger("afterOpen.xdsoft"),u=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),s=0,f=function(e,t){do{if(!1===t(e=e.parentNode))break}while("HTML"!==e.nodeName)},o=function(){var e,t,i,n,r,s,o,a,l,d,c,u,p;if(e=(a=$.data("input")).offset(),t=a[0],d="top",i=e.top+t.offsetHeight-1,n=e.left,r="absolute",l=B(window).width(),u=B(window).height(),p=B(window).scrollTop(),document.documentElement.clientWidth-e.left<g.parent().outerWidth(!0)){var h=g.parent().outerWidth(!0)-t.offsetWidth;n-=h}"rtl"===a.parent().css("direction")&&(n-=$.outerWidth()-a.outerWidth()),L.fixed?(i-=p,n-=B(window).scrollLeft(),r="fixed"):(o=!1,f(t,function(e){return"fixed"===window.getComputedStyle(e).getPropertyValue("position")?!(o=!0):void 0}),o?(r="fixed",i+$.outerHeight()>u+p?(d="bottom",i=u+p-e.top):i-=p):i+t.offsetHeight>u+p&&(i=e.top-t.offsetHeight+1),i<0&&(i=0),n+t.offsetWidth>l&&(n=l-t.offsetWidth)),s=$[0],f(s,function(e){return"relative"===window.getComputedStyle(e).getPropertyValue("position")&&l>=e.offsetWidth?(n-=(l-e.offsetWidth)/2,!1):void 0}),(c={position:r,left:n,top:"",bottom:""})[d]=i,$.css(c)},$.on("open.xdsoft",function(e){var t=!0;L.onShow&&B.isFunction(L.onShow)&&(t=L.onShow.call($,y.currentTime,$.data("input"),e)),!1!==t&&($.show(),o(),B(window).off("resize.xdsoft",o).on("resize.xdsoft",o),L.closeOnWithoutClick&&B([document.body,window]).on("touchstart mousedown.xdsoft",function i(){$.trigger("close.xdsoft"),B([document.body,window]).off("touchstart mousedown.xdsoft",i)}))}).on("close.xdsoft",function(e){var t=!0;w.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),L.onClose&&B.isFunction(L.onClose)&&(t=L.onClose.call($,y.currentTime,$.data("input"),e)),!1===t||L.opened||L.inline||$.hide(),e.stopPropagation()}).on("toggle.xdsoft",function(){$.trigger($.is(":visible")?"close.xdsoft":"open.xdsoft")}).data("input",_),c=0,$.data("xdsoft_datetime",y),$.setOptions(L),y.setCurrentTime(t()),_.data("xdsoft_datetimepicker",$).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",function(){_.is(":disabled")||_.data("xdsoft_datetimepicker").is(":visible")&&L.closeOnInputClick||(clearTimeout(c),c=setTimeout(function(){_.is(":disabled")||(u=!0,y.setCurrentTime(t(),!0),L.mask&&i(L),$.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(e){var t,i=e.which;return-1!==[I].indexOf(i)&&L.enterLikeTab?(t=B("input:visible,textarea:visible,button:visible,a:visible"),$.trigger("close.xdsoft"),t.eq(t.index(this)+1).focus(),!1):-1!==[P].indexOf(i)?($.trigger("close.xdsoft"),!0):void 0}).on("blur.xdsoft",function(){$.trigger("close.xdsoft")})},n=function(e){var t=e.data("xdsoft_datetimepicker");t&&(t.data("xdsoft_datetime",null),t.remove(),e.data("xdsoft_datetimepicker",null).off(".xdsoft"),B(window).off("resize.xdsoft"),B([window,document.body]).off("mousedown.xdsoft touchstart"),e.unmousewheel&&e.unmousewheel())},B(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===b&&(W=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===b&&(W=!1)}),this.each(function(){var e=B(this).data("xdsoft_datetimepicker");if(e){if("string"===B.type(C))switch(C){case"show":B(this).select().focus(),e.trigger("open.xdsoft");break;case"hide":e.trigger("close.xdsoft");break;case"toggle":e.trigger("toggle.xdsoft");break;case"destroy":n(B(this));break;case"reset":this.value=this.defaultValue,this.value&&e.data("xdsoft_datetime").isValidDate(V.parseDate(this.value,L.format))||e.data("changed",!1),e.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":e.data("input").trigger("blur.xdsoft");break;default:e[C]&&B.isFunction(e[C])&&(r=e[C](t))}else e.setOptions(C);return 0}"string"!==B.type(C)&&(!L.lazyInit||L.open||L.inline?i(B(this)):o(B(this)))}),r},B.fn.datetimepicker.defaults=a}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(p){function t(e){var t=e||window.event,i=v.call(arguments,1),n=0,r=0,s=0,o=0,a=0,l=0;if((e=p.event.fix(t)).type="mousewheel","detail"in t&&(s=-1*t.detail),"wheelDelta"in t&&(s=t.wheelDelta),"wheelDeltaY"in t&&(s=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*s,s=0),n=0===s?r:s,"deltaY"in t&&(n=s=-1*t.deltaY),"deltaX"in t&&(r=t.deltaX,0===s&&(n=-1*r)),0!==s||0!==r){if(1===t.deltaMode){var d=p.data(this,"mousewheel-line-height");n*=d,s*=d,r*=d}else if(2===t.deltaMode){var c=p.data(this,"mousewheel-page-height");n*=c,s*=c,r*=c}if(o=Math.max(Math.abs(s),Math.abs(r)),(!m||o<m)&&(f(t,m=o)&&(m/=40)),f(t,o)&&(n/=40,r/=40,s/=40),n=Math[1<=n?"floor":"ceil"](n/m),r=Math[1<=r?"floor":"ceil"](r/m),s=Math[1<=s?"floor":"ceil"](s/m),b.settings.normalizeOffset&&this.getBoundingClientRect){var u=this.getBoundingClientRect();a=e.clientX-u.left,l=e.clientY-u.top}return e.deltaX=r,e.deltaY=s,e.deltaFactor=m,e.offsetX=a,e.offsetY=l,e.deltaMode=0,i.unshift(e,n,r,s),g&&clearTimeout(g),g=setTimeout(h,200),(p.event.dispatch||p.event.handle).apply(this,i)}}function h(){m=null}function f(e,t){return b.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var g,m,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],v=Array.prototype.slice;if(p.event.fixHooks)for(var n=e.length;n;)p.event.fixHooks[e[--n]]=p.event.mouseHooks;var b=p.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;p.data(this,"mousewheel-line-height",b.getLineHeight(this)),p.data(this,"mousewheel-page-height",b.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null;p.removeData(this,"mousewheel-line-height"),p.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=p(e),i=t["offsetParent"in p.fn?"offsetParent":"parent"]();return i.length||(i=p("body")),parseInt(i.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return p(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};p.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(p,c){function u(e){return"string"==typeof e}function e(e){var t=v.call(arguments,1);return function(){return e.apply(this,t.concat(v.call(arguments)))}}function t(e){return e.replace(/^[^#]*#?(.*)$/,"$1")}function i(e){return e.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function n(e,t,i,n,r){var s,o,a,l,d;return n!==h?(d=(a=i.match(e?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/))[3]||"",2===r&&u(n)?o=n.replace(e?T:I,""):(l=f(a[2]),n=u(n)?f[e?j:x](n):n,o=2===r?n:1===r?p.extend({},n,l):p.extend({},l,n),o=_(o),e&&(o=o.replace(m,b))),s=a[1]+(e?"#":o||!a[1]?"?":"")+o+d):s=t(i!==h?i:c[k][C]),s}function r(e,t,i){return t===h||"boolean"==typeof t?(i=t,t=_[e?j:x]()):t=u(t)?t.replace(e?T:I,""):t,f(t,i)}function s(n,r,s,o){return u(s)||"object"==typeof s||(o=s,s=r,r=h),this.each(function(){var e=p(this),t=r||g()[(this.nodeName||"").toLowerCase()]||"",i=t&&e.attr(t)||"";e.attr(t,_[n](i,s,o))})}var h,o,f,a,l,d,g,m,v=Array.prototype.slice,b=decodeURIComponent,_=p.param,y=p.bbq=p.bbq||{},$=p.event.special,w="hashchange",x="querystring",j="fragment",D="elemUrlAttr",k="location",C="href",S="src",I=/^.*\?|#.*$/g,T=/^.*\#/,q={};_[x]=e(n,0,i),_[j]=o=e(n,1,t),o.noEscape=function(e){e=e||"";var t=p.map(e.split(""),encodeURIComponent);m=new RegExp(t.join("|"),"g")},o.noEscape(",/"),p.deparam=f=function(e,d){var c={},u={"true":!0,"false":!1,"null":null};return p.each(e.replace(/\+/g," ").split("&"),function(e,t){var i,n=t.split("="),r=b(n[0]),s=c,o=0,a=r.split("]["),l=a.length-1;if(/\[/.test(a[0])&&/\]$/.test(a[l])?(a[l]=a[l].replace(/\]$/,""),l=(a=a.shift().split("[").concat(a)).length-1):l=0,2===n.length)if(i=b(n[1]),d&&(i=i&&!isNaN(i)?+i:"undefined"===i?h:u[i]!==h?u[i]:i),l)for(;o<=l;o++)s=s[r=""===a[o]?s.length:a[o]]=o<l?s[r]||(a[o+1]&&isNaN(a[o+1])?{}:[]):i;else p.isArray(c[r])?c[r].push(i):c[r]!==h?c[r]=[c[r],i]:c[r]=i;else r&&(c[r]=d?h:"")}),c},f[x]=e(r,0),f[j]=a=e(r,1),p[D]||(p[D]=function(e){return p.extend(q,e)})({a:C,base:C,iframe:S,img:S,input:S,form:"action",link:C,script:S}),g=p[D],p.fn[x]=e(s,x),p.fn[j]=e(s,j),y.pushState=l=function(e,t){u(e)&&/^#/.test(e)&&t===h&&(t=2);var i=e!==h,n=o(c[k][C],i?e:{},i?t:2);c[k][C]=n+(/#/.test(n)?"":"#")},y.getState=d=function(e,t){return e===h||"boolean"==typeof e?a(e):a(t)[e]},y.removeState=function(e){var i={};e!==h&&(i=d(),p.each(p.isArray(e)?e:arguments,function(e,t){delete i[t]})),l(i,2)},$[w]=p.extend($[w],{add:function(e){function t(e){var i=e[j]=o();e.getState=function(e,t){return e===h||"boolean"==typeof e?f(i,e):f(i,t)[e]},n.apply(this,arguments)}var n;if(p.isFunction(e))return n=e,t;n=e.handler,e.handler=t}})}(jQuery,this),function(a,l,e){function d(e){return(e=e||l[c][p]).replace(/^[^#]*#?(.*)$/,"$1")}var t,i=a.event.special,c="location",u="hashchange",p="href",n=a.browser,r=document.documentMode,h=n.msie&&(r===e||r<8),s="on"+u in l&&!h;a[u+"Delay"]=100,i[u]=a.extend(i[u],{setup:function(){if(s)return!1;a(t.start)},teardown:function(){if(s)return!1;a(t.stop)}}),t=function(){function e(){s=o=function(e){return e},h&&(n=a('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,o=function(){return d(n.document[c][p])},(s=function(e,t){if(e!==t){var i=n.document;i.open().close(),i[c].hash="#"+e}})(d()))}var r,n,s,o,t={};return t.start=function(){if(!r){var i=d();s||e(),function n(){var e=d(),t=o(i);e!==i?(s(i=e,t),a(l).trigger(u)):t!==i&&(l[c][p]=l[c][p].replace(/#.*/,"")+"#"+t),r=setTimeout(n,a[u+"Delay"])}()}},t.stop=function(){n||(r&&clearTimeout(r),r=0)},t}()}(jQuery,this);var BrowserDetect={init:function(){var e="-- an unknown version";(this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||e,navigator.userAgent.match(/Trident/i))&&(this.browser="Explorer",null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)?this.version=parseFloat(RegExp.$1):this.version=e);this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var i=e[t].string,n=e[t].prop;if(this.versionSearchString=e[t].versionSearch||e[t].identity,i){if(-1!=i.indexOf(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"Edge",versionSearch:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"IE",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Mac",identity:"Mac OS"},{string:navigator.userAgent,subString:"CrOS",identity:"Chrome OS"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};!function(window,document,undefined){function is(e,t){return typeof e===t}function testRunner(){var e,t,i,n,r,s;for(var o in tests)if(tests.hasOwnProperty(o)){if(e=[],(t=tests[o]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=is(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)1===(s=e[r].split(".")).length?Modernizr[s[0]]=n:(!Modernizr[s[0]]||Modernizr[s[0]]instanceof Boolean||(Modernizr[s[0]]=new Boolean(Modernizr[s[0]])),Modernizr[s[0]][s[1]]=n),classes.push((n?"":"no-")+s.join("-"))}}function setClasses(e){var t=docElement.className,i=Modernizr._config.classPrefix||"";if(isSVG&&(t=t.baseVal),Modernizr._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}Modernizr._config.enableClasses&&(t+=" "+i+e.join(" "+i),isSVG?docElement.className.baseVal=t:docElement.className=t)}function createElement(e){return"function"!=typeof document.createElement?document.createElement(e):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",e):document.createElement.apply(document,arguments)}function getBody(){var e=document.body;return e||((e=createElement(isSVG?"svg":"body")).fake=!0),e}function injectElementWithStyles(e,t,i,n){var r,s,o,a,l="modernizr",d=createElement("div"),c=getBody();if(parseInt(i,10))for(;i--;)(o=createElement("div")).id=n?n[i]:l+(i+1),d.appendChild(o);return(r=createElement("style")).type="text/css",r.id="s"+l,(c.fake?c:d).appendChild(r),c.appendChild(d),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),d.id=l,c.fake&&(c.style.background="",c.style.overflow="hidden",a=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(c)),s=t(d,e),c.fake?(c.parentNode.removeChild(c),docElement.style.overflow=a,docElement.offsetHeight):d.parentNode.removeChild(d),!!s}var classes=[],tests=[],ModernizrProto={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){tests.push({name:e,fn:t,options:i})},addAsyncTest:function(e){tests.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr,Modernizr.addTest("applicationcache","applicationCache"in window),Modernizr.addTest("cookies",function(){try{document.cookie="cookietest=1";var e=-1!=document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(t){return!1}}),Modernizr.addTest("geolocation","geolocation"in navigator),Modernizr.addTest("microdata","getItems"in document),Modernizr.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}),Modernizr.addTest("sessionstorage",function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}),Modernizr.addTest("webworkers","Worker"in window);var docElement=document.documentElement,isSVG="svg"===docElement.nodeName.toLowerCase();Modernizr.addTest("audio",function(){var e=createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType('audio/mpeg; codecs="mp3"').replace(/^no$/,""),t.opus=e.canPlayType('audio/ogg; codecs="opus"')||e.canPlayType('audio/webm; codecs="opus"').replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return t}),Modernizr.addTest("canvas",function(){var e=createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}),Modernizr.addTest("video",function(){var e=createElement("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(i){}return t});var prefixes=ModernizrProto._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];ModernizrProto._prefixes=prefixes,Modernizr.addTest("es5array",function(){return!!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)}),Modernizr.addTest("es5date",function(){var e="2013-04-12T06:06:37.307Z",t=!1;try{t=!!Date.parse(e)}catch(i){}return!!(Date.now&&Date.prototype&&Date.prototype.toISOString&&Date.prototype.toJSON&&t)}),Modernizr.addTest("es5function",function(){return!(!Function.prototype||!Function.prototype.bind)}),Modernizr.addTest("es5object",function(){return!!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)}),Modernizr.addTest("strictmode",function(){"use strict";return!this}()),Modernizr.addTest("es5string",function(){return!(!String.prototype||!String.prototype.trim)}),Modernizr.addTest("json","JSON"in window&&"parse"in JSON&&"stringify"in JSON),Modernizr.addTest("es5syntax",function(){var value,obj,stringAccess,getter,setter,reservedWords,zeroWidthChars;try{return stringAccess=eval('"foobar"[3] === "b"'),getter=eval("({ get x(){ return 1 } }).x === 1"),eval("({ set x(v){ value = v; } }).x = 1"),setter=1===value,eval("obj = ({ if: 1 })"),reservedWords=1===obj["if"],zeroWidthChars=eval("_\u200c\u200d = true"),stringAccess&&getter&&setter&&reservedWords&&zeroWidthChars}catch(ignore){return!1}}),Modernizr.addTest("es5undefined",function(){var e,t;try{t=window.undefined,window.undefined=12345,e="undefined"==typeof window.undefined,window.undefined=t}catch(i){return!1}return e}),Modernizr.addTest("es5",function(){return!!(Modernizr.es5array&&Modernizr.es5date&&Modernizr.es5function&&Modernizr.es5object&&Modernizr.strictmode&&Modernizr.es5string&&Modernizr.json&&Modernizr.es5syntax&&Modernizr.es5undefined)});var testStyles=ModernizrProto.testStyles=injectElementWithStyles;Modernizr.addTest("touchevents",function(){var t;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)t=!0;else{var e=["@media (",prefixes.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");testStyles(e,function(e){t=9===e.offsetTop})}return t}),Modernizr.addTest("webaudio",function(){var e="webkitAudioContext"in window,t="AudioContext"in window;return Modernizr._config.usePrefixes&&e||t}),testRunner(),setClasses(classes),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();window.Modernizr=Modernizr}(window,document),function(r,u){"use strict";var e="0.7.20",s="",o="?",p="function",t="undefined",h="object",i="string",n="major",a="model",l="name",d="type",c="vendor",f="version",g="architecture",m="console",v="mobile",b="tablet",_="smarttv",y="wearable",$="embedded",w={extend:function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===i?e.replace(/[^\d\.]/g,"").split(".")[0]:u},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},x={rgx:function(e,t){for(var i,n,r,s,o,a,l=0;l<t.length&&!o;){var d=t[l],c=t[l+1];for(i=n=0;i<d.length&&!o;)if(o=d[i++].exec(e))for(r=0;r<c.length;r++)a=o[++n],typeof(s=c[r])===h&&0<s.length?2===s.length?typeof s[1]===p?this[s[0]]=s[1].call(this,a):this[s[0]]=s[1]:3===s.length?typeof s[1]!==p||s[1].exec&&s[1].test?this[s[0]]=a?a.replace(s[1],s[2]):u:this[s[0]]=a?s[1].call(this,a,s[2]):u:4===s.length&&(this[s[0]]=a?s[3].call(this,a.replace(s[1],s[2])):u):this[s]=a||u;l+=2}},str:function(e,t){for(var i in t)if(typeof t[i]===h&&0<t[i].length){for(var n=0;n<t[i].length;n++)if(w.has(t[i][n],e))return i===o?u:i}else if(w.has(t[i],e))return i===o?u:i;return e}},j={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},D={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,f],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],f],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],f],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[l,f],[/(konqueror)\/([\w\.]+)/i],[[l,"Konqueror"],f],[/(NintendoBrowser)\/([\w\.]+)/i],[[l,"NintendoBrowser"],f],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[l,"IE"],f],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[l,"Edge"],f],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],f],[/(puffin)\/([\w\.]+)/i],[[l,"Puffin"],f],[/(focus)\/([\w\.]+)/i],[[l,"Firefox Focus"],f],[/(opt)\/([\w\.]+)/i],[[l,"Opera Touch"],f],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],f],[/(windowswechat qbcore)\/([\w\.]+)/i],[[l,"WeChat(Win) Desktop"],f],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],f],[/(brave)\/([\w\.]+)/i],[[l,"Brave"],f],[/(qqbrowserlite)\/([\w\.]+)/i],[l,f],[/(QQ)\/([\d\.]+)/i],[l,f],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[l,f],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[l,f],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[l,f],[/(MetaSr)[\/\s]?([\w\.]+)/i],[l],[/(LBBROWSER)/i],[l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[f,[l,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[f,[l,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[l,f],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[f,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1"],f],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[l,/(.+(?:g|us))(.+)/,"$1 $2"],f],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[f,[l,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[l,"Sailfish Browser"],f],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,f],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],f],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],f],[/(coast)\/([\w\.]+)/i],[[l,"Opera Coast"],f],[/fxios\/([\w\.-]+)/i],[f,[l,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[f,[l,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[f,l],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[l,"GSA"],f],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[f,x.str,j.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[l,f],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],f],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)/i],[[l,"Firefox"],f],[/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,f],[]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[g,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,c,[d,b]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[c,"Apple"],[d,b]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,a,[d,b]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[a,[c,"Amazon"],[d,b]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[a,x.str,j.device.amazon.model],[c,"Amazon"],[d,v]],[/android.+aft([bms])\sbuild/i],[a,[c,"Amazon"],[d,_]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,c,[d,v]],[/\((ip[honed|\s\w*]+);/i],[a,[c,"Apple"],[d,v]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,a,[d,v]],[/\(bb10;\s(\w+)/i],[a,[c,"BlackBerry"],[d,v]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[c,"Asus"],[d,b]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[a,"Xperia Tablet"],[d,b]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[c,"Sony"],[d,v]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[c,a,[d,m]],[/android.+;\s(shield)\sbuild/i],[a,[c,"Nvidia"],[d,m]],[/(playstation\s[34portablevi]+)/i],[a,[c,"Sony"],[d,m]],[/(sprint\s(\w+))/i],[[c,x.str,j.device.sprint.vendor],[a,x.str,j.device.sprint.model],[d,v]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,
/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[c,[a,/_/g," "],[d,v]],[/(nexus\s9)/i],[a,[c,"HTC"],[d,b]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[a,[c,"Huawei"],[d,v]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,a,[d,v]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[c,"Microsoft"],[d,m]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[c,"Microsoft"],[d,v]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[c,"Motorola"],[d,v]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[c,"Motorola"],[d,b]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,w.trim],[a,w.trim],[d,_]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[c,"Samsung"],[d,_]],[/\(dtv[\);].+(aquos)/i],[a,[c,"Sharp"],[d,_]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],a,[d,b]],[/smart-tv.+(samsung)/i],[c,[d,_],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[c,"Samsung"],a,[d,v]],[/sie-(\w*)/i],[a,[c,"Siemens"],[d,v]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[c,"Nokia"],a,[d,v]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[c,"Acer"],[d,b]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[c,"LG"],[d,b]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],a,[d,b]],[/(lg) netcast\.tv/i],[c,a,[d,_]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[c,"LG"],[d,v]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[c,a,[d,b]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[c,"Lenovo"],[d,b]],[/(lenovo)[_\s-]?([\w-]+)/i],[c,a,[d,v]],[/linux;.+((jolla));/i],[c,a,[d,v]],[/((pebble))app\/[\d\.]+\s/i],[c,a,[d,y]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,a,[d,v]],[/crkey/i],[[a,"Chromecast"],[c,"Google"]],[/android.+;\s(glass)\s\d/i],[a,[c,"Google"],[d,y]],[/android.+;\s(pixel c)[\s)]/i],[a,[c,"Google"],[d,b]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[a,[c,"Google"],[d,v]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[c,"Xiaomi"],[d,v]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[a,/_/g," "],[c,"Xiaomi"],[d,b]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[c,"Meizu"],[d,v]],[/(mz)-([\w-]{2,})/i],[[c,"Meizu"],a,[d,v]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[a,[c,"OnePlus"],[d,v]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[c,"RCA"],[d,b]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[a,[c,"Dell"],[d,b]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[c,"Verizon"],[d,b]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],a,[d,b]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[c,"NuVision"],[d,b]],[/android.+;\s(k88)\sbuild/i],[a,[c,"ZTE"],[d,b]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[c,"Swiss"],[d,v]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[c,"Swiss"],[d,b]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[c,"Zeki"],[d,b]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[c,"Dragon Touch"],a,[d,b]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[c,"Insignia"],[d,b]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[c,"NextBook"],[d,b]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],a,[d,v]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[c,"LvTel"],a,[d,v]],[/android.+;\s(PH-1)\s/i],[a,[c,"Essential"],[d,v]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[c,"Envizen"],[d,b]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[c,a,[d,b]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[c,"MachSpeed"],[d,b]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,a,[d,b]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[c,"Rotor"],[d,b]],[/android.+(KS(.+))\s+build/i],[a,[c,"Amazon"],[d,b]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[c,a,[d,b]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[d,w.lowerize],c,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[d,_]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[f,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,f],[/rv\:([\w\.]{1,9}).+(gecko)/i],[f,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,f],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[f,x.str,j.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[f,x.str,j.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],f],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[l,f],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[l,"Symbian"],f],[/\((series40);/i],[l],[/(kaios)\/([\w\.]+)/i],[[l,"KaiOS"],f],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],f],[/(nintendo|playstation)\s([wids34portablevutch]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[l,f],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chrome OS"],f],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],f],[/([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[l,f],[/(haiku)\s(\w+)/i],[l,f],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[f,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[f,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[l,f]]},k=function(e,t){if("object"==typeof e&&(t=e,e=u),!(this instanceof k))return new k(e,t).getResult();var i=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:s),n=t?w.extend(D,t):D;return this.getBrowser=function(){var e={name:u,version:u};return x.rgx.call(e,i,n.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:u};return x.rgx.call(e,i,n.cpu),e},this.getDevice=function(){var e={vendor:u,model:u,type:u};return x.rgx.call(e,i,n.device),e},this.getEngine=function(){var e={name:u,version:u};return x.rgx.call(e,i,n.engine),e},this.getOS=function(){var e={name:u,version:u};return x.rgx.call(e,i,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this};k.VERSION=e,k.BROWSER={NAME:l,MAJOR:n,VERSION:f},k.CPU={ARCHITECTURE:g},k.DEVICE={MODEL:a,VENDOR:c,TYPE:d,CONSOLE:m,MOBILE:v,SMARTTV:_,TABLET:b,WEARABLE:y,EMBEDDED:$},k.ENGINE={NAME:l,VERSION:f},k.OS={NAME:l,VERSION:f},typeof exports!==t?(typeof module!==t&&module.exports&&(exports=module.exports=k),exports.UAParser=k):"function"==typeof define&&define.amd?define(function(){return k}):r&&(r.UAParser=k);var C=r&&r.jQuery;if(typeof C!==t&&!C.ua){var S=new k;C.ua=S.getResult(),C.ua.get=function(){return S.getUA()},C.ua.set=function(e){S.setUA(e);var t=S.getResult();for(var i in t)C.ua[i]=t[i]}}}("object"==typeof window?window:this),window.App||(window.App={name:"DBL",state:"INITIALIZED",clientHeight:700,clientHeightWithDP:918}),App.init=function(){console.log(this.name+"::App::init called")},$(document).ready(function(){try{App.init()}catch(e){console.log(App.name+"::App::init barfed "+e)}}),App.Admins||(App.Admins={module:"App::Admins",state:"INITIALIZED"}),App.Admins.init=function(){function e(){$("#schools_license_request_price_negotiated").is(":checked")?$("#schools_license_request_negotiated_popup").show():$("#schools_license_request_negotiated_popup").hide()}function n(e,t){for(var i in t)"object"==typeof t[i]?n(e+"_"+i,t[i]):$(e+"_"+i).val(t[i])}console.log(this.module+"::init called"),$.fn.jsonEditor=function(){var e=this;$("#data",e).append($$("input",{type:"button",value:"Add field",id:"add_json_field"})),$("#data p .json_value",e).each(function(){$(this).after($$("input",{type:"button",value:"Remove","class":"remove_json_field"})),$(".remove_json_field").click(function(){$(this).parent().remove()})}),$("#add_json_field").click(function(){$("#data #add_json_field",e).before($$("p",$$("input",{type:"text",name:"json_new_key[]","class":"json_label"}),$$("input",{type:"text",name:"json_new_value[]","class":"json_value"}),$$("input",{type:"button",value:"Remove","class":"remove_json_field"}))),$(".remove_json_field").click(function(){$(this).parent().remove()})})},$.fn.loading=function(e){this.html('<img src="/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif" width="'+e+'"/>')},$.fn.sub_nav_bar=function(e){if(0<this.length){var t="data-"+e,i=this.attr(t);return this.children("a["+t+'="'+i+'"]').css({color:"#000",cursor:"default","font-weight":"bold","text-decoration":"none"}).click(function(e){return e.preventDefault(),!1}),this}},$("input").change(function(){$(this).val($(this).val().trim())}),$(".higlight-table-rows td").bind("mouseover",function(){$(this).parent("tr").find("td").css("background-color","pink")}),$(".higlight-table-rows td").bind("mouseout",function(){$(this).parent("tr").find("td").css("background-color","inherit")}),$.datepicker.setDefaults($.datepicker.regional[""]),$("#schools_license_request_price_negotiated").click(function(){e()}),$("#schools_license_request_price_negotiated").after($$("span","Negotiated price per student: ",$$("input",{type:"text",id:"schools_license_request_negotiated_pps",style:"width: 50px;",value:$("#schools_license_request_pps").text().replace(/\$/,"")}),$$("input",{type:"button",value:"Recalculate Price",id:"schools_license_request_recalculate_price"}),{id:"schools_license_request_negotiated_popup"})),e(),$("#schools_license_request_recalculate_price").click(function(){$("#schools_license_request_amount").val($("#schools_license_request_negotiated_pps").val().replace(/\$/g,"")*$("#schools_license_request_student_licenses").val()),$("#schools_license_request_pps").text($("#schools_license_request_negotiated_pps").val())}),0==$("#look_purchaser_email").length&&($("#license_request_edit_form input#schools_license_request_purchaser_attrs_email_address").after($$("input",{type:"button",value:"Look up",id:"look_purchaser_email",style:"display: inline; margin-left: 0.25em;"})),$("#look_purchaser_email").after($$("span",{id:"look_purchaser_feedback",style:"display: inline; margin-left: 0.25em;"}))),$("#look_purchaser_email").click(function(){$(this).disabled,$(this).val("Looking up..."),$.ajax({type:"GET",url:"/admin/schools/license_requests/lookup_purchaser",dataType:"json",data:{email:$("#schools_license_request_purchaser_attrs_email_address").val()},success:function(e){if(isEmpty(e))return $("#look_purchaser_feedback").html("Not found"),void $("#purchaser input[id!=schools_license_request_purchaser_attrs_email_address]").val("");$("#look_purchaser_feedback").html("Found. Please review the <i><b>Country</b></i> and the <i><b>Region</b></i>, because they could be wrong."),n("#schools_license_request",e)},complete:function(){$("#look_purchaser_email").prop("disabled",!1),$("#look_purchaser_email").val("Look up")}})}),$("#modify_json_blob").jsonEditor(),$("#user_session_start_time_in_pst").datetimepicker({timeFormat:"hh:mm:ss",dateFormat:"yy-mm-dd"}),$("#user_session_end_time_in_pst").datetimepicker({timeFormat:"hh:mm:ss",dateFormat:"yy-mm-dd"}),$("table input#select_all[type=checkbox]").click(function(){var e=$(this).parents("table").find("input[type=checkbox]").length-1,t=$(this).parents("table").find("input[type=checkbox]:checkbox").length;$(this).is(":checked")&&t--,$(this).parents("table").find("input[type=checkbox]").prop("checked",t==e)}),$("#provisioning-status-time-selector").sub_nav_bar("time-slice"),$(document).on("submit","#clever-districts-list .button_to",function(e){e.preventDefault();var t=$(this).find(":submit"),n=$(".js_notice"),i=$(this).closest("tr"),r=i.children("td:first").text(),s=($(this),$('<img src="/assets/forms/ajax-loader-small-e611bd10da5752d2c77c75664d6ec0cc16491d9d1d85012a753624374ccfeeae.gif"/>'));return t.after(s),t.prop("disabled",!0),$.ajax({complete:function(){s.remove(),t.prop("disabled",!1)},data:$(this).serialize(),error:function(e,t,i){n.text("There was an error while trying to update district "+r+" ("+i+")").show()},success:function(e){n.text("Updated district "+r).show(),new_row=$(e).replaceAll(i),new_row.attr("class",i.attr("class"))},type:"PUT",dataType:"html",url:$(this).attr("action")}),!1}),$("#clever_district_filter #filters_show_deleted").click(function(){$(this).is(":checked")&&$("#clever_district_filter #filters_show_disabled").prop("checked",!0)}),$("#clever_district_filter #filters_show_disabled").click(function(){$(this).is(":checked")||$("#clever_district_filter #filters_show_deleted").prop("checked",!1)}),$("#selectUnplaced").click(function(){var n=[];$.each($(".placed"),function(e,t){if("false"==$(t).text()){var i=$(t).parents("tr").find("input[type=checkbox]");$("#selectUnplaced").attr("checked")?(i.attr("checked","checked"),-1==$.inArray(i.attr("class"),n)&&n.push(i.attr("class"))):(i.removeAttr("checked"),n=[])}}),$.each(n,function(e,t){checkboxes=$("."+t),checkedCount=0,$.each(checkboxes,function(){$(this).attr("checked")&&(checkedCount+=1)}),checkboxes.size()==checkedCount&&checkboxes.last().removeAttr("checked")})}),$("input:checkbox#tax").click(function(){$(this).is(":checked")?$("#max_credit_amount").html($("#pretax_balance").val()):$("#max_credit_amount").html($("#balance").val())}),$("#delete_score").click(function(){$(this).is(":checked")?($(".disable_for_delete").prop("disabled",!0),$(".disable_for_delete").addClass("disabled")):($(".disable_for_delete").prop("disabled",!1),$(".disable_for_delete").removeClass("disabled"))})},$(document).ready(function(){if(0!=$("#admins_layout").length)try{App.Admins.init()}catch(e){console.log(App.Admins.module+"::init barfed "+e)}}),App.Dashboards||(App.Dashboards={module:"App::Dashboards"}),App.Dashboards.init=function(){console.log(this.module+"::init called"),setupTooltips(),setupHelps(),$("#page").click(function(){$(".tooltip").find("span").removeClass("hover")}),$("#next_steps input[type=image]").each(function(){$(this).attr("src","/assets/dashboard/btn_next_disabled-a39af158af88f8cf2ca888b2870fa36c4ad210f137904702c928438eee0152ee.gif"),$(this).attr("disabled",!0)}),click_handler=function(){0<$("#terms_of_service input[type=checkbox]:checked").length&&0<$("#next_steps input[type=radio]:checked").length?($("#next_steps input[type=image]").attr("disabled",!1),$("#next_steps input[type=image]").attr("src","/assets/dashboard/btn_next_off-a3bbbd20795c11a5bdc0354ce017dfd49d2ebb2fe630d76d4fa262abe6a20f47.gif")):($("#next_steps input[type=image]").attr("disabled",!0),$("#next_steps input[type=image]").attr("src","/assets/dashboard/btn_next_disabled-a39af158af88f8cf2ca888b2870fa36c4ad210f137904702c928438eee0152ee.gif"))},$("#next_steps input[type=radio]").click(click_handler),$("#terms_of_service input[type=checkbox]").click(click_handler),click_handler(),$("#report_selector").change(function(){window.location.href=$(this).val()});var e=$(".choose_school_form #school"),t=$(".choose_asp_form #classroom");e.change(function(){$("#noDD").remove(),enableAjaxDropdownSpinner(t),t.hide(),t.empty(),$.ajax({url:"/reports/classrooms_for_school",data:{id:$(".choose_school_form #school option:selected").val()},type:"post",dataType:"json",success:update_classrooms})}),t.change(function(){t.find("option[value='-']").remove(),enableAjaxDropdownSpinner(t)}),$.each([["subtractionalgorithm","DfCJgC2zezw"],["estimatemultiplywithstandardalgorithm","v37qcLuIONg"],["fractionsmoneytime","2VZbWJIndlQ"],["multiplicationpartialproducts","AilDza95hYc"]],function(){var e=this,t=function(){open("http://www.youtube.com/embed/"+e[1]+"?autoplay=1","ee","width=420,height=315,menubar=no,toolbar=no,personalbar=no,centerscreen=yes")};$('#divStudentProgress img[src*="'+e[0]+'.png"]').dblclick(function(e){e.ctrlKey&&e.altKey&&t()}).click(function(){window.DeviceOrientationEvent&&"ontouchmove"in window&&t()})});var i=$(".is-current-customer :checkbox"),n=function(a,l){var d=void 0!==l;return function(){var e,t,i,n,r,s,o;(o=d?l:$(this)).attr("disabled")||(d&&0<$('form.current-customer :hidden[name="show_this_form"]').length&&o.attr("checked","checked"),o.is(":checked")?(i="new",s="current"):(i="current",s="new"),e=$("form."+i+"-customer"),n=$("form."+s+"-customer"),e.find(":input").attr("disabled","disabled"),n.find(":input").removeAttr("disabled"),t=$(".intro p."+i+"-customer"),r=$(".intro p."+s+"-customer"),a(o,n,e,r,t))}};i.change(n(function(e,t,i,n,r){e.attr("disabled","disabled"),i.slideUp(1e3,function(){window.setTimeout(function(){t.slideDown(750,function(){e.removeAttr("disabled")})},250)}),void 0!==n&&r.fadeOut(1e3,function(){window.setTimeout(function(){n.fadeIn(750)},250)})})),n(function(e,t,i){i.hide(),t.show()},i)();var o=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;$("#setup-parent-access form").submit(function(e){var i,n,r,s;return r=$(this),s={},n=0,i=function(e,t){s[e]=t,n+=1},r.find(":input").each(function(){var e,t;if(t=(e=$(this)).attr("name"),e.is("[required]")&&""===e.val())return i(t,"This field is required."),void(n+=1);!e.is("[pattern]")||new RegExp(e.attr("pattern")).test($.trim(e.val()))?"email"!=e[0].getAttribute("type")||o.test(e.val())?"email_confirmation"==t&&e.val().toLowerCase()!==r.find(':input[name="email_address"]').val().toLowerCase()?i(t,"Email addresses do not match, please try again."):"password_confirmation"==t&&e.val()!==r.find(':input[name="password"]').val()&&i(t,"Passwords do not match, please try again."):i(t,"Invalid email address."):i(t,"The password must be at least 6 characters.")}),0==n||(r.find(".error-msg").text(""),$.each(s,function(e,t){var i,n;0==(i=(n=r.find('input[name="'+e+'"]')).next(".error-msg")).length&&(i=$('<span class="error-msg"/>'),n.after(i)),i.text(t)}),e.preventDefault(),!1)}),$("#welcomeBanner .iconCollapse").on("click",function(){expandCollapseMessage(this)}),$("#welcomeBanner .iconExpand").on("click",function(){expandCollapseMessage(this)}),$("#secondaryMessage .iconCollapse").on("click",function(){expandCollapseMessage(this)}),$("#secondaryMessage .iconExpand").on("click",function(){expandCollapseMessage(this)}),$("#add_student_link").on("click",function(e){$("#add_student_form").toggle(250),e.preventDefault()})},$(document).ready(function(){if(0!=$("#dashboards_layout, #teachers_layout").length)try{App.Dashboards.init()}catch(e){console.log(App.Dashboards.module+"::init barfed "+e)}}),App.Global||(App.Global={module:"App::Global",state:"INITIALIZED",clientHeight:700,clientHeightWithDP:918}),App.Global.init=function(){console.log("App::Global::init called")};var clientHeight=700,clientHeightWithDP=918,DistrictSelector;!function(u){DistrictSelector={initialize:function(e,t,i,n,r){var s=u(e),o=s.val(),a=u(t),l=a.attr("data-value"),d=u(i),c=d.attr("data-value");o&&DistrictSelector.populate_region_dropdown(o,a,r,l),s.change(function(){DistrictSelector.populate_region_dropdown(u(this).val(),a,r)}),void 0!==l?DistrictSelector.populate_district_dropdown(n,l,d,c):""!==a.val()&&DistrictSelector.populate_district_dropdown(n,a.val(),d),a.change(function(){DistrictSelector.populate_district_dropdown(n,u(this).val(),d)})},populate_district_dropdown:function(e,t,r,s){u.getJSON(e,{region_id:t},function(e){var t=u(r),i=s||t.val(),n=t.closest("form").find("input[type=submit]");t.html(""),0<e.length?(t.removeAttr("disabled"),n.removeAttr("disabled"),u.each(e,function(){var e=u("<option/>",{value:this.id}).text(this.name);this.id==i&&e.attr("selected","selected"),t.append(e)})):(t.append(u('<option value=""/>').text("No districts found.")),t.attr("disabled","disabled"),n.attr("disabled","disabled"))})},populate_region_dropdown:function(e,t,i,n){var r=u(t),s=n||r.val();r.html(""),i[e]?u.each(i[e],function(){var e=this[0],t=this[1],i=u("<option/>",{value:e}).text(t);e==s&&i.attr("selected","selected"),r.append(i)}):r.append(u("<option/>").text("Other"))}}}(jQuery);var lrt4loaded=!1;$(document).ready(function(){try{App.Global.init()}catch(e){console.log(App.Global.module+"::init barfed  "+e)}$("form.form_on_focus input").each(function(){return""!=$(this).val()&&$(this).val()!==undefined||($(this).focus(),!1)}),$("a[data-popup]").on("click",function(e){window.open($(this).attr("href")),e.preventDefault()})}),App.IosAppLauncher||(App.IosAppLauncher={module:"App::IosAppLauncher",expired:!1}),App.IosAppLauncher.init=function(){console.log(this.module+"::init called");var e=60;"undefined"==typeof STUDENT_TOKEN_TTL_SECONDS?console.warn(this.module+"::init: STUDENT_TOKEN_TTL_SECONDS is not set; defaulting to 60."):e=STUDENT_TOKEN_TTL_SECONDS,setTimeout(App.IosAppLauncher.onExpirationTimeout,1e3*e)},App.IosAppLauncher.onExpirationTimeout=function(){App.IosAppLauncher.expired=!0,$(".dbl_smart_link.expiring_token").fadeOut(500,"easeInQuad",function(){$(".ipad_link_expired_container").fadeIn(1e3,"easeOutQuad")})},$(document).ready(function(){if(0!==$(".dbl_smart_link.expiring_token").length&&0!==$(".ipad_link_expired_container").length)try{App.IosAppLauncher.init()}catch(e){console.log(App.IosAppLauncher.module+"::init barfed "+e)}}),App.LessonsByAssignedFocus||(App.LessonsByAssignedFocus={module:"App::LessonsByAssignedFocus",dataBehavior:"update-lesson-data"}),App.LessonsByAssignedFocus.clear_dependent_selects=function(e){switch($(e)[0].id){case"filters_ast":$("#filters_level").val(""),$("#filters_domain").val(""),$("#filters_cluster").val(""),$("#filters_standard").val("");break;case"filters_level":$("#filters_domain").val(""),$("#filters_cluster").val(""),$("#filters_standard").val("");break;case"filters_domain":$("#filters_cluster").val(""),$("#filters_standard").val("");break;case"filters_cluster":$("#filters_standard").val("")}},App.LessonsByAssignedFocus.init=function(){console.log(this.module+"::init called"),$(document).on("click",".mo_info",function(){var t=this;$.ajax({url:"get_mo_names",data:{lesson_id:$(this).data("lesson_id"),mo_ids:$(this).data("mo_ids")},success:function(e){$(t).html(e.join("<br>"))}})}),$(".dependent_select").change(function(){App.LessonsByAssignedFocus.clear_dependent_selects(this),$(this.form).submit()})},$(document).ready(function(){if(0!=$("[data-behavior~="+App.LessonsByAssignedFocus.dataBehavior+"]").length)try{App.LessonsByAssignedFocus.init()}catch(e){console.log(App.LessonsByAssignedFocus.module+"::init barfed "+e)}}),App.LipInitialRecommendations||(App.LipInitialRecommendations={module:"App::LipInitialRecommendations",dataBehavior:"lip_initial_recommendations"}),App.LipInitialRecommendations.init=function(){console.log(this.module+"::init called"),$("select#grade_map_id").change(function(){var e=$(this).find("option:selected").val();if(e){var t=$("tr[data-lip-grade-id]");t.not("[data-lip-grade-id="+e+"]").hide(),t.filter("[data-lip-grade-id="+e+"]").show()}else $("tr[data-lip-grade-id]").show()}),$("#submit_button").click(function(){$("#submit_button").prop("disabled",!0),$("tr.lip_grade, tr.recommendation-results").remove();var s=$("#asts").data("studentid"),e=$("select#grade_map_id option").not(":empty"),t=e.filter(":selected"),o=t.length?t:e,a=$.Deferred().resolve();$("#asts tr.ast").has(".ast_checkbox:checked").each(function(){var t=$(this),i=t.find("[data-name]").data("name"),n=t.find("[data-country]").data("country"),r=t.find("[data-region]").data("region");o.each(function(){var e=$(this).val();a=a.then(function(){return console.log("Processing "+i+" - "+e),$.ajax({url:"lip_initial_recommendations/recommendations_after_placements",data:{studentid:s,ast_name:i,country:n,region:r,grade_id:e},beforeSend:function(){$("#spinner").css("visibility","visible")}}).fail(function(e){t.after(e.status+"-"+e.statusText)}).done(function(e){t.after(e.html),t=$("tr.recommendation-results").last()})})})}),a.always(function(){$("#spinner").css("visibility","hidden"),$("#submit_button").prop("disabled",!1)})}),$("#check_all").click(function(){$(".ast_checkbox").prop("checked",$(this).prop("checked"))})},$(document).ready(function(){if(0!=$("[data-behavior~="+App.LipInitialRecommendations.dataBehavior+"]").length)try{App.LipInitialRecommendations.init()}catch(e){console.log(App.LipInitialRecommendations.module+"::init barfed "+e)}}),App.Login||(App.Login={module:"App::Login",password_set:!1,submitted:!1}),App.Login.init=function(){console.log(this.module+"::init called"),$("div#confirm_dialog").dialog({autoOpen:!1,draggable:!1,width:500,resizable:!1,modal:!0}),App.Login.password_set=!1,$("img.has-hover").each(function(){var e,t,i,n,r;-1!=(t=n=this.src).indexOf("?")&&(n=(r=t.split("?",2))[0],e=r[1]),i=n.substring(0,n.length-4)+"_hover"+n.substr(n.length-4),-1!=t.indexOf("?")&&(i+="?"+e),$(this).mouseout(function(e){e.target.src=t}).mouseover(function(e){e.target.src=i})}),$("#formPicturePassword").submit(function(){return!App.Login.submitted&&!App.Login.password_set&&(App.Login.submitted=!0)}),$("#dashboard").on("click",function(){var e=$(this).closest("form"),t=$(this).attr("data-action")||e.attr("action");return App.Login.dashboard(e,t),!1}),$("#returning_action_dashboard").on("click",function(){var e=$(this).attr("data-location");return window.location.href=e,!1}),$("#returning_action_play, #playAgain").on("click",function(){var e=$(this).attr("data-location");return window.location.href=e,!1}),$("#play").on("click",function(){var e=$(this).closest("form");return App.Login.play(e),!1}),$('[data-behavior="choose-avatar"]').on("click",function(){var e=$(this).attr("data-index");return App.Login.showConfirmDialog(e),!1}),$('[data-behavior="prepare-password"]').on("click",function(){return!App.Login.submitted&&!App.Login.password_set&&($("#selected_picture_pass").val($(this).attr("data-index")),!0)}),$('[data-behavior="confirm-picture-pass"]').on("click",function(){App.Login.confirmPicturePass()}),$('[data-behavior="hide-confirm-dialogue"]').on("click",function(){return App.Login.hideConfirmDialog(),!1}),$("#txtEmailAddress").length&&App.Login.focus($("#txtEmailAddress")),$("#formForgotPassword").submit(function(){return!App.Login.submitted&&(App.Login.submitted=!0)})},App.Login.dashboard=function(e,t){e.get(0).setAttribute("action",t),e.submit()},App.Login.play=function(e){e.submit()},App.Login.focus=function(e){""===e.val().trim()&&e.focus()},App.Login.showConfirmDialog=function(e){if(this.password_set)return!0;var t=e;return $("#selected_picture_pass").val(e),$("img#selected_image").removeClass().addClass("picture_pass_"+t+"_icon"),$("div#confirm_dialog").dialog("open"),$(".ui-widget-overlay").css("background","#000000").css("opacity","0.6").css("background-image","none"),!1},App.Login.hideConfirmDialog=function(){$("div#confirm_dialog").dialog("close")},App.Login.confirmPicturePass=function(){App.Login.hideConfirmDialog(),App.Login.password_set=!0,$("#confirmed_picture_pass").val($("#selected_picture_pass").val())},$(document).ready(function(){if(0!=$("#login_layout, #picture_password_login_layout").length)try{App.Login.init()}catch(e){console.log(App.Login.module+"::init barfed "+e)}}),App.Placements||(App.Placements={module:"App::Placements",dataBehavior:"placements"}),App.Placements.not_validated_for_submit=function(){$("#placement_submit_button").prop("disabled",!0),$("#placement_validated").val(!1)},App.Placements.validated_for_submit=function(){$("#placement_validated").val(!0)},App.Placements.not_ready_for_validate=function(){$("#placement_validate_button").prop("disabled",!0)},App.Placements.ready_for_validate=function(){$("#placement_validate_button").prop("disabled",!1)},App.Placements.select_usecase=function(e){$("#usecases #description p").hide(),$("#usecases button").removeClass("selected"),e&&($("input#selected_usecase").val(e),$("button#"+e).addClass("selected"),$("#usecases #description p#"+e).show())},App.Placements.recalculate_ready_for_validation=function(){return $("#placement_grade").val()&&$("#placement_reason").val()&&0<$("#usecases button.selected").length&&(0<$(".placement_user_checkbox:checked").length||0===$(".placement_user_checkbox").length)?(App.Placements.ready_for_validate(),!0):(App.Placements.not_ready_for_validate(),App.Placements.not_validated_for_submit(),!1)},App.Placements.clear_summary=function(){$("#summary p").empty(),$("#summary h3").empty()},App.Placements.set_start_state=function(){"true"===$("#show_controls").val()&&$("#hidden-controls").show(),App.Placements.select_usecase($("#selected_usecase").val()),App.Placements.recalculate_ready_for_validation(),"true"!==$("#placement_validated").val()&&$("#placement_submit_button").prop("disabled",!0)},App.Placements.wire_usecase_controls=function(){$("#moving_forward_preservative").click(function(){$("#proficiency_additions").prop("checked",!0),$("#no_proficiency_reductions").prop("checked",!0),App.Placements.select_usecase(this.id),App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary(),App.Placements.not_validated_for_submit()}),$("#moving_back_preservative").click(function(){$("#no_proficiency_additions").prop("checked",!0),$("#pp_proficiency_reductions").prop("checked",!0),App.Placements.select_usecase(this.id),App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary(),App.Placements.not_validated_for_submit()}),$("#moving_back_destructive").click(function(){$("#no_proficiency_additions").prop("checked",!0),$("#any_proficiency_reductions").prop("checked",!0),App.Placements.select_usecase(this.id),App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary(),App.Placements.not_validated_for_submit()}),$('#placement_form>input[type="radio"], #placement_grade').change(function(){App.Placements.not_validated_for_submit()}),$("select#placement_grade").change(function(){App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary()}),$("select#placement_reason").change(function(){App.Placements.recalculate_ready_for_validation()||App.Placements.clear_summary()}),$(".placement_user_checkbox").change(function(){App.Placements.recalculate_ready_for_validation(),App.Placements.clear_summary(),$(this).is(":checked")?(App.Placements.not_validated_for_submit(),$(this).closest("tr").find("td.summary-dry-run").show()):$(this).closest("tr").find("td.summary-dry-run").hide()}),$("#show-controls").dblclick(function(e){e.metaKey&&($("#hidden-controls").show(),$("#show_controls").val(!0))})},App.Placements.init=function(){console.log(this.module+"::init called"),App.Placements.set_start_state(),App.Placements.wire_usecase_controls(),$("#placement_validate_button").click(function(){$("#placement_validated").val(!1),App.Placements.validated_for_submit()}),$("#placement_submit_button").click(function(){$("#placement_validated").val(!1)}),$("#check_all").click(function(){$(".placement_user_checkbox:not(:disabled)").prop("checked",$(this).prop("checked")).trigger("change")})},$(document).ready(function(){if(0!==$("[data-behavior~="+App.Placements.dataBehavior+"]").length)try{App.Placements.init()}catch(e){console.log(App.Placements.module+"::init barfed "+e)}});var __popupSource=null,__popupDefinition=null;App.RegionField||(App.RegionField={module:"App::RegionField",dataBehavior:"region-field-select",controller:"countries",action:"region_for_country"}),App.RegionField.init=function(){console.log(this.module+"::init called"),this.observer=$("[data-behavior~="+this.dataBehavior+"]"),this.observedId=this.observer.data("observed-id"),this.container=$("#"+this.observer.data("container-id")),this.xhrUrl="/"+this.controller+"/"+this.action,$("#"+this.observedId).on("change",function(){var e={country_id:$(this).val(),object_name:App.RegionField.observer.data("object-name"),method_name:App.RegionField.observer.data("method-name"),country_field_id:App.RegionField.observedId,selected:""};console.log("country_field_select changed "+JSON.stringify(e)),$.get(App.RegionField.xhrUrl,e,function(e){
App.RegionField.container.html(e)})})},$(document).ready(function(){if(0!=$("[data-behavior~="+App.RegionField.dataBehavior+"]").length)try{App.RegionField.init()}catch(e){console.log(App.RegionField.module+"::init barfed "+e)}});var Modernizr=window.Modernizr,capabilities={supportsSessionCookies:function(){return Modernizr.cookies},supportsLocalStorage:function(){return Modernizr.localstorage},supportsSessionStorage:function(){return Modernizr.sessionstorage},supportsECMA5:function(){return Modernizr.es5},supportedECMA5:function(){return{es5array:Modernizr.es5array,es5date:Modernizr.es5date,es5function:Modernizr.es5function,es5object:Modernizr.es5object,strictmode:Modernizr.strictmode,es5string:Modernizr.es5string,json:Modernizr.json,es5syntax:Modernizr.es5syntax,es5undefine:Modernizr.es5undefined}},supportsPerformance:function(){return!!window.performance},supportsTouch:function(){return Modernizr.touchevents},supportsCanvas:function(){return Modernizr.canvas},supportsWebGL:function(){if(!this.supportsCanvas())return!1;var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("webgl"))},supportsVideo:function(){return Modernizr.video},supportsH264BaselineVideo:function(){return Modernizr.video.h264},supportsOggTheoraVideo:function(){return Modernizr.video.ogg},supportsWebMVideo:function(){return Modernizr.video.webm},supportsWebAudio:function(){return Modernizr.webaudio},supportsAudio:function(){return Modernizr.audio},supportsMP3Audio:function(){return Modernizr.audio.mp3},supportsWavAudio:function(){return Modernizr.audio.wav},supportsOggAudio:function(){return Modernizr.audio.ogg},supportsWebWorkers:function(){return Modernizr.webworkers},supportsAppCache:function(){return Modernizr.applicationcache},supportsGeoLocation:function(){return Modernizr.geolocation},supportsMicrodataAPI:function(){return Modernizr.microdata}},AN_UNKNOWN_VERSION="-- an unknown version",NO_INFO="Information Not Available",testResult={PASS:"Pass",FAIL:"Fail",WARN:"Warning: Potential version issue",UPDATE:"Outdated version: Update Suggested",UNSUPPORTED_OS:"Unsupported Operating System",UNSUPPORTED_BROWSER:"Unsupported Browser"},firefox_iOS_min_version=18,infoFromUAString=getKeyInfoFromUAString(),ignoreHashChange=!1;$.ajaxSetup({timeout:3e4}),$.fn.loading=function(){$(this).html("<img src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' />")},$.extend({optionize:function(e){var i="";return $.each(e,function(e,t){i+="<option value='"+t[1]+"'>"+t[0]+"</option>"}),i}}),$.fn.rosterManagementPage=function(s){function e(e){"undefined"!=typeof e.regions&&($("#filter_region_id",o).html($.optionize(e.regions)),$("#filter_region_id",o).show(),$("#filter_region_id_loading",o).hide()),"undefined"!=typeof e.districts&&($("#filter_district_id",o).html($.optionize(e.districts)),$("#filter_district_id",o).show(),$("#filter_district_id_loading",o).hide()),"undefined"!=typeof e.schools&&($("#filter_school_id",o).html($.optionize(e.schools)),$("#filter_school_id",o).show(),$("#filter_school_id_loading",o).hide(),$("#filter_school_id",o).change()),n()}function t(e,t){"error"==t?$("#actions_form",o).html("<p class='error'>Error retrieving the classroom and students list.</p>"):"timeout"==t&&$("#actions_form",o).html("<p class='error'>Timed out while retrieving the classroom and students list.</p>")}function i(){function e(){$("#left_column span.error",o).html("Error getting student list")}function t(){$("#right_column span.error",o).html("Error getting student list")}function i(){var e=$("#actions_source_id").val(),t=$("#actions_destination_id").val(),i=$("#actions_source_student_ids",o).getGridParam("selarrrow"),n=$("#actions_destination_student_ids",o).getGridParam("selarrrow");void 0===i&&(i=[]),void 0===n&&(n=[]),"undefined"==typeof classrooms_allowed_to_modify&&(classrooms_allowed_to_modify=[]),$("#actions_submit.add_student_button").attr("disabled",0==i.length||"all_unassigned"==e),$("#actions_submit.move_student_button").attr("disabled",0==i.length||"all"==e||!classrooms_allowed_to_modify[e]),$("#actions_submit.remove_student_button").attr("disabled",0==n.length||!classrooms_allowed_to_modify[t]),$("#actions_submit.move_remove_student_button").attr("disabled",s||"all_unassigned"==e||!classrooms_allowed_to_modify[e])}function n(){var e=function(){$(this).getGridParam("selarrrow")&&$("#actions_destination_student_ids",o).resetSelection(),i()};$("#actions_source_student_ids",o).setGridParam({onSelectRow:e,onSelectAll:e});var t=function(){$(this).getGridParam("selarrrow")&&$("#actions_source_student_ids",o).resetSelection(),i()};$("#actions_destination_student_ids",o).setGridParam({onSelectRow:t,onSelectAll:t})}function r(e,t){$(e).jqGrid("clearGridData").jqGrid("setGridParam",{data:t,rowNum:t.length}).trigger("reloadGrid"),n()}$("#actions_source_id",o).after("<img id='actions_source_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),$("#actions_destination_id",o).after("<img id='actions_destination_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),i(),n(),$("#actions_source_id, #actions_grade",o).change(function(){$("#actions_destination_id option",o).attr("disabled",!1),$("#actions_destination_id option[value="+$("#actions_source_id",o).val()+"]",o).attr("disabled",!0),$("#actions_destination_id",o).val()==$("#actions_source_id",o).val()&&($("#actions_destination_id",o).val(""),$("#actions_destination_id",o).change()),$("#actions_source_student_ids",o).attr("disabled",!0),$("#actions_source_id_loading",o).show(),$.ajax({url:"roster_management/source_onchange",data:{actions:{source_id:$("#actions_source_id",o).val(),grade:$("#actions_grade",o).val()},school_id:$("#filter_school_id",o).val()},dataType:"json",success:function(e){r("#actions_source_student_ids",e),$("#actions_source_student_ids",o).attr("disabled",!1),$("#actions_source_id_loading",o).hide(),$("#left_column span.error",o).html(""),i()},error:e})}),$("#actions_destination_id",o).change(function(){$("#actions_source_id option",o).attr("disabled",!1),$("#actions_source_id option[value="+$(this).val()+"]",o).attr("disabled",!0),$("#actions_destination_id",o).val()==$("#actions_source_id",o).val()&&($("#actions_source_id",o).val("all"),$("#actions_source_id",o).change()),$("#actions_destination_student_ids",o).attr("disabled",!0),$("#actions_destination_id_loading",o).show(),$.ajax({url:"roster_management/destination_onchange",data:{actions:{destination_id:$(this).val(),grade:$("#grade",o).val()},school_id:$("#filter_school_id",o).val()},success:function(e){r("#actions_destination_student_ids",e),$("#actions_destination_student_ids",o).attr("disabled",!1),$("#actions_destination_id_loading",o).hide(),$("#right_column span.error",o).html(""),i()},error:t})})}function n(){ignoreHashChange=!0,$.bbq.pushState({country_id:$("#filter_country_id",o).val(),region_id:$("#filter_region_id",o).val(),district_id:$("#filter_district_id",o).val(),school_id:$("#filter_school_id",o).val()})}var o=this;$(".update, #filter_submit",o).hide(),$("#filter_region_id",o).after("<img id='filter_region_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),$("#filter_district_id",o).after("<img id='filter_district_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),$("#filter_school_id",o).after("<img id='filter_school_id_loading' src='/assets/wait30-fd7f32a8862609f42dd58dd94f33acfa1ad5d0895687fe5420e3e5c1e94b1857.gif' style='display: none;' width='15'/>"),$("#filter_school_id",o).change(function(){if($("#filter_school_id",o).val()){$("#actions_form",o).loading(),n();var e=$.deparam.fragment();isEmpty(e)&&(e=$.deparam.querystring().filter),$("#actions_form",o).load("roster_management/school_onchange",{school_id:$("#filter_school_id",o).val(),filter:e,hide_move_remove:s},function(e,t){"error"==t?$("#actions_form",o).html("<p class='error'>Error retrieving the classroom and students list.</p>"):"timeout"==t?$("#actions_form",o).html("<p class='error'>Timed out while retrieving the classroom and students list.</p>"):($(".update, #filter_submit",o).hide(),i())})}else $("#actions_form",o).html("")}),$("#filter_country_id",o).change(function(){$("#filter_region_id, #filter_district_id, #filter_school_id",o).hide(),$("#filter_region_id_loading, #filter_district_id_loading, #filter_school_id_loading",o).show(),$.ajax({url:"roster_management/filter_onchange",data:{country_id:$(this).val()},dataType:"json",success:e,error:t})}),$("#filter_region_id",o).change(function(){$("#filter_district_id, #filter_school_id",o).hide(),$("#filter_district_id_loading, #filter_school_id_loading",o).show(),$.ajax({url:"roster_management/filter_onchange",data:{region_id:$(this).val()},dataType:"json",success:e,error:t})}),$("#filter_district_id",o).change(function(){$("#filter_school_id",o).hide(),$("#filter_school_id_loading",o).show(),$.ajax({url:"roster_management/filter_onchange",data:{district_id:$(this).val()},dataType:"json",success:e,error:t})}),i(),$("tr.jqgfirstrow td, tr.ui-search-toolbar th, .ui-jqgrid-labels th",o).width(function(e,t){return t-4}),$("#left_column, #right_column",o).each(function(){})},$(function(){"undefined"==typeof hide_move_remove_button&&(hide_move_remove_button=!1),$("#roster_management").rosterManagementPage(hide_move_remove_button),0<$.param.fragment().length&&update_roster_ui_from_fragment(),$(window).bind("hashchange",update_roster_ui_from_fragment)}),App.SequencingStatus||(App.SequencingStatus={module:"App::SequencingStatus",dataBehavior:"sequencing_status"}),App.SequencingStatus.init=function(){console.log(this.module+"::init called"),$("a.required_mo, a.assessed_mo").mouseenter(function(){var e=$(this).data("moid");$("a.required_moid_"+e).add("a.assessed_moid_"+e).addClass("highlight"),highlightLearningGroups(e,$(this).closest("tr").data("learning_group"))}).mouseleave(function(){$("a").removeClass("highlight highlight_required highlight_assessed")}),$("a.lesson_with_mos").mouseenter(function(){var e=$(this).closest("tr"),t=e.data("learning_group");$(this).addClass("highlight"),e.find("a.required_mo").each(function(){var e=$(this).data("moid");$("a.required_moid_"+e).add("a.assessed_moid_"+e).addClass("highlight_required"),highlightLearningGroups(e,t)}),e.find("a.assessed_mo").each(function(){var e=$(this).data("moid");$("a.required_moid_"+e).add("a.assessed_moid_"+e).addClass("highlight_assessed"),highlightLearningGroups(e,t)})}).mouseleave(function(){$("a").removeClass("highlight highlight_required highlight_assessed")})},$(document).ready(function(){if(0!=$("[data-behavior~="+App.SequencingStatus.dataBehavior+"]").length)try{App.SequencingStatus.init()}catch(e){console.log(App.SequencingStatus.module+"::init barfed "+e)}}),POLLING_PERIOD_SECONDS=3e4,App.StudentInActiveSession||(App.StudentInActiveSession={module:"App::StudentInActiveSession",dataBehavior:"student_in_active_session"}),App.StudentInActiveSession.init=function(){console.log(this.module+"::init called"),App.StudentInActiveSession.poll_for_active_session()},App.StudentInActiveSession.poll_for_active_session=function(){$.ajax({url:"has_open_student_sessions",data:{id:$("#student_in_active_session").data("student_id")},success:function(e){e?$("#student_in_active_session").show():$("#student_in_active_session").hide()}}),setTimeout(App.StudentInActiveSession.poll_for_active_session,POLLING_PERIOD_SECONDS)},$(document).ready(function(){if(0!=$("[data-behavior~="+App.StudentInActiveSession.dataBehavior+"]").length)try{App.StudentInActiveSession.init()}catch(e){console.log(App.StudentInActiveSession.module+"::init barfed "+e)}}),App.TeacherForms||(App.TeacherForms={module:"App::TeacherForms"}),App.TeacherForms.init=function(){console.log(this.module+"::init called"),$$("input",{type:"image",src:"/assets/teacher/calculatePricing_off-5df87ee5112a74f8830dbea26a7423568ece96aee2bb1a879931d808f64b64e5.gif",id:"calculate_price_button"}).appendTo($("#schools_license_request_calculate_price_button_holder")),$("#calculate_price_button").hover(function(){this.src="/assets/teacher/calculatePricing_on-f52de1d1ca49757bfe552514f41e8b389959db39901236d6ec18771ee50d00cd.gif"},function(){this.src="/assets/teacher/calculatePricing_off-5df87ee5112a74f8830dbea26a7423568ece96aee2bb1a879931d808f64b64e5.gif"}),$("#calculate_price_button").click(function(){return $(this).disable(),$.get("/forms/calculate_price",{students:$("#schools_license_request_student_licenses").val(),license_type_id:$("#schools_license_request_license_type_id").val(),country_id:$("#schools_license_request_country_id").val()},function(e){$("#schools_license_request_price").html(e),$("#calculate_price_button").enable()},"text"),!1})},$(document).ready(function(){if(0!=$("#forms_layout").length)try{App.TeacherForms.init()}catch(e){console.log(App.TeacherForms.module+"::init barfed "+e)}});var student_login_submitted=!1;$(document).ready(function(){$("#formStudentTextPassword").submit(function(){return!student_login_submitted&&(student_login_submitted=!0)})}),App.UpdateCard||(App.UpdateCard={module:"App::UpdateCard"}),App.UpdateCard.init=function(){function e(e){e.error?console.log(e):($("#credit_card_brand").val(e.card.brand),$("#credit_card_last4").val(e.card.last4),$("#credit_card_expiry_month").val(e.card.exp_month),$("#credit_card_expiry_year").val(e.card.exp_year),$("#credit_card_token").val(e.id),$("#credit_card_zip").val(e.card.address_zip),$("#credit_card_country").val(e.card.country),$("#update_card_form").submit())}console.log(this.module+"::init called");var t=$("#update_card_button");t.length&&(handler=StripeCheckout.configure({name:"Dreambox Learning",key:t.data("stripe_pk"),panelLabel:"Update Card Details",image:t.data("image"),email:t.data("email"),zipCode:!0,locale:"auto",color:"black",allowRememberMe:!1,token:e}),t.on("click",function(e){handler.open(),e.preventDefault()}),$(window).on("popstate",function(){handler.close()}))},$(document).ready(function(){if(0!=$("#dashboards_layout").length)try{App.UpdateCard.init()}catch(e){console.log(App.UpdateCard.module+"::init barfed "+e)}});